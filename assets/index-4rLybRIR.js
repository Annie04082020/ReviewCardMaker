var zf=a=>{throw TypeError(a)};var iu=(a,t,e)=>t.has(a)||zf("Cannot "+e);var Vt=(a,t,e)=>(iu(a,t,"read from private field"),e?e.call(a):t.get(a)),xn=(a,t,e)=>t.has(a)?zf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(a):t.set(a,e),Oe=(a,t,e,n)=>(iu(a,t,"write to private field"),n?n.call(a,e):t.set(a,e),e),bn=(a,t,e)=>(iu(a,t,"access private method"),e);var Vf=(a,t,e,n)=>({set _(s){Oe(a,t,s,e)},get _(){return Vt(a,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function Tm(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var su={exports:{}},Cr={},ru={exports:{}},At={};var Hf;function O1(){if(Hf)return At;Hf=1;var a=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function _(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,w={};function P(I,z,nt){this.props=I,this.context=z,this.refs=w,this.updater=nt||v}P.prototype.isReactComponent={},P.prototype.setState=function(I,z){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,z,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function A(){}A.prototype=P.prototype;function C(I,z,nt){this.props=I,this.context=z,this.refs=w,this.updater=nt||v}var S=C.prototype=new A;S.constructor=C,x(S,P.prototype),S.isPureReactComponent=!0;var E=Array.isArray,T=Object.prototype.hasOwnProperty,M={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function O(I,z,nt){var pt,ft={},yt=null,_t=null;if(z!=null)for(pt in z.ref!==void 0&&(_t=z.ref),z.key!==void 0&&(yt=""+z.key),z)T.call(z,pt)&&!N.hasOwnProperty(pt)&&(ft[pt]=z[pt]);var St=arguments.length-2;if(St===1)ft.children=nt;else if(1<St){for(var Et=Array(St),te=0;te<St;te++)Et[te]=arguments[te+2];ft.children=Et}if(I&&I.defaultProps)for(pt in St=I.defaultProps,St)ft[pt]===void 0&&(ft[pt]=St[pt]);return{$$typeof:a,type:I,key:yt,ref:_t,props:ft,_owner:M.current}}function V(I,z){return{$$typeof:a,type:I.type,key:z,ref:I.ref,props:I.props,_owner:I._owner}}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function tt(I){var z={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(nt){return z[nt]})}var ht=/\/+/g;function H(I,z){return typeof I=="object"&&I!==null&&I.key!=null?tt(""+I.key):z.toString(36)}function Q(I,z,nt,pt,ft){var yt=typeof I;(yt==="undefined"||yt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(yt){case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case a:case t:_t=!0}}if(_t)return _t=I,ft=ft(_t),I=pt===""?"."+H(_t,0):pt,E(ft)?(nt="",I!=null&&(nt=I.replace(ht,"$&/")+"/"),Q(ft,z,nt,"",function(te){return te})):ft!=null&&(Y(ft)&&(ft=V(ft,nt+(!ft.key||_t&&_t.key===ft.key?"":(""+ft.key).replace(ht,"$&/")+"/")+I)),z.push(ft)),1;if(_t=0,pt=pt===""?".":pt+":",E(I))for(var St=0;St<I.length;St++){yt=I[St];var Et=pt+H(yt,St);_t+=Q(yt,z,nt,Et,ft)}else if(Et=_(I),typeof Et=="function")for(I=Et.call(I),St=0;!(yt=I.next()).done;)yt=yt.value,Et=pt+H(yt,St++),_t+=Q(yt,z,nt,Et,ft);else if(yt==="object")throw z=String(I),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return _t}function st(I,z,nt){if(I==null)return I;var pt=[],ft=0;return Q(I,pt,"","",function(yt){return z.call(nt,yt,ft++)}),pt}function X(I){if(I._status===-1){var z=I._result;z=z(),z.then(function(nt){(I._status===0||I._status===-1)&&(I._status=1,I._result=nt)},function(nt){(I._status===0||I._status===-1)&&(I._status=2,I._result=nt)}),I._status===-1&&(I._status=0,I._result=z)}if(I._status===1)return I._result.default;throw I._result}var K={current:null},U={transition:null},J={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:U,ReactCurrentOwner:M};function et(){throw Error("act(...) is not supported in production builds of React.")}return At.Children={map:st,forEach:function(I,z,nt){st(I,function(){z.apply(this,arguments)},nt)},count:function(I){var z=0;return st(I,function(){z++}),z},toArray:function(I){return st(I,function(z){return z})||[]},only:function(I){if(!Y(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},At.Component=P,At.Fragment=e,At.Profiler=s,At.PureComponent=C,At.StrictMode=n,At.Suspense=h,At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,At.act=et,At.cloneElement=function(I,z,nt){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var pt=x({},I.props),ft=I.key,yt=I.ref,_t=I._owner;if(z!=null){if(z.ref!==void 0&&(yt=z.ref,_t=M.current),z.key!==void 0&&(ft=""+z.key),I.type&&I.type.defaultProps)var St=I.type.defaultProps;for(Et in z)T.call(z,Et)&&!N.hasOwnProperty(Et)&&(pt[Et]=z[Et]===void 0&&St!==void 0?St[Et]:z[Et])}var Et=arguments.length-2;if(Et===1)pt.children=nt;else if(1<Et){St=Array(Et);for(var te=0;te<Et;te++)St[te]=arguments[te+2];pt.children=St}return{$$typeof:a,type:I.type,key:ft,ref:yt,props:pt,_owner:_t}},At.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},At.createElement=O,At.createFactory=function(I){var z=O.bind(null,I);return z.type=I,z},At.createRef=function(){return{current:null}},At.forwardRef=function(I){return{$$typeof:c,render:I}},At.isValidElement=Y,At.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:X}},At.memo=function(I,z){return{$$typeof:d,type:I,compare:z===void 0?null:z}},At.startTransition=function(I){var z=U.transition;U.transition={};try{I()}finally{U.transition=z}},At.unstable_act=et,At.useCallback=function(I,z){return K.current.useCallback(I,z)},At.useContext=function(I){return K.current.useContext(I)},At.useDebugValue=function(){},At.useDeferredValue=function(I){return K.current.useDeferredValue(I)},At.useEffect=function(I,z){return K.current.useEffect(I,z)},At.useId=function(){return K.current.useId()},At.useImperativeHandle=function(I,z,nt){return K.current.useImperativeHandle(I,z,nt)},At.useInsertionEffect=function(I,z){return K.current.useInsertionEffect(I,z)},At.useLayoutEffect=function(I,z){return K.current.useLayoutEffect(I,z)},At.useMemo=function(I,z){return K.current.useMemo(I,z)},At.useReducer=function(I,z,nt){return K.current.useReducer(I,z,nt)},At.useRef=function(I){return K.current.useRef(I)},At.useState=function(I){return K.current.useState(I)},At.useSyncExternalStore=function(I,z,nt){return K.current.useSyncExternalStore(I,z,nt)},At.useTransition=function(){return K.current.useTransition()},At.version="18.3.1",At}var Uf;function rh(){return Uf||(Uf=1,ru.exports=O1()),ru.exports}var Gf;function B1(){if(Gf)return Cr;Gf=1;var a=rh(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,d){var p,g={},_=null,v=null;d!==void 0&&(_=""+d),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(v=h.ref);for(p in h)n.call(h,p)&&!o.hasOwnProperty(p)&&(g[p]=h[p]);if(c&&c.defaultProps)for(p in h=c.defaultProps,h)g[p]===void 0&&(g[p]=h[p]);return{$$typeof:t,type:c,key:_,ref:v,props:g,_owner:s.current}}return Cr.Fragment=e,Cr.jsx=l,Cr.jsxs=l,Cr}var $f;function j1(){return $f||($f=1,su.exports=B1()),su.exports}var k=j1(),G=rh();const ah=Tm(G);var _o={},au={exports:{}},Be={},ou={exports:{}},lu={};var Wf;function z1(){return Wf||(Wf=1,(function(a){function t(U,J){var et=U.length;U.push(J);t:for(;0<et;){var I=et-1>>>1,z=U[I];if(0<s(z,J))U[I]=J,U[et]=z,et=I;else break t}}function e(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var J=U[0],et=U.pop();if(et!==J){U[0]=et;t:for(var I=0,z=U.length,nt=z>>>1;I<nt;){var pt=2*(I+1)-1,ft=U[pt],yt=pt+1,_t=U[yt];if(0>s(ft,et))yt<z&&0>s(_t,ft)?(U[I]=_t,U[yt]=et,I=yt):(U[I]=ft,U[pt]=et,I=pt);else if(yt<z&&0>s(_t,et))U[I]=_t,U[yt]=et,I=yt;else break t}}return J}function s(U,J){var et=U.sortIndex-J.sortIndex;return et!==0?et:U.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();a.unstable_now=function(){return l.now()-c}}var h=[],d=[],p=1,g=null,_=3,v=!1,x=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(U){for(var J=e(d);J!==null;){if(J.callback===null)n(d);else if(J.startTime<=U)n(d),J.sortIndex=J.expirationTime,t(h,J);else break;J=e(d)}}function E(U){if(w=!1,S(U),!x)if(e(h)!==null)x=!0,X(T);else{var J=e(d);J!==null&&K(E,J.startTime-U)}}function T(U,J){x=!1,w&&(w=!1,A(O),O=-1),v=!0;var et=_;try{for(S(J),g=e(h);g!==null&&(!(g.expirationTime>J)||U&&!tt());){var I=g.callback;if(typeof I=="function"){g.callback=null,_=g.priorityLevel;var z=I(g.expirationTime<=J);J=a.unstable_now(),typeof z=="function"?g.callback=z:g===e(h)&&n(h),S(J)}else n(h);g=e(h)}if(g!==null)var nt=!0;else{var pt=e(d);pt!==null&&K(E,pt.startTime-J),nt=!1}return nt}finally{g=null,_=et,v=!1}}var M=!1,N=null,O=-1,V=5,Y=-1;function tt(){return!(a.unstable_now()-Y<V)}function ht(){if(N!==null){var U=a.unstable_now();Y=U;var J=!0;try{J=N(!0,U)}finally{J?H():(M=!1,N=null)}}else M=!1}var H;if(typeof C=="function")H=function(){C(ht)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,st=Q.port2;Q.port1.onmessage=ht,H=function(){st.postMessage(null)}}else H=function(){P(ht,0)};function X(U){N=U,M||(M=!0,H())}function K(U,J){O=P(function(){U(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(U){U.callback=null},a.unstable_continueExecution=function(){x||v||(x=!0,X(T))},a.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<U?Math.floor(1e3/U):5},a.unstable_getCurrentPriorityLevel=function(){return _},a.unstable_getFirstCallbackNode=function(){return e(h)},a.unstable_next=function(U){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var et=_;_=J;try{return U()}finally{_=et}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var et=_;_=U;try{return J()}finally{_=et}},a.unstable_scheduleCallback=function(U,J,et){var I=a.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?I+et:I):et=I,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=et+z,U={id:p++,callback:J,priorityLevel:U,startTime:et,expirationTime:z,sortIndex:-1},et>I?(U.sortIndex=et,t(d,U),e(h)===null&&U===e(d)&&(w?(A(O),O=-1):w=!0,K(E,et-I))):(U.sortIndex=z,t(h,U),x||v||(x=!0,X(T))),U},a.unstable_shouldYield=tt,a.unstable_wrapCallback=function(U){var J=_;return function(){var et=_;_=J;try{return U.apply(this,arguments)}finally{_=et}}}})(lu)),lu}var qf;function V1(){return qf||(qf=1,ou.exports=z1()),ou.exports}var Kf;function H1(){if(Kf)return Be;Kf=1;var a=rh(),t=V1();function e(i){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,r){l(i,r),l(i+"Capture",r)}function l(i,r){for(s[i]=r,i=0;i<r.length;i++)n.add(r[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function _(i){return h.call(g,i)?!0:h.call(p,i)?!1:d.test(i)?g[i]=!0:(p[i]=!0,!1)}function v(i,r,u,f){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,r,u,f){if(r===null||typeof r>"u"||v(i,r,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function w(i,r,u,f,m,y,b){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=r,this.sanitizeURL=y,this.removeEmptyString=b}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new w(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var r=i[0];P[r]=new w(r,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new w(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new w(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new w(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new w(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new w(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new w(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new w(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function C(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var r=i.replace(A,C);P[r]=new w(r,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var r=i.replace(A,C);P[r]=new w(r,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var r=i.replace(A,C);P[r]=new w(r,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new w(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new w(i,1,!1,i.toLowerCase(),null,!0,!0)});function S(i,r,u,f){var m=P.hasOwnProperty(r)?P[r]:null;(m!==null?m.type!==0:f||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(x(r,u,m,f)&&(u=null),f||m===null?_(r)&&(u===null?i.removeAttribute(r):i.setAttribute(r,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(r=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(r):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,r,u):i.setAttribute(r,u))))}var E=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),tt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),U=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var et=Object.assign,I;function z(i){if(I===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);I=r&&r[1]||""}return`
`+I+i}var nt=!1;function pt(i,r){if(!i||nt)return"";nt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var f=j}Reflect.construct(i,[],r)}else{try{r.call()}catch(j){f=j}i.call(r.prototype)}else{try{throw Error()}catch(j){f=j}i()}}catch(j){if(j&&f&&typeof j.stack=="string"){for(var m=j.stack.split(`
`),y=f.stack.split(`
`),b=m.length-1,L=y.length-1;1<=b&&0<=L&&m[b]!==y[L];)L--;for(;1<=b&&0<=L;b--,L--)if(m[b]!==y[L]){if(b!==1||L!==1)do if(b--,L--,0>L||m[b]!==y[L]){var D=`
`+m[b].replace(" at new "," at ");return i.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",i.displayName)),D}while(1<=b&&0<=L);break}}}finally{nt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?z(i):""}function ft(i){switch(i.tag){case 5:return z(i.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return i=pt(i.type,!1),i;case 11:return i=pt(i.type.render,!1),i;case 1:return i=pt(i.type,!0),i;default:return""}}function yt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case M:return"Portal";case V:return"Profiler";case O:return"StrictMode";case H:return"Suspense";case Q:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case tt:return(i.displayName||"Context")+".Consumer";case Y:return(i._context.displayName||"Context")+".Provider";case ht:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case st:return r=i.displayName||null,r!==null?r:yt(i.type)||"Memo";case X:r=i._payload,i=i._init;try{return yt(i(r))}catch{}}return null}function _t(i){var r=i.type;switch(i.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=r.render,i=i.displayName||i.name||"",r.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yt(r);case 8:return r===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function St(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Et(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function te(i){var r=Et(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r),f=""+i[r];if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,y.call(this,b)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ve(i){i._valueTracker||(i._valueTracker=te(i))}function vi(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var u=r.getValue(),f="";return i&&(f=Et(i)?i.checked?"true":"false":i.value),i=f,i!==u?(r.setValue(i),!0):!1}function wi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function zs(i,r){var u=r.checked;return et({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Wh(i,r){var u=r.defaultValue==null?"":r.defaultValue,f=r.checked!=null?r.checked:r.defaultChecked;u=St(r.value!=null?r.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function qh(i,r){r=r.checked,r!=null&&S(i,"checked",r,!1)}function hl(i,r){qh(i,r);var u=St(r.value),f=r.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}r.hasOwnProperty("value")?dl(i,r.type,u):r.hasOwnProperty("defaultValue")&&dl(i,r.type,St(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(i.defaultChecked=!!r.defaultChecked)}function Kh(i,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var f=r.type;if(!(f!=="submit"&&f!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+i._wrapperState.initialValue,u||r===i.value||(i.value=r),i.defaultValue=r}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function dl(i,r,u){(r!=="number"||wi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Vs=Array.isArray;function Yi(i,r,u,f){if(i=i.options,r){r={};for(var m=0;m<u.length;m++)r["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=r.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+St(u),r=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function pl(i,r){if(r.dangerouslySetInnerHTML!=null)throw Error(e(91));return et({},r,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xh(i,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(e(92));if(Vs(u)){if(1<u.length)throw Error(e(93));u=u[0]}r=u}r==null&&(r=""),u=r}i._wrapperState={initialValue:St(u)}}function Yh(i,r){var u=St(r.value),f=St(r.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),r.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Qh(i){var r=i.textContent;r===i._wrapperState.initialValue&&r!==""&&r!==null&&(i.value=r)}function Jh(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fl(i,r){return i==null||i==="http://www.w3.org/1999/xhtml"?Jh(r):i==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var la,Zh=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(r,u,f,m)})}:i})(function(i,r){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=r;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=la.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;r.firstChild;)i.appendChild(r.firstChild)}});function Hs(i,r){if(r){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=r;return}}i.textContent=r}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vy=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(i){Vy.forEach(function(r){r=r+i.charAt(0).toUpperCase()+i.substring(1),Us[r]=Us[i]})});function td(i,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||Us.hasOwnProperty(i)&&Us[i]?(""+r).trim():r+"px"}function ed(i,r){i=i.style;for(var u in r)if(r.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=td(u,r[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Hy=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(i,r){if(r){if(Hy[i]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(e(137,i));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(e(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(e(61))}if(r.style!=null&&typeof r.style!="object")throw Error(e(62))}}function ml(i,r){if(i.indexOf("-")===-1)return typeof r.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _l=null;function yl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vl=null,Qi=null,Ji=null;function nd(i){if(i=hr(i)){if(typeof vl!="function")throw Error(e(280));var r=i.stateNode;r&&(r=Ma(r),vl(i.stateNode,i.type,r))}}function id(i){Qi?Ji?Ji.push(i):Ji=[i]:Qi=i}function sd(){if(Qi){var i=Qi,r=Ji;if(Ji=Qi=null,nd(i),r)for(i=0;i<r.length;i++)nd(r[i])}}function rd(i,r){return i(r)}function ad(){}var wl=!1;function od(i,r,u){if(wl)return i(r,u);wl=!0;try{return rd(i,r,u)}finally{wl=!1,(Qi!==null||Ji!==null)&&(ad(),sd())}}function Gs(i,r){var u=i.stateNode;if(u===null)return null;var f=Ma(u);if(f===null)return null;u=f[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(e(231,r,typeof u));return u}var xl=!1;if(c)try{var $s={};Object.defineProperty($s,"passive",{get:function(){xl=!0}}),window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,$s)}catch{xl=!1}function Uy(i,r,u,f,m,y,b,L,D){var j=Array.prototype.slice.call(arguments,3);try{r.apply(u,j)}catch(W){this.onError(W)}}var Ws=!1,ca=null,ua=!1,bl=null,Gy={onError:function(i){Ws=!0,ca=i}};function $y(i,r,u,f,m,y,b,L,D){Ws=!1,ca=null,Uy.apply(Gy,arguments)}function Wy(i,r,u,f,m,y,b,L,D){if($y.apply(this,arguments),Ws){if(Ws){var j=ca;Ws=!1,ca=null}else throw Error(e(198));ua||(ua=!0,bl=j)}}function xi(i){var r=i,u=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(u=r.return),i=r.return;while(i)}return r.tag===3?u:null}function ld(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function cd(i){if(xi(i)!==i)throw Error(e(188))}function qy(i){var r=i.alternate;if(!r){if(r=xi(i),r===null)throw Error(e(188));return r!==i?null:i}for(var u=i,f=r;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return cd(m),i;if(y===f)return cd(m),r;y=y.sibling}throw Error(e(188))}if(u.return!==f.return)u=m,f=y;else{for(var b=!1,L=m.child;L;){if(L===u){b=!0,u=m,f=y;break}if(L===f){b=!0,f=m,u=y;break}L=L.sibling}if(!b){for(L=y.child;L;){if(L===u){b=!0,u=y,f=m;break}if(L===f){b=!0,f=y,u=m;break}L=L.sibling}if(!b)throw Error(e(189))}}if(u.alternate!==f)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?i:r}function ud(i){return i=qy(i),i!==null?hd(i):null}function hd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var r=hd(i);if(r!==null)return r;i=i.sibling}return null}var dd=t.unstable_scheduleCallback,pd=t.unstable_cancelCallback,Ky=t.unstable_shouldYield,Xy=t.unstable_requestPaint,Yt=t.unstable_now,Yy=t.unstable_getCurrentPriorityLevel,Pl=t.unstable_ImmediatePriority,fd=t.unstable_UserBlockingPriority,ha=t.unstable_NormalPriority,Qy=t.unstable_LowPriority,gd=t.unstable_IdlePriority,da=null,mn=null;function Jy(i){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(da,i,void 0,(i.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:e0,Zy=Math.log,t0=Math.LN2;function e0(i){return i>>>=0,i===0?32:31-(Zy(i)/t0|0)|0}var pa=64,fa=4194304;function qs(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ga(i,r){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,y=i.pingedLanes,b=u&268435455;if(b!==0){var L=b&~m;L!==0?f=qs(L):(y&=b,y!==0&&(f=qs(y)))}else b=u&~m,b!==0?f=qs(b):y!==0&&(f=qs(y));if(f===0)return 0;if(r!==0&&r!==f&&(r&m)===0&&(m=f&-f,y=r&-r,m>=y||m===16&&(y&4194240)!==0))return r;if((f&4)!==0&&(f|=u&16),r=i.entangledLanes,r!==0)for(i=i.entanglements,r&=f;0<r;)u=31-ln(r),m=1<<u,f|=i[u],r&=~m;return f}function n0(i,r){switch(i){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(i,r){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var b=31-ln(y),L=1<<b,D=m[b];D===-1?((L&u)===0||(L&f)!==0)&&(m[b]=n0(L,r)):D<=r&&(i.expiredLanes|=L),y&=~L}}function Al(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function md(){var i=pa;return pa<<=1,(pa&4194240)===0&&(pa=64),i}function Sl(i){for(var r=[],u=0;31>u;u++)r.push(i);return r}function Ks(i,r,u){i.pendingLanes|=r,r!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,r=31-ln(r),i[r]=u}function s0(i,r){var u=i.pendingLanes&~r;i.pendingLanes=r,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=r,i.mutableReadLanes&=r,i.entangledLanes&=r,r=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-ln(u),y=1<<m;r[m]=0,f[m]=-1,i[m]=-1,u&=~y}}function Cl(i,r){var u=i.entangledLanes|=r;for(i=i.entanglements;u;){var f=31-ln(u),m=1<<f;m&r|i[f]&r&&(i[f]|=r),u&=~m}}var Dt=0;function _d(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var yd,kl,vd,wd,xd,El=!1,ma=[],Gn=null,$n=null,Wn=null,Xs=new Map,Ys=new Map,qn=[],r0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bd(i,r){switch(i){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Xs.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(r.pointerId)}}function Qs(i,r,u,f,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:r,domEventName:u,eventSystemFlags:f,nativeEvent:y,targetContainers:[m]},r!==null&&(r=hr(r),r!==null&&kl(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function a0(i,r,u,f,m){switch(r){case"focusin":return Gn=Qs(Gn,i,r,u,f,m),!0;case"dragenter":return $n=Qs($n,i,r,u,f,m),!0;case"mouseover":return Wn=Qs(Wn,i,r,u,f,m),!0;case"pointerover":var y=m.pointerId;return Xs.set(y,Qs(Xs.get(y)||null,i,r,u,f,m)),!0;case"gotpointercapture":return y=m.pointerId,Ys.set(y,Qs(Ys.get(y)||null,i,r,u,f,m)),!0}return!1}function Pd(i){var r=bi(i.target);if(r!==null){var u=xi(r);if(u!==null){if(r=u.tag,r===13){if(r=ld(u),r!==null){i.blockedOn=r,xd(i.priority,function(){vd(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function _a(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var u=Ll(i.domEventName,i.eventSystemFlags,r[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);_l=f,u.target.dispatchEvent(f),_l=null}else return r=hr(u),r!==null&&kl(r),i.blockedOn=u,!1;r.shift()}return!0}function Ad(i,r,u){_a(i)&&u.delete(r)}function o0(){El=!1,Gn!==null&&_a(Gn)&&(Gn=null),$n!==null&&_a($n)&&($n=null),Wn!==null&&_a(Wn)&&(Wn=null),Xs.forEach(Ad),Ys.forEach(Ad)}function Js(i,r){i.blockedOn===r&&(i.blockedOn=null,El||(El=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,o0)))}function Zs(i){function r(m){return Js(m,i)}if(0<ma.length){Js(ma[0],i);for(var u=1;u<ma.length;u++){var f=ma[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Gn!==null&&Js(Gn,i),$n!==null&&Js($n,i),Wn!==null&&Js(Wn,i),Xs.forEach(r),Ys.forEach(r),u=0;u<qn.length;u++)f=qn[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<qn.length&&(u=qn[0],u.blockedOn===null);)Pd(u),u.blockedOn===null&&qn.shift()}var Zi=E.ReactCurrentBatchConfig,ya=!0;function l0(i,r,u,f){var m=Dt,y=Zi.transition;Zi.transition=null;try{Dt=1,Tl(i,r,u,f)}finally{Dt=m,Zi.transition=y}}function c0(i,r,u,f){var m=Dt,y=Zi.transition;Zi.transition=null;try{Dt=4,Tl(i,r,u,f)}finally{Dt=m,Zi.transition=y}}function Tl(i,r,u,f){if(ya){var m=Ll(i,r,u,f);if(m===null)ql(i,r,f,va,u),bd(i,f);else if(a0(m,i,r,u,f))f.stopPropagation();else if(bd(i,f),r&4&&-1<r0.indexOf(i)){for(;m!==null;){var y=hr(m);if(y!==null&&yd(y),y=Ll(i,r,u,f),y===null&&ql(i,r,f,va,u),y===m)break;m=y}m!==null&&f.stopPropagation()}else ql(i,r,f,null,u)}}var va=null;function Ll(i,r,u,f){if(va=null,i=yl(f),i=bi(i),i!==null)if(r=xi(i),r===null)i=null;else if(u=r.tag,u===13){if(i=ld(r),i!==null)return i;i=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null);return va=i,null}function Sd(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yy()){case Pl:return 1;case fd:return 4;case ha:case Qy:return 16;case gd:return 536870912;default:return 16}default:return 16}}var Kn=null,Ml=null,wa=null;function Cd(){if(wa)return wa;var i,r=Ml,u=r.length,f,m="value"in Kn?Kn.value:Kn.textContent,y=m.length;for(i=0;i<u&&r[i]===m[i];i++);var b=u-i;for(f=1;f<=b&&r[u-f]===m[y-f];f++);return wa=m.slice(i,1<f?1-f:void 0)}function xa(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ba(){return!0}function kd(){return!1}function He(i){function r(u,f,m,y,b){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(u=i[L],this[L]=u?u(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ba:kd,this.isPropagationStopped=kd,this}return et(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),r}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=He(ts),tr=et({},ts,{view:0,detail:0}),u0=He(tr),Dl,Rl,er,Pa=et({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fl,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==er&&(er&&i.type==="mousemove"?(Dl=i.screenX-er.screenX,Rl=i.screenY-er.screenY):Rl=Dl=0,er=i),Dl)},movementY:function(i){return"movementY"in i?i.movementY:Rl}}),Ed=He(Pa),h0=et({},Pa,{dataTransfer:0}),d0=He(h0),p0=et({},tr,{relatedTarget:0}),Nl=He(p0),f0=et({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),g0=He(f0),m0=et({},ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_0=He(m0),y0=et({},ts,{data:0}),Td=He(y0),v0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b0(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=x0[i])?!!r[i]:!1}function Fl(){return b0}var P0=et({},tr,{key:function(i){if(i.key){var r=v0[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=xa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?w0[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fl,charCode:function(i){return i.type==="keypress"?xa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),A0=He(P0),S0=et({},Pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=He(S0),C0=et({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fl}),k0=He(C0),E0=et({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),T0=He(E0),L0=et({},Pa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),M0=He(L0),I0=[9,13,27,32],Ol=c&&"CompositionEvent"in window,nr=null;c&&"documentMode"in document&&(nr=document.documentMode);var D0=c&&"TextEvent"in window&&!nr,Md=c&&(!Ol||nr&&8<nr&&11>=nr),Id=" ",Dd=!1;function Rd(i,r){switch(i){case"keyup":return I0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var es=!1;function R0(i,r){switch(i){case"compositionend":return Nd(r);case"keypress":return r.which!==32?null:(Dd=!0,Id);case"textInput":return i=r.data,i===Id&&Dd?null:i;default:return null}}function N0(i,r){if(es)return i==="compositionend"||!Ol&&Rd(i,r)?(i=Cd(),wa=Ml=Kn=null,es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Md&&r.locale!=="ko"?null:r.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fd(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!F0[i.type]:r==="textarea"}function Od(i,r,u,f){id(f),r=Ea(r,"onChange"),0<r.length&&(u=new Il("onChange","change",null,u,f),i.push({event:u,listeners:r}))}var ir=null,sr=null;function O0(i){ep(i,0)}function Aa(i){var r=as(i);if(vi(r))return i}function B0(i,r){if(i==="change")return r}var Bd=!1;if(c){var Bl;if(c){var jl="oninput"in document;if(!jl){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),jl=typeof jd.oninput=="function"}Bl=jl}else Bl=!1;Bd=Bl&&(!document.documentMode||9<document.documentMode)}function zd(){ir&&(ir.detachEvent("onpropertychange",Vd),sr=ir=null)}function Vd(i){if(i.propertyName==="value"&&Aa(sr)){var r=[];Od(r,sr,i,yl(i)),od(O0,r)}}function j0(i,r,u){i==="focusin"?(zd(),ir=r,sr=u,ir.attachEvent("onpropertychange",Vd)):i==="focusout"&&zd()}function z0(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Aa(sr)}function V0(i,r){if(i==="click")return Aa(r)}function H0(i,r){if(i==="input"||i==="change")return Aa(r)}function U0(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var cn=typeof Object.is=="function"?Object.is:U0;function rr(i,r){if(cn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var u=Object.keys(i),f=Object.keys(r);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(r,m)||!cn(i[m],r[m]))return!1}return!0}function Hd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ud(i,r){var u=Hd(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=r&&f>=r)return{node:u,offset:r-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Hd(u)}}function Gd(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Gd(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function $d(){for(var i=window,r=wi();r instanceof i.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)i=r.contentWindow;else break;r=wi(i.document)}return r}function zl(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}function G0(i){var r=$d(),u=i.focusedElem,f=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&Gd(u.ownerDocument.documentElement,u)){if(f!==null&&zl(u)){if(r=f.start,i=f.end,i===void 0&&(i=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(i,u.value.length);else if(i=(r=u.ownerDocument||document)&&r.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,y=Math.min(f.start,m);f=f.end===void 0?y:Math.min(f.end,m),!i.extend&&y>f&&(m=f,f=y,y=m),m=Ud(u,y);var b=Ud(u,f);m&&b&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),i.removeAllRanges(),y>f?(i.addRange(r),i.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),i.addRange(r)))}}for(r=[],i=u;i=i.parentNode;)i.nodeType===1&&r.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)i=r[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var $0=c&&"documentMode"in document&&11>=document.documentMode,ns=null,Vl=null,ar=null,Hl=!1;function Wd(i,r,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Hl||ns==null||ns!==wi(f)||(f=ns,"selectionStart"in f&&zl(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ar&&rr(ar,f)||(ar=f,f=Ea(Vl,"onSelect"),0<f.length&&(r=new Il("onSelect","select",null,r,u),i.push({event:r,listeners:f}),r.target=ns)))}function Sa(i,r){var u={};return u[i.toLowerCase()]=r.toLowerCase(),u["Webkit"+i]="webkit"+r,u["Moz"+i]="moz"+r,u}var is={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Ul={},qd={};c&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Ca(i){if(Ul[i])return Ul[i];if(!is[i])return i;var r=is[i],u;for(u in r)if(r.hasOwnProperty(u)&&u in qd)return Ul[i]=r[u];return i}var Kd=Ca("animationend"),Xd=Ca("animationiteration"),Yd=Ca("animationstart"),Qd=Ca("transitionend"),Jd=new Map,Zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(i,r){Jd.set(i,r),o(r,[i])}for(var Gl=0;Gl<Zd.length;Gl++){var $l=Zd[Gl],W0=$l.toLowerCase(),q0=$l[0].toUpperCase()+$l.slice(1);Xn(W0,"on"+q0)}Xn(Kd,"onAnimationEnd"),Xn(Xd,"onAnimationIteration"),Xn(Yd,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Qd,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("cancel close invalid load scroll toggle".split(" ").concat(or));function tp(i,r,u){var f=i.type||"unknown-event";i.currentTarget=u,Wy(f,r,void 0,i),i.currentTarget=null}function ep(i,r){r=(r&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;t:{var y=void 0;if(r)for(var b=f.length-1;0<=b;b--){var L=f[b],D=L.instance,j=L.currentTarget;if(L=L.listener,D!==y&&m.isPropagationStopped())break t;tp(m,L,j),y=D}else for(b=0;b<f.length;b++){if(L=f[b],D=L.instance,j=L.currentTarget,L=L.listener,D!==y&&m.isPropagationStopped())break t;tp(m,L,j),y=D}}}if(ua)throw i=bl,ua=!1,bl=null,i}function Bt(i,r){var u=r[Zl];u===void 0&&(u=r[Zl]=new Set);var f=i+"__bubble";u.has(f)||(np(r,i,2,!1),u.add(f))}function Wl(i,r,u){var f=0;r&&(f|=4),np(u,i,f,r)}var ka="_reactListening"+Math.random().toString(36).slice(2);function lr(i){if(!i[ka]){i[ka]=!0,n.forEach(function(u){u!=="selectionchange"&&(K0.has(u)||Wl(u,!1,i),Wl(u,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[ka]||(r[ka]=!0,Wl("selectionchange",!1,r))}}function np(i,r,u,f){switch(Sd(r)){case 1:var m=l0;break;case 4:m=c0;break;default:m=Tl}u=m.bind(null,r,u,i),m=void 0,!xl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(r,u,{capture:!0,passive:m}):i.addEventListener(r,u,!0):m!==void 0?i.addEventListener(r,u,{passive:m}):i.addEventListener(r,u,!1)}function ql(i,r,u,f,m){var y=f;if((r&1)===0&&(r&2)===0&&f!==null)t:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var L=f.stateNode.containerInfo;if(L===m||L.nodeType===8&&L.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var D=b.tag;if((D===3||D===4)&&(D=b.stateNode.containerInfo,D===m||D.nodeType===8&&D.parentNode===m))return;b=b.return}for(;L!==null;){if(b=bi(L),b===null)return;if(D=b.tag,D===5||D===6){f=y=b;continue t}L=L.parentNode}}f=f.return}od(function(){var j=y,W=yl(u),q=[];t:{var $=Jd.get(i);if($!==void 0){var it=Il,lt=i;switch(i){case"keypress":if(xa(u)===0)break t;case"keydown":case"keyup":it=A0;break;case"focusin":lt="focus",it=Nl;break;case"focusout":lt="blur",it=Nl;break;case"beforeblur":case"afterblur":it=Nl;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Ed;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=d0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=k0;break;case Kd:case Xd:case Yd:it=g0;break;case Qd:it=T0;break;case"scroll":it=u0;break;case"wheel":it=M0;break;case"copy":case"cut":case"paste":it=_0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Ld}var ct=(r&4)!==0,Qt=!ct&&i==="scroll",F=ct?$!==null?$+"Capture":null:$;ct=[];for(var R=j,B;R!==null;){B=R;var Z=B.stateNode;if(B.tag===5&&Z!==null&&(B=Z,F!==null&&(Z=Gs(R,F),Z!=null&&ct.push(cr(R,Z,B)))),Qt)break;R=R.return}0<ct.length&&($=new it($,lt,null,u,W),q.push({event:$,listeners:ct}))}}if((r&7)===0){t:{if($=i==="mouseover"||i==="pointerover",it=i==="mouseout"||i==="pointerout",$&&u!==_l&&(lt=u.relatedTarget||u.fromElement)&&(bi(lt)||lt[Tn]))break t;if((it||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,it?(lt=u.relatedTarget||u.toElement,it=j,lt=lt?bi(lt):null,lt!==null&&(Qt=xi(lt),lt!==Qt||lt.tag!==5&&lt.tag!==6)&&(lt=null)):(it=null,lt=j),it!==lt)){if(ct=Ed,Z="onMouseLeave",F="onMouseEnter",R="mouse",(i==="pointerout"||i==="pointerover")&&(ct=Ld,Z="onPointerLeave",F="onPointerEnter",R="pointer"),Qt=it==null?$:as(it),B=lt==null?$:as(lt),$=new ct(Z,R+"leave",it,u,W),$.target=Qt,$.relatedTarget=B,Z=null,bi(W)===j&&(ct=new ct(F,R+"enter",lt,u,W),ct.target=B,ct.relatedTarget=Qt,Z=ct),Qt=Z,it&&lt)e:{for(ct=it,F=lt,R=0,B=ct;B;B=ss(B))R++;for(B=0,Z=F;Z;Z=ss(Z))B++;for(;0<R-B;)ct=ss(ct),R--;for(;0<B-R;)F=ss(F),B--;for(;R--;){if(ct===F||F!==null&&ct===F.alternate)break e;ct=ss(ct),F=ss(F)}ct=null}else ct=null;it!==null&&ip(q,$,it,ct,!1),lt!==null&&Qt!==null&&ip(q,Qt,lt,ct,!0)}}t:{if($=j?as(j):window,it=$.nodeName&&$.nodeName.toLowerCase(),it==="select"||it==="input"&&$.type==="file")var ut=B0;else if(Fd($))if(Bd)ut=H0;else{ut=z0;var gt=j0}else(it=$.nodeName)&&it.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ut=V0);if(ut&&(ut=ut(i,j))){Od(q,ut,u,W);break t}gt&&gt(i,$,j),i==="focusout"&&(gt=$._wrapperState)&&gt.controlled&&$.type==="number"&&dl($,"number",$.value)}switch(gt=j?as(j):window,i){case"focusin":(Fd(gt)||gt.contentEditable==="true")&&(ns=gt,Vl=j,ar=null);break;case"focusout":ar=Vl=ns=null;break;case"mousedown":Hl=!0;break;case"contextmenu":case"mouseup":case"dragend":Hl=!1,Wd(q,u,W);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Wd(q,u,W)}var mt;if(Ol)t:{switch(i){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else es?Rd(i,u)&&(wt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(wt="onCompositionStart");wt&&(Md&&u.locale!=="ko"&&(es||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&es&&(mt=Cd()):(Kn=W,Ml="value"in Kn?Kn.value:Kn.textContent,es=!0)),gt=Ea(j,wt),0<gt.length&&(wt=new Td(wt,i,null,u,W),q.push({event:wt,listeners:gt}),mt?wt.data=mt:(mt=Nd(u),mt!==null&&(wt.data=mt)))),(mt=D0?R0(i,u):N0(i,u))&&(j=Ea(j,"onBeforeInput"),0<j.length&&(W=new Td("onBeforeInput","beforeinput",null,u,W),q.push({event:W,listeners:j}),W.data=mt))}ep(q,r)})}function cr(i,r,u){return{instance:i,listener:r,currentTarget:u}}function Ea(i,r){for(var u=r+"Capture",f=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=Gs(i,u),y!=null&&f.unshift(cr(i,y,m)),y=Gs(i,r),y!=null&&f.push(cr(i,y,m))),i=i.return}return f}function ss(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function ip(i,r,u,f,m){for(var y=r._reactName,b=[];u!==null&&u!==f;){var L=u,D=L.alternate,j=L.stateNode;if(D!==null&&D===f)break;L.tag===5&&j!==null&&(L=j,m?(D=Gs(u,y),D!=null&&b.unshift(cr(u,D,L))):m||(D=Gs(u,y),D!=null&&b.push(cr(u,D,L)))),u=u.return}b.length!==0&&i.push({event:r,listeners:b})}var X0=/\r\n?/g,Y0=/\u0000|\uFFFD/g;function sp(i){return(typeof i=="string"?i:""+i).replace(X0,`
`).replace(Y0,"")}function Ta(i,r,u){if(r=sp(r),sp(i)!==r&&u)throw Error(e(425))}function La(){}var Kl=null,Xl=null;function Yl(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(i){return rp.resolve(null).then(i).catch(Z0)}:Ql;function Z0(i){setTimeout(function(){throw i})}function Jl(i,r){var u=r,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),Zs(r);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);Zs(r)}function Yn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return i}function ap(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return i;r--}else u==="/$"&&r++}i=i.previousSibling}return null}var rs=Math.random().toString(36).slice(2),_n="__reactFiber$"+rs,ur="__reactProps$"+rs,Tn="__reactContainer$"+rs,Zl="__reactEvents$"+rs,t1="__reactListeners$"+rs,e1="__reactHandles$"+rs;function bi(i){var r=i[_n];if(r)return r;for(var u=i.parentNode;u;){if(r=u[Tn]||u[_n]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(i=ap(i);i!==null;){if(u=i[_n])return u;i=ap(i)}return r}i=u,u=i.parentNode}return null}function hr(i){return i=i[_n]||i[Tn],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function as(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(e(33))}function Ma(i){return i[ur]||null}var tc=[],os=-1;function Qn(i){return{current:i}}function jt(i){0>os||(i.current=tc[os],tc[os]=null,os--)}function Ft(i,r){os++,tc[os]=i.current,i.current=r}var Jn={},we=Qn(Jn),Ie=Qn(!1),Pi=Jn;function ls(i,r){var u=i.type.contextTypes;if(!u)return Jn;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===r)return f.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=r[y];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=r,i.__reactInternalMemoizedMaskedChildContext=m),m}function De(i){return i=i.childContextTypes,i!=null}function Ia(){jt(Ie),jt(we)}function op(i,r,u){if(we.current!==Jn)throw Error(e(168));Ft(we,r),Ft(Ie,u)}function lp(i,r,u){var f=i.stateNode;if(r=r.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in r))throw Error(e(108,_t(i)||"Unknown",m));return et({},u,f)}function Da(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Jn,Pi=we.current,Ft(we,i),Ft(Ie,Ie.current),!0}function cp(i,r,u){var f=i.stateNode;if(!f)throw Error(e(169));u?(i=lp(i,r,Pi),f.__reactInternalMemoizedMergedChildContext=i,jt(Ie),jt(we),Ft(we,i)):jt(Ie),Ft(Ie,u)}var Ln=null,Ra=!1,ec=!1;function up(i){Ln===null?Ln=[i]:Ln.push(i)}function n1(i){Ra=!0,up(i)}function Zn(){if(!ec&&Ln!==null){ec=!0;var i=0,r=Dt;try{var u=Ln;for(Dt=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}Ln=null,Ra=!1}catch(m){throw Ln!==null&&(Ln=Ln.slice(i+1)),dd(Pl,Zn),m}finally{Dt=r,ec=!1}}return null}var cs=[],us=0,Na=null,Fa=0,Xe=[],Ye=0,Ai=null,Mn=1,In="";function Si(i,r){cs[us++]=Fa,cs[us++]=Na,Na=i,Fa=r}function hp(i,r,u){Xe[Ye++]=Mn,Xe[Ye++]=In,Xe[Ye++]=Ai,Ai=i;var f=Mn;i=In;var m=32-ln(f)-1;f&=~(1<<m),u+=1;var y=32-ln(r)+m;if(30<y){var b=m-m%5;y=(f&(1<<b)-1).toString(32),f>>=b,m-=b,Mn=1<<32-ln(r)+m|u<<m|f,In=y+i}else Mn=1<<y|u<<m|f,In=i}function nc(i){i.return!==null&&(Si(i,1),hp(i,1,0))}function ic(i){for(;i===Na;)Na=cs[--us],cs[us]=null,Fa=cs[--us],cs[us]=null;for(;i===Ai;)Ai=Xe[--Ye],Xe[Ye]=null,In=Xe[--Ye],Xe[Ye]=null,Mn=Xe[--Ye],Xe[Ye]=null}var Ue=null,Ge=null,zt=!1,un=null;function dp(i,r){var u=tn(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=i,r=i.deletions,r===null?(i.deletions=[u],i.flags|=16):r.push(u)}function pp(i,r){switch(i.tag){case 5:var u=i.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(i.stateNode=r,Ue=i,Ge=Yn(r.firstChild),!0):!1;case 6:return r=i.pendingProps===""||r.nodeType!==3?null:r,r!==null?(i.stateNode=r,Ue=i,Ge=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Ai!==null?{id:Mn,overflow:In}:null,i.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=tn(18,null,null,0),u.stateNode=r,u.return=i,i.child=u,Ue=i,Ge=null,!0):!1;default:return!1}}function sc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rc(i){if(zt){var r=Ge;if(r){var u=r;if(!pp(i,r)){if(sc(i))throw Error(e(418));r=Yn(u.nextSibling);var f=Ue;r&&pp(i,r)?dp(f,u):(i.flags=i.flags&-4097|2,zt=!1,Ue=i)}}else{if(sc(i))throw Error(e(418));i.flags=i.flags&-4097|2,zt=!1,Ue=i}}}function fp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ue=i}function Oa(i){if(i!==Ue)return!1;if(!zt)return fp(i),zt=!0,!1;var r;if((r=i.tag!==3)&&!(r=i.tag!==5)&&(r=i.type,r=r!=="head"&&r!=="body"&&!Yl(i.type,i.memoizedProps)),r&&(r=Ge)){if(sc(i))throw gp(),Error(e(418));for(;r;)dp(i,r),r=Yn(r.nextSibling)}if(fp(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(e(317));t:{for(i=i.nextSibling,r=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(r===0){Ge=Yn(i.nextSibling);break t}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}i=i.nextSibling}Ge=null}}else Ge=Ue?Yn(i.stateNode.nextSibling):null;return!0}function gp(){for(var i=Ge;i;)i=Yn(i.nextSibling)}function hs(){Ge=Ue=null,zt=!1}function ac(i){un===null?un=[i]:un.push(i)}var i1=E.ReactCurrentBatchConfig;function dr(i,r,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var f=u.stateNode}if(!f)throw Error(e(147,i));var m=f,y=""+i;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===y?r.ref:(r=function(b){var L=m.refs;b===null?delete L[y]:L[y]=b},r._stringRef=y,r)}if(typeof i!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,i))}return i}function Ba(i,r){throw i=Object.prototype.toString.call(r),Error(e(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i))}function mp(i){var r=i._init;return r(i._payload)}function _p(i){function r(F,R){if(i){var B=F.deletions;B===null?(F.deletions=[R],F.flags|=16):B.push(R)}}function u(F,R){if(!i)return null;for(;R!==null;)r(F,R),R=R.sibling;return null}function f(F,R){for(F=new Map;R!==null;)R.key!==null?F.set(R.key,R):F.set(R.index,R),R=R.sibling;return F}function m(F,R){return F=oi(F,R),F.index=0,F.sibling=null,F}function y(F,R,B){return F.index=B,i?(B=F.alternate,B!==null?(B=B.index,B<R?(F.flags|=2,R):B):(F.flags|=2,R)):(F.flags|=1048576,R)}function b(F){return i&&F.alternate===null&&(F.flags|=2),F}function L(F,R,B,Z){return R===null||R.tag!==6?(R=Qc(B,F.mode,Z),R.return=F,R):(R=m(R,B),R.return=F,R)}function D(F,R,B,Z){var ut=B.type;return ut===N?W(F,R,B.props.children,Z,B.key):R!==null&&(R.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&mp(ut)===R.type)?(Z=m(R,B.props),Z.ref=dr(F,R,B),Z.return=F,Z):(Z=lo(B.type,B.key,B.props,null,F.mode,Z),Z.ref=dr(F,R,B),Z.return=F,Z)}function j(F,R,B,Z){return R===null||R.tag!==4||R.stateNode.containerInfo!==B.containerInfo||R.stateNode.implementation!==B.implementation?(R=Jc(B,F.mode,Z),R.return=F,R):(R=m(R,B.children||[]),R.return=F,R)}function W(F,R,B,Z,ut){return R===null||R.tag!==7?(R=Di(B,F.mode,Z,ut),R.return=F,R):(R=m(R,B),R.return=F,R)}function q(F,R,B){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Qc(""+R,F.mode,B),R.return=F,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return B=lo(R.type,R.key,R.props,null,F.mode,B),B.ref=dr(F,null,R),B.return=F,B;case M:return R=Jc(R,F.mode,B),R.return=F,R;case X:var Z=R._init;return q(F,Z(R._payload),B)}if(Vs(R)||J(R))return R=Di(R,F.mode,B,null),R.return=F,R;Ba(F,R)}return null}function $(F,R,B,Z){var ut=R!==null?R.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ut!==null?null:L(F,R,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===ut?D(F,R,B,Z):null;case M:return B.key===ut?j(F,R,B,Z):null;case X:return ut=B._init,$(F,R,ut(B._payload),Z)}if(Vs(B)||J(B))return ut!==null?null:W(F,R,B,Z,null);Ba(F,B)}return null}function it(F,R,B,Z,ut){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(B)||null,L(R,F,""+Z,ut);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return F=F.get(Z.key===null?B:Z.key)||null,D(R,F,Z,ut);case M:return F=F.get(Z.key===null?B:Z.key)||null,j(R,F,Z,ut);case X:var gt=Z._init;return it(F,R,B,gt(Z._payload),ut)}if(Vs(Z)||J(Z))return F=F.get(B)||null,W(R,F,Z,ut,null);Ba(R,Z)}return null}function lt(F,R,B,Z){for(var ut=null,gt=null,mt=R,wt=R=0,ue=null;mt!==null&&wt<B.length;wt++){mt.index>wt?(ue=mt,mt=null):ue=mt.sibling;var Lt=$(F,mt,B[wt],Z);if(Lt===null){mt===null&&(mt=ue);break}i&&mt&&Lt.alternate===null&&r(F,mt),R=y(Lt,R,wt),gt===null?ut=Lt:gt.sibling=Lt,gt=Lt,mt=ue}if(wt===B.length)return u(F,mt),zt&&Si(F,wt),ut;if(mt===null){for(;wt<B.length;wt++)mt=q(F,B[wt],Z),mt!==null&&(R=y(mt,R,wt),gt===null?ut=mt:gt.sibling=mt,gt=mt);return zt&&Si(F,wt),ut}for(mt=f(F,mt);wt<B.length;wt++)ue=it(mt,F,wt,B[wt],Z),ue!==null&&(i&&ue.alternate!==null&&mt.delete(ue.key===null?wt:ue.key),R=y(ue,R,wt),gt===null?ut=ue:gt.sibling=ue,gt=ue);return i&&mt.forEach(function(li){return r(F,li)}),zt&&Si(F,wt),ut}function ct(F,R,B,Z){var ut=J(B);if(typeof ut!="function")throw Error(e(150));if(B=ut.call(B),B==null)throw Error(e(151));for(var gt=ut=null,mt=R,wt=R=0,ue=null,Lt=B.next();mt!==null&&!Lt.done;wt++,Lt=B.next()){mt.index>wt?(ue=mt,mt=null):ue=mt.sibling;var li=$(F,mt,Lt.value,Z);if(li===null){mt===null&&(mt=ue);break}i&&mt&&li.alternate===null&&r(F,mt),R=y(li,R,wt),gt===null?ut=li:gt.sibling=li,gt=li,mt=ue}if(Lt.done)return u(F,mt),zt&&Si(F,wt),ut;if(mt===null){for(;!Lt.done;wt++,Lt=B.next())Lt=q(F,Lt.value,Z),Lt!==null&&(R=y(Lt,R,wt),gt===null?ut=Lt:gt.sibling=Lt,gt=Lt);return zt&&Si(F,wt),ut}for(mt=f(F,mt);!Lt.done;wt++,Lt=B.next())Lt=it(mt,F,wt,Lt.value,Z),Lt!==null&&(i&&Lt.alternate!==null&&mt.delete(Lt.key===null?wt:Lt.key),R=y(Lt,R,wt),gt===null?ut=Lt:gt.sibling=Lt,gt=Lt);return i&&mt.forEach(function(F1){return r(F,F1)}),zt&&Si(F,wt),ut}function Qt(F,R,B,Z){if(typeof B=="object"&&B!==null&&B.type===N&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:t:{for(var ut=B.key,gt=R;gt!==null;){if(gt.key===ut){if(ut=B.type,ut===N){if(gt.tag===7){u(F,gt.sibling),R=m(gt,B.props.children),R.return=F,F=R;break t}}else if(gt.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===X&&mp(ut)===gt.type){u(F,gt.sibling),R=m(gt,B.props),R.ref=dr(F,gt,B),R.return=F,F=R;break t}u(F,gt);break}else r(F,gt);gt=gt.sibling}B.type===N?(R=Di(B.props.children,F.mode,Z,B.key),R.return=F,F=R):(Z=lo(B.type,B.key,B.props,null,F.mode,Z),Z.ref=dr(F,R,B),Z.return=F,F=Z)}return b(F);case M:t:{for(gt=B.key;R!==null;){if(R.key===gt)if(R.tag===4&&R.stateNode.containerInfo===B.containerInfo&&R.stateNode.implementation===B.implementation){u(F,R.sibling),R=m(R,B.children||[]),R.return=F,F=R;break t}else{u(F,R);break}else r(F,R);R=R.sibling}R=Jc(B,F.mode,Z),R.return=F,F=R}return b(F);case X:return gt=B._init,Qt(F,R,gt(B._payload),Z)}if(Vs(B))return lt(F,R,B,Z);if(J(B))return ct(F,R,B,Z);Ba(F,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,R!==null&&R.tag===6?(u(F,R.sibling),R=m(R,B),R.return=F,F=R):(u(F,R),R=Qc(B,F.mode,Z),R.return=F,F=R),b(F)):u(F,R)}return Qt}var ds=_p(!0),yp=_p(!1),ja=Qn(null),za=null,ps=null,oc=null;function lc(){oc=ps=za=null}function cc(i){var r=ja.current;jt(ja),i._currentValue=r}function uc(i,r,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===u)break;i=i.return}}function fs(i,r){za=i,oc=ps=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&r)!==0&&(Re=!0),i.firstContext=null)}function Qe(i){var r=i._currentValue;if(oc!==i)if(i={context:i,memoizedValue:r,next:null},ps===null){if(za===null)throw Error(e(308));ps=i,za.dependencies={lanes:0,firstContext:i}}else ps=ps.next=i;return r}var Ci=null;function hc(i){Ci===null?Ci=[i]:Ci.push(i)}function vp(i,r,u,f){var m=r.interleaved;return m===null?(u.next=u,hc(r)):(u.next=m.next,m.next=u),r.interleaved=u,Dn(i,f)}function Dn(i,r){i.lanes|=r;var u=i.alternate;for(u!==null&&(u.lanes|=r),u=i,i=i.return;i!==null;)i.childLanes|=r,u=i.alternate,u!==null&&(u.childLanes|=r),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ti=!1;function dc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wp(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rn(i,r){return{eventTime:i,lane:r,tag:0,payload:null,callback:null,next:null}}function ei(i,r,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(Tt&2)!==0){var m=f.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),f.pending=r,Dn(i,u)}return m=f.interleaved,m===null?(r.next=r,hc(f)):(r.next=m.next,m.next=r),f.interleaved=r,Dn(i,u)}function Va(i,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var f=r.lanes;f&=i.pendingLanes,u|=f,r.lanes=u,Cl(i,u)}}function xp(i,r){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=b:y=y.next=b,u=u.next}while(u!==null);y===null?m=y=r:y=y.next=r}else m=y=r;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=r:i.next=r,u.lastBaseUpdate=r}function Ha(i,r,u,f){var m=i.updateQueue;ti=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,L=m.shared.pending;if(L!==null){m.shared.pending=null;var D=L,j=D.next;D.next=null,b===null?y=j:b.next=j,b=D;var W=i.alternate;W!==null&&(W=W.updateQueue,L=W.lastBaseUpdate,L!==b&&(L===null?W.firstBaseUpdate=j:L.next=j,W.lastBaseUpdate=D))}if(y!==null){var q=m.baseState;b=0,W=j=D=null,L=y;do{var $=L.lane,it=L.eventTime;if((f&$)===$){W!==null&&(W=W.next={eventTime:it,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});t:{var lt=i,ct=L;switch($=r,it=u,ct.tag){case 1:if(lt=ct.payload,typeof lt=="function"){q=lt.call(it,q,$);break t}q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=ct.payload,$=typeof lt=="function"?lt.call(it,q,$):lt,$==null)break t;q=et({},q,$);break t;case 2:ti=!0}}L.callback!==null&&L.lane!==0&&(i.flags|=64,$=m.effects,$===null?m.effects=[L]:$.push(L))}else it={eventTime:it,lane:$,tag:L.tag,payload:L.payload,callback:L.callback,next:null},W===null?(j=W=it,D=q):W=W.next=it,b|=$;if(L=L.next,L===null){if(L=m.shared.pending,L===null)break;$=L,L=$.next,$.next=null,m.lastBaseUpdate=$,m.shared.pending=null}}while(!0);if(W===null&&(D=q),m.baseState=D,m.firstBaseUpdate=j,m.lastBaseUpdate=W,r=m.shared.interleaved,r!==null){m=r;do b|=m.lane,m=m.next;while(m!==r)}else y===null&&(m.shared.lanes=0);Ti|=b,i.lanes=b,i.memoizedState=q}}function bp(i,r,u){if(i=r.effects,r.effects=null,i!==null)for(r=0;r<i.length;r++){var f=i[r],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(e(191,m));m.call(f)}}}var pr={},yn=Qn(pr),fr=Qn(pr),gr=Qn(pr);function ki(i){if(i===pr)throw Error(e(174));return i}function pc(i,r){switch(Ft(gr,r),Ft(fr,i),Ft(yn,pr),i=r.nodeType,i){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:fl(null,"");break;default:i=i===8?r.parentNode:r,r=i.namespaceURI||null,i=i.tagName,r=fl(r,i)}jt(yn),Ft(yn,r)}function gs(){jt(yn),jt(fr),jt(gr)}function Pp(i){ki(gr.current);var r=ki(yn.current),u=fl(r,i.type);r!==u&&(Ft(fr,i),Ft(yn,u))}function fc(i){fr.current===i&&(jt(yn),jt(fr))}var Ut=Qn(0);function Ua(i){for(var r=i;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gc=[];function mc(){for(var i=0;i<gc.length;i++)gc[i]._workInProgressVersionPrimary=null;gc.length=0}var Ga=E.ReactCurrentDispatcher,_c=E.ReactCurrentBatchConfig,Ei=0,Gt=null,ae=null,le=null,$a=!1,mr=!1,_r=0,s1=0;function xe(){throw Error(e(321))}function yc(i,r){if(r===null)return!1;for(var u=0;u<r.length&&u<i.length;u++)if(!cn(i[u],r[u]))return!1;return!0}function vc(i,r,u,f,m,y){if(Ei=y,Gt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ga.current=i===null||i.memoizedState===null?l1:c1,i=u(f,m),mr){y=0;do{if(mr=!1,_r=0,25<=y)throw Error(e(301));y+=1,le=ae=null,r.updateQueue=null,Ga.current=u1,i=u(f,m)}while(mr)}if(Ga.current=Ka,r=ae!==null&&ae.next!==null,Ei=0,le=ae=Gt=null,$a=!1,r)throw Error(e(300));return i}function wc(){var i=_r!==0;return _r=0,i}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Gt.memoizedState=le=i:le=le.next=i,le}function Je(){if(ae===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=ae.next;var r=le===null?Gt.memoizedState:le.next;if(r!==null)le=r,ae=i;else{if(i===null)throw Error(e(310));ae=i,i={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},le===null?Gt.memoizedState=le=i:le=le.next=i}return le}function yr(i,r){return typeof r=="function"?r(i):r}function xc(i){var r=Je(),u=r.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=ae,m=f.baseQueue,y=u.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}f.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,f=f.baseState;var L=b=null,D=null,j=y;do{var W=j.lane;if((Ei&W)===W)D!==null&&(D=D.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),f=j.hasEagerState?j.eagerState:i(f,j.action);else{var q={lane:W,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};D===null?(L=D=q,b=f):D=D.next=q,Gt.lanes|=W,Ti|=W}j=j.next}while(j!==null&&j!==y);D===null?b=f:D.next=L,cn(f,r.memoizedState)||(Re=!0),r.memoizedState=f,r.baseState=b,r.baseQueue=D,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do y=m.lane,Gt.lanes|=y,Ti|=y,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function bc(i){var r=Je(),u=r.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,y=r.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do y=i(y,b.action),b=b.next;while(b!==m);cn(y,r.memoizedState)||(Re=!0),r.memoizedState=y,r.baseQueue===null&&(r.baseState=y),u.lastRenderedState=y}return[y,f]}function Ap(){}function Sp(i,r){var u=Gt,f=Je(),m=r(),y=!cn(f.memoizedState,m);if(y&&(f.memoizedState=m,Re=!0),f=f.queue,Pc(Ep.bind(null,u,f,i),[i]),f.getSnapshot!==r||y||le!==null&&le.memoizedState.tag&1){if(u.flags|=2048,vr(9,kp.bind(null,u,f,m,r),void 0,null),ce===null)throw Error(e(349));(Ei&30)!==0||Cp(u,r,m)}return m}function Cp(i,r,u){i.flags|=16384,i={getSnapshot:r,value:u},r=Gt.updateQueue,r===null?(r={lastEffect:null,stores:null},Gt.updateQueue=r,r.stores=[i]):(u=r.stores,u===null?r.stores=[i]:u.push(i))}function kp(i,r,u,f){r.value=u,r.getSnapshot=f,Tp(r)&&Lp(i)}function Ep(i,r,u){return u(function(){Tp(r)&&Lp(i)})}function Tp(i){var r=i.getSnapshot;i=i.value;try{var u=r();return!cn(i,u)}catch{return!0}}function Lp(i){var r=Dn(i,1);r!==null&&fn(r,i,1,-1)}function Mp(i){var r=vn();return typeof i=="function"&&(i=i()),r.memoizedState=r.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:i},r.queue=i,i=i.dispatch=o1.bind(null,Gt,i),[r.memoizedState,i]}function vr(i,r,u,f){return i={tag:i,create:r,destroy:u,deps:f,next:null},r=Gt.updateQueue,r===null?(r={lastEffect:null,stores:null},Gt.updateQueue=r,r.lastEffect=i.next=i):(u=r.lastEffect,u===null?r.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,r.lastEffect=i)),i}function Ip(){return Je().memoizedState}function Wa(i,r,u,f){var m=vn();Gt.flags|=i,m.memoizedState=vr(1|r,u,void 0,f===void 0?null:f)}function qa(i,r,u,f){var m=Je();f=f===void 0?null:f;var y=void 0;if(ae!==null){var b=ae.memoizedState;if(y=b.destroy,f!==null&&yc(f,b.deps)){m.memoizedState=vr(r,u,y,f);return}}Gt.flags|=i,m.memoizedState=vr(1|r,u,y,f)}function Dp(i,r){return Wa(8390656,8,i,r)}function Pc(i,r){return qa(2048,8,i,r)}function Rp(i,r){return qa(4,2,i,r)}function Np(i,r){return qa(4,4,i,r)}function Fp(i,r){if(typeof r=="function")return i=i(),r(i),function(){r(null)};if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Op(i,r,u){return u=u!=null?u.concat([i]):null,qa(4,4,Fp.bind(null,r,i),u)}function Ac(){}function Bp(i,r){var u=Je();r=r===void 0?null:r;var f=u.memoizedState;return f!==null&&r!==null&&yc(r,f[1])?f[0]:(u.memoizedState=[i,r],i)}function jp(i,r){var u=Je();r=r===void 0?null:r;var f=u.memoizedState;return f!==null&&r!==null&&yc(r,f[1])?f[0]:(i=i(),u.memoizedState=[i,r],i)}function zp(i,r,u){return(Ei&21)===0?(i.baseState&&(i.baseState=!1,Re=!0),i.memoizedState=u):(cn(u,r)||(u=md(),Gt.lanes|=u,Ti|=u,i.baseState=!0),r)}function r1(i,r){var u=Dt;Dt=u!==0&&4>u?u:4,i(!0);var f=_c.transition;_c.transition={};try{i(!1),r()}finally{Dt=u,_c.transition=f}}function Vp(){return Je().memoizedState}function a1(i,r,u){var f=ri(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},Hp(i))Up(r,u);else if(u=vp(i,r,u,f),u!==null){var m=Ce();fn(u,i,f,m),Gp(u,r,f)}}function o1(i,r,u){var f=ri(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(Hp(i))Up(r,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=r.lastRenderedReducer,y!==null))try{var b=r.lastRenderedState,L=y(b,u);if(m.hasEagerState=!0,m.eagerState=L,cn(L,b)){var D=r.interleaved;D===null?(m.next=m,hc(r)):(m.next=D.next,D.next=m),r.interleaved=m;return}}catch{}finally{}u=vp(i,r,m,f),u!==null&&(m=Ce(),fn(u,i,f,m),Gp(u,r,f))}}function Hp(i){var r=i.alternate;return i===Gt||r!==null&&r===Gt}function Up(i,r){mr=$a=!0;var u=i.pending;u===null?r.next=r:(r.next=u.next,u.next=r),i.pending=r}function Gp(i,r,u){if((u&4194240)!==0){var f=r.lanes;f&=i.pendingLanes,u|=f,r.lanes=u,Cl(i,u)}}var Ka={readContext:Qe,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},l1={readContext:Qe,useCallback:function(i,r){return vn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:Dp,useImperativeHandle:function(i,r,u){return u=u!=null?u.concat([i]):null,Wa(4194308,4,Fp.bind(null,r,i),u)},useLayoutEffect:function(i,r){return Wa(4194308,4,i,r)},useInsertionEffect:function(i,r){return Wa(4,2,i,r)},useMemo:function(i,r){var u=vn();return r=r===void 0?null:r,i=i(),u.memoizedState=[i,r],i},useReducer:function(i,r,u){var f=vn();return r=u!==void 0?u(r):r,f.memoizedState=f.baseState=r,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:r},f.queue=i,i=i.dispatch=a1.bind(null,Gt,i),[f.memoizedState,i]},useRef:function(i){var r=vn();return i={current:i},r.memoizedState=i},useState:Mp,useDebugValue:Ac,useDeferredValue:function(i){return vn().memoizedState=i},useTransition:function(){var i=Mp(!1),r=i[0];return i=r1.bind(null,i[1]),vn().memoizedState=i,[r,i]},useMutableSource:function(){},useSyncExternalStore:function(i,r,u){var f=Gt,m=vn();if(zt){if(u===void 0)throw Error(e(407));u=u()}else{if(u=r(),ce===null)throw Error(e(349));(Ei&30)!==0||Cp(f,r,u)}m.memoizedState=u;var y={value:u,getSnapshot:r};return m.queue=y,Dp(Ep.bind(null,f,y,i),[i]),f.flags|=2048,vr(9,kp.bind(null,f,y,u,r),void 0,null),u},useId:function(){var i=vn(),r=ce.identifierPrefix;if(zt){var u=In,f=Mn;u=(f&~(1<<32-ln(f)-1)).toString(32)+u,r=":"+r+"R"+u,u=_r++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=s1++,r=":"+r+"r"+u.toString(32)+":";return i.memoizedState=r},unstable_isNewReconciler:!1},c1={readContext:Qe,useCallback:Bp,useContext:Qe,useEffect:Pc,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Np,useMemo:jp,useReducer:xc,useRef:Ip,useState:function(){return xc(yr)},useDebugValue:Ac,useDeferredValue:function(i){var r=Je();return zp(r,ae.memoizedState,i)},useTransition:function(){var i=xc(yr)[0],r=Je().memoizedState;return[i,r]},useMutableSource:Ap,useSyncExternalStore:Sp,useId:Vp,unstable_isNewReconciler:!1},u1={readContext:Qe,useCallback:Bp,useContext:Qe,useEffect:Pc,useImperativeHandle:Op,useInsertionEffect:Rp,useLayoutEffect:Np,useMemo:jp,useReducer:bc,useRef:Ip,useState:function(){return bc(yr)},useDebugValue:Ac,useDeferredValue:function(i){var r=Je();return ae===null?r.memoizedState=i:zp(r,ae.memoizedState,i)},useTransition:function(){var i=bc(yr)[0],r=Je().memoizedState;return[i,r]},useMutableSource:Ap,useSyncExternalStore:Sp,useId:Vp,unstable_isNewReconciler:!1};function hn(i,r){if(i&&i.defaultProps){r=et({},r),i=i.defaultProps;for(var u in i)r[u]===void 0&&(r[u]=i[u]);return r}return r}function Sc(i,r,u,f){r=i.memoizedState,u=u(f,r),u=u==null?r:et({},r,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Xa={isMounted:function(i){return(i=i._reactInternals)?xi(i)===i:!1},enqueueSetState:function(i,r,u){i=i._reactInternals;var f=Ce(),m=ri(i),y=Rn(f,m);y.payload=r,u!=null&&(y.callback=u),r=ei(i,y,m),r!==null&&(fn(r,i,m,f),Va(r,i,m))},enqueueReplaceState:function(i,r,u){i=i._reactInternals;var f=Ce(),m=ri(i),y=Rn(f,m);y.tag=1,y.payload=r,u!=null&&(y.callback=u),r=ei(i,y,m),r!==null&&(fn(r,i,m,f),Va(r,i,m))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var u=Ce(),f=ri(i),m=Rn(u,f);m.tag=2,r!=null&&(m.callback=r),r=ei(i,m,f),r!==null&&(fn(r,i,f,u),Va(r,i,f))}};function $p(i,r,u,f,m,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,y,b):r.prototype&&r.prototype.isPureReactComponent?!rr(u,f)||!rr(m,y):!0}function Wp(i,r,u){var f=!1,m=Jn,y=r.contextType;return typeof y=="object"&&y!==null?y=Qe(y):(m=De(r)?Pi:we.current,f=r.contextTypes,y=(f=f!=null)?ls(i,m):Jn),r=new r(u,y),i.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Xa,i.stateNode=r,r._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),r}function qp(i,r,u,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,f),r.state!==i&&Xa.enqueueReplaceState(r,r.state,null)}function Cc(i,r,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},dc(i);var y=r.contextType;typeof y=="object"&&y!==null?m.context=Qe(y):(y=De(r)?Pi:we.current,m.context=ls(i,y)),m.state=i.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Sc(i,r,y,u),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&Xa.enqueueReplaceState(m,m.state,null),Ha(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ms(i,r){try{var u="",f=r;do u+=ft(f),f=f.return;while(f);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:r,stack:m,digest:null}}function kc(i,r,u){return{value:i,source:null,stack:u??null,digest:r??null}}function Ec(i,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var h1=typeof WeakMap=="function"?WeakMap:Map;function Kp(i,r,u){u=Rn(-1,u),u.tag=3,u.payload={element:null};var f=r.value;return u.callback=function(){no||(no=!0,Uc=f),Ec(i,r)},u}function Xp(i,r,u){u=Rn(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=r.value;u.payload=function(){return f(m)},u.callback=function(){Ec(i,r)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Ec(i,r),typeof f!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),u}function Yp(i,r,u){var f=i.pingCache;if(f===null){f=i.pingCache=new h1;var m=new Set;f.set(r,m)}else m=f.get(r),m===void 0&&(m=new Set,f.set(r,m));m.has(u)||(m.add(u),i=S1.bind(null,i,r,u),r.then(i,i))}function Qp(i){do{var r;if((r=i.tag===13)&&(r=i.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return i;i=i.return}while(i!==null);return null}function Jp(i,r,u,f,m){return(i.mode&1)===0?(i===r?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=Rn(-1,1),r.tag=2,ei(u,r,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var d1=E.ReactCurrentOwner,Re=!1;function Se(i,r,u,f){r.child=i===null?yp(r,null,u,f):ds(r,i.child,u,f)}function Zp(i,r,u,f,m){u=u.render;var y=r.ref;return fs(r,m),f=vc(i,r,u,f,y,m),u=wc(),i!==null&&!Re?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~m,Nn(i,r,m)):(zt&&u&&nc(r),r.flags|=1,Se(i,r,f,m),r.child)}function tf(i,r,u,f,m){if(i===null){var y=u.type;return typeof y=="function"&&!Yc(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=y,ef(i,r,y,f,m)):(i=lo(u.type,null,f,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(y=i.child,(i.lanes&m)===0){var b=y.memoizedProps;if(u=u.compare,u=u!==null?u:rr,u(b,f)&&i.ref===r.ref)return Nn(i,r,m)}return r.flags|=1,i=oi(y,f),i.ref=r.ref,i.return=r,r.child=i}function ef(i,r,u,f,m){if(i!==null){var y=i.memoizedProps;if(rr(y,f)&&i.ref===r.ref)if(Re=!1,r.pendingProps=f=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Re=!0);else return r.lanes=i.lanes,Nn(i,r,m)}return Tc(i,r,u,f,m)}function nf(i,r,u){var f=r.pendingProps,m=f.children,y=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ft(ys,$e),$e|=u;else{if((u&1073741824)===0)return i=y!==null?y.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:i,cachePool:null,transitions:null},r.updateQueue=null,Ft(ys,$e),$e|=i,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:u,Ft(ys,$e),$e|=f}else y!==null?(f=y.baseLanes|u,r.memoizedState=null):f=u,Ft(ys,$e),$e|=f;return Se(i,r,m,u),r.child}function sf(i,r){var u=r.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Tc(i,r,u,f,m){var y=De(u)?Pi:we.current;return y=ls(r,y),fs(r,m),u=vc(i,r,u,f,y,m),f=wc(),i!==null&&!Re?(r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~m,Nn(i,r,m)):(zt&&f&&nc(r),r.flags|=1,Se(i,r,u,m),r.child)}function rf(i,r,u,f,m){if(De(u)){var y=!0;Da(r)}else y=!1;if(fs(r,m),r.stateNode===null)Qa(i,r),Wp(r,u,f),Cc(r,u,f,m),f=!0;else if(i===null){var b=r.stateNode,L=r.memoizedProps;b.props=L;var D=b.context,j=u.contextType;typeof j=="object"&&j!==null?j=Qe(j):(j=De(u)?Pi:we.current,j=ls(r,j));var W=u.getDerivedStateFromProps,q=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function";q||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==f||D!==j)&&qp(r,b,f,j),ti=!1;var $=r.memoizedState;b.state=$,Ha(r,f,b,m),D=r.memoizedState,L!==f||$!==D||Ie.current||ti?(typeof W=="function"&&(Sc(r,u,W,f),D=r.memoizedState),(L=ti||$p(r,u,L,f,$,D,j))?(q||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=D),b.props=f,b.state=D,b.context=j,f=L):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{b=r.stateNode,wp(i,r),L=r.memoizedProps,j=r.type===r.elementType?L:hn(r.type,L),b.props=j,q=r.pendingProps,$=b.context,D=u.contextType,typeof D=="object"&&D!==null?D=Qe(D):(D=De(u)?Pi:we.current,D=ls(r,D));var it=u.getDerivedStateFromProps;(W=typeof it=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==q||$!==D)&&qp(r,b,f,D),ti=!1,$=r.memoizedState,b.state=$,Ha(r,f,b,m);var lt=r.memoizedState;L!==q||$!==lt||Ie.current||ti?(typeof it=="function"&&(Sc(r,u,it,f),lt=r.memoizedState),(j=ti||$p(r,u,j,f,$,lt,D)||!1)?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,lt,D),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,lt,D)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=lt),b.props=f,b.state=lt,b.context=D,f=j):(typeof b.componentDidUpdate!="function"||L===i.memoizedProps&&$===i.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===i.memoizedProps&&$===i.memoizedState||(r.flags|=1024),f=!1)}return Lc(i,r,u,f,y,m)}function Lc(i,r,u,f,m,y){sf(i,r);var b=(r.flags&128)!==0;if(!f&&!b)return m&&cp(r,u,!1),Nn(i,r,y);f=r.stateNode,d1.current=r;var L=b&&typeof u.getDerivedStateFromError!="function"?null:f.render();return r.flags|=1,i!==null&&b?(r.child=ds(r,i.child,null,y),r.child=ds(r,null,L,y)):Se(i,r,L,y),r.memoizedState=f.state,m&&cp(r,u,!0),r.child}function af(i){var r=i.stateNode;r.pendingContext?op(i,r.pendingContext,r.pendingContext!==r.context):r.context&&op(i,r.context,!1),pc(i,r.containerInfo)}function of(i,r,u,f,m){return hs(),ac(m),r.flags|=256,Se(i,r,u,f),r.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Ic(i){return{baseLanes:i,cachePool:null,transitions:null}}function lf(i,r,u){var f=r.pendingProps,m=Ut.current,y=!1,b=(r.flags&128)!==0,L;if((L=b)||(L=i!==null&&i.memoizedState===null?!1:(m&2)!==0),L?(y=!0,r.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ft(Ut,m&1),i===null)return rc(r),i=r.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((r.mode&1)===0?r.lanes=1:i.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(b=f.children,i=f.fallback,y?(f=r.mode,y=r.child,b={mode:"hidden",children:b},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=b):y=co(b,f,0,null),i=Di(i,f,u,null),y.return=r,i.return=r,y.sibling=i,r.child=y,r.child.memoizedState=Ic(u),r.memoizedState=Mc,i):Dc(r,b));if(m=i.memoizedState,m!==null&&(L=m.dehydrated,L!==null))return p1(i,r,b,f,L,m,u);if(y){y=f.fallback,b=r.mode,m=i.child,L=m.sibling;var D={mode:"hidden",children:f.children};return(b&1)===0&&r.child!==m?(f=r.child,f.childLanes=0,f.pendingProps=D,r.deletions=null):(f=oi(m,D),f.subtreeFlags=m.subtreeFlags&14680064),L!==null?y=oi(L,y):(y=Di(y,b,u,null),y.flags|=2),y.return=r,f.return=r,f.sibling=y,r.child=f,f=y,y=r.child,b=i.child.memoizedState,b=b===null?Ic(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},y.memoizedState=b,y.childLanes=i.childLanes&~u,r.memoizedState=Mc,f}return y=i.child,i=y.sibling,f=oi(y,{mode:"visible",children:f.children}),(r.mode&1)===0&&(f.lanes=u),f.return=r,f.sibling=null,i!==null&&(u=r.deletions,u===null?(r.deletions=[i],r.flags|=16):u.push(i)),r.child=f,r.memoizedState=null,f}function Dc(i,r){return r=co({mode:"visible",children:r},i.mode,0,null),r.return=i,i.child=r}function Ya(i,r,u,f){return f!==null&&ac(f),ds(r,i.child,null,u),i=Dc(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function p1(i,r,u,f,m,y,b){if(u)return r.flags&256?(r.flags&=-257,f=kc(Error(e(422))),Ya(i,r,b,f)):r.memoizedState!==null?(r.child=i.child,r.flags|=128,null):(y=f.fallback,m=r.mode,f=co({mode:"visible",children:f.children},m,0,null),y=Di(y,m,b,null),y.flags|=2,f.return=r,y.return=r,f.sibling=y,r.child=f,(r.mode&1)!==0&&ds(r,i.child,null,b),r.child.memoizedState=Ic(b),r.memoizedState=Mc,y);if((r.mode&1)===0)return Ya(i,r,b,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var L=f.dgst;return f=L,y=Error(e(419)),f=kc(y,f,void 0),Ya(i,r,b,f)}if(L=(b&i.childLanes)!==0,Re||L){if(f=ce,f!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|b))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Dn(i,m),fn(f,i,m,-1))}return Xc(),f=kc(Error(e(421))),Ya(i,r,b,f)}return m.data==="$?"?(r.flags|=128,r.child=i.child,r=C1.bind(null,i),m._reactRetry=r,null):(i=y.treeContext,Ge=Yn(m.nextSibling),Ue=r,zt=!0,un=null,i!==null&&(Xe[Ye++]=Mn,Xe[Ye++]=In,Xe[Ye++]=Ai,Mn=i.id,In=i.overflow,Ai=r),r=Dc(r,f.children),r.flags|=4096,r)}function cf(i,r,u){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),uc(i.return,r,u)}function Rc(i,r,u,f,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=u,y.tailMode=m)}function uf(i,r,u){var f=r.pendingProps,m=f.revealOrder,y=f.tail;if(Se(i,r,f.children,u),f=Ut.current,(f&2)!==0)f=f&1|2,r.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cf(i,u,r);else if(i.tag===19)cf(i,u,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Ft(Ut,f),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(u=r.child,m=null;u!==null;)i=u.alternate,i!==null&&Ua(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=r.child,r.child=null):(m=u.sibling,u.sibling=null),Rc(r,!1,m,u,y);break;case"backwards":for(u=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&Ua(i)===null){r.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Rc(r,!0,u,null,y);break;case"together":Rc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qa(i,r){(r.mode&1)===0&&i!==null&&(i.alternate=null,r.alternate=null,r.flags|=2)}function Nn(i,r,u){if(i!==null&&(r.dependencies=i.dependencies),Ti|=r.lanes,(u&r.childLanes)===0)return null;if(i!==null&&r.child!==i.child)throw Error(e(153));if(r.child!==null){for(i=r.child,u=oi(i,i.pendingProps),r.child=u,u.return=r;i.sibling!==null;)i=i.sibling,u=u.sibling=oi(i,i.pendingProps),u.return=r;u.sibling=null}return r.child}function f1(i,r,u){switch(r.tag){case 3:af(r),hs();break;case 5:Pp(r);break;case 1:De(r.type)&&Da(r);break;case 4:pc(r,r.stateNode.containerInfo);break;case 10:var f=r.type._context,m=r.memoizedProps.value;Ft(ja,f._currentValue),f._currentValue=m;break;case 13:if(f=r.memoizedState,f!==null)return f.dehydrated!==null?(Ft(Ut,Ut.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?lf(i,r,u):(Ft(Ut,Ut.current&1),i=Nn(i,r,u),i!==null?i.sibling:null);Ft(Ut,Ut.current&1);break;case 19:if(f=(u&r.childLanes)!==0,(i.flags&128)!==0){if(f)return uf(i,r,u);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ft(Ut,Ut.current),f)break;return null;case 22:case 23:return r.lanes=0,nf(i,r,u)}return Nn(i,r,u)}var hf,Nc,df,pf;hf=function(i,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Nc=function(){},df=function(i,r,u,f){var m=i.memoizedProps;if(m!==f){i=r.stateNode,ki(yn.current);var y=null;switch(u){case"input":m=zs(i,m),f=zs(i,f),y=[];break;case"select":m=et({},m,{value:void 0}),f=et({},f,{value:void 0}),y=[];break;case"textarea":m=pl(i,m),f=pl(i,f),y=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=La)}gl(u,f);var b;u=null;for(j in m)if(!f.hasOwnProperty(j)&&m.hasOwnProperty(j)&&m[j]!=null)if(j==="style"){var L=m[j];for(b in L)L.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(s.hasOwnProperty(j)?y||(y=[]):(y=y||[]).push(j,null));for(j in f){var D=f[j];if(L=m?.[j],f.hasOwnProperty(j)&&D!==L&&(D!=null||L!=null))if(j==="style")if(L){for(b in L)!L.hasOwnProperty(b)||D&&D.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in D)D.hasOwnProperty(b)&&L[b]!==D[b]&&(u||(u={}),u[b]=D[b])}else u||(y||(y=[]),y.push(j,u)),u=D;else j==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,L=L?L.__html:void 0,D!=null&&L!==D&&(y=y||[]).push(j,D)):j==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(j,""+D):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(s.hasOwnProperty(j)?(D!=null&&j==="onScroll"&&Bt("scroll",i),y||L===D||(y=[])):(y=y||[]).push(j,D))}u&&(y=y||[]).push("style",u);var j=y;(r.updateQueue=j)&&(r.flags|=4)}},pf=function(i,r,u,f){u!==f&&(r.flags|=4)};function wr(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function be(i){var r=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(r)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,r}function g1(i,r,u){var f=r.pendingProps;switch(ic(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(r),null;case 1:return De(r.type)&&Ia(),be(r),null;case 3:return f=r.stateNode,gs(),jt(Ie),jt(we),mc(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Oa(r)?r.flags|=4:i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,un!==null&&(Wc(un),un=null))),Nc(i,r),be(r),null;case 5:fc(r);var m=ki(gr.current);if(u=r.type,i!==null&&r.stateNode!=null)df(i,r,u,f,m),i.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!f){if(r.stateNode===null)throw Error(e(166));return be(r),null}if(i=ki(yn.current),Oa(r)){f=r.stateNode,u=r.type;var y=r.memoizedProps;switch(f[_n]=r,f[ur]=y,i=(r.mode&1)!==0,u){case"dialog":Bt("cancel",f),Bt("close",f);break;case"iframe":case"object":case"embed":Bt("load",f);break;case"video":case"audio":for(m=0;m<or.length;m++)Bt(or[m],f);break;case"source":Bt("error",f);break;case"img":case"image":case"link":Bt("error",f),Bt("load",f);break;case"details":Bt("toggle",f);break;case"input":Wh(f,y),Bt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},Bt("invalid",f);break;case"textarea":Xh(f,y),Bt("invalid",f)}gl(u,y),m=null;for(var b in y)if(y.hasOwnProperty(b)){var L=y[b];b==="children"?typeof L=="string"?f.textContent!==L&&(y.suppressHydrationWarning!==!0&&Ta(f.textContent,L,i),m=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(y.suppressHydrationWarning!==!0&&Ta(f.textContent,L,i),m=["children",""+L]):s.hasOwnProperty(b)&&L!=null&&b==="onScroll"&&Bt("scroll",f)}switch(u){case"input":ve(f),Kh(f,y,!0);break;case"textarea":ve(f),Qh(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=La)}f=m,r.updateQueue=f,f!==null&&(r.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Jh(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=b.createElement(u,{is:f.is}):(i=b.createElement(u),u==="select"&&(b=i,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):i=b.createElementNS(i,u),i[_n]=r,i[ur]=f,hf(i,r,!1,!1),r.stateNode=i;t:{switch(b=ml(u,f),u){case"dialog":Bt("cancel",i),Bt("close",i),m=f;break;case"iframe":case"object":case"embed":Bt("load",i),m=f;break;case"video":case"audio":for(m=0;m<or.length;m++)Bt(or[m],i);m=f;break;case"source":Bt("error",i),m=f;break;case"img":case"image":case"link":Bt("error",i),Bt("load",i),m=f;break;case"details":Bt("toggle",i),m=f;break;case"input":Wh(i,f),m=zs(i,f),Bt("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=et({},f,{value:void 0}),Bt("invalid",i);break;case"textarea":Xh(i,f),m=pl(i,f),Bt("invalid",i);break;default:m=f}gl(u,m),L=m;for(y in L)if(L.hasOwnProperty(y)){var D=L[y];y==="style"?ed(i,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Zh(i,D)):y==="children"?typeof D=="string"?(u!=="textarea"||D!=="")&&Hs(i,D):typeof D=="number"&&Hs(i,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?D!=null&&y==="onScroll"&&Bt("scroll",i):D!=null&&S(i,y,D,b))}switch(u){case"input":ve(i),Kh(i,f,!1);break;case"textarea":ve(i),Qh(i);break;case"option":f.value!=null&&i.setAttribute("value",""+St(f.value));break;case"select":i.multiple=!!f.multiple,y=f.value,y!=null?Yi(i,!!f.multiple,y,!1):f.defaultValue!=null&&Yi(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=La)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}}f&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return be(r),null;case 6:if(i&&r.stateNode!=null)pf(i,r,i.memoizedProps,f);else{if(typeof f!="string"&&r.stateNode===null)throw Error(e(166));if(u=ki(gr.current),ki(yn.current),Oa(r)){if(f=r.stateNode,u=r.memoizedProps,f[_n]=r,(y=f.nodeValue!==u)&&(i=Ue,i!==null))switch(i.tag){case 3:Ta(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ta(f.nodeValue,u,(i.mode&1)!==0)}y&&(r.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[_n]=r,r.stateNode=f}return be(r),null;case 13:if(jt(Ut),f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(zt&&Ge!==null&&(r.mode&1)!==0&&(r.flags&128)===0)gp(),hs(),r.flags|=98560,y=!1;else if(y=Oa(r),f!==null&&f.dehydrated!==null){if(i===null){if(!y)throw Error(e(318));if(y=r.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(e(317));y[_n]=r}else hs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;be(r),y=!1}else un!==null&&(Wc(un),un=null),y=!0;if(!y)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(r.child.flags|=8192,(r.mode&1)!==0&&(i===null||(Ut.current&1)!==0?oe===0&&(oe=3):Xc())),r.updateQueue!==null&&(r.flags|=4),be(r),null);case 4:return gs(),Nc(i,r),i===null&&lr(r.stateNode.containerInfo),be(r),null;case 10:return cc(r.type._context),be(r),null;case 17:return De(r.type)&&Ia(),be(r),null;case 19:if(jt(Ut),y=r.memoizedState,y===null)return be(r),null;if(f=(r.flags&128)!==0,b=y.rendering,b===null)if(f)wr(y,!1);else{if(oe!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(b=Ua(i),b!==null){for(r.flags|=128,wr(y,!1),f=b.updateQueue,f!==null&&(r.updateQueue=f,r.flags|=4),r.subtreeFlags=0,f=u,u=r.child;u!==null;)y=u,i=f,y.flags&=14680066,b=y.alternate,b===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=b.childLanes,y.lanes=b.lanes,y.child=b.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=b.memoizedProps,y.memoizedState=b.memoizedState,y.updateQueue=b.updateQueue,y.type=b.type,i=b.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ft(Ut,Ut.current&1|2),r.child}i=i.sibling}y.tail!==null&&Yt()>vs&&(r.flags|=128,f=!0,wr(y,!1),r.lanes=4194304)}else{if(!f)if(i=Ua(b),i!==null){if(r.flags|=128,f=!0,u=i.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),wr(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!zt)return be(r),null}else 2*Yt()-y.renderingStartTime>vs&&u!==1073741824&&(r.flags|=128,f=!0,wr(y,!1),r.lanes=4194304);y.isBackwards?(b.sibling=r.child,r.child=b):(u=y.last,u!==null?u.sibling=b:r.child=b,y.last=b)}return y.tail!==null?(r=y.tail,y.rendering=r,y.tail=r.sibling,y.renderingStartTime=Yt(),r.sibling=null,u=Ut.current,Ft(Ut,f?u&1|2:u&1),r):(be(r),null);case 22:case 23:return Kc(),f=r.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(r.flags|=8192),f&&(r.mode&1)!==0?($e&1073741824)!==0&&(be(r),r.subtreeFlags&6&&(r.flags|=8192)):be(r),null;case 24:return null;case 25:return null}throw Error(e(156,r.tag))}function m1(i,r){switch(ic(r),r.tag){case 1:return De(r.type)&&Ia(),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return gs(),jt(Ie),jt(we),mc(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 5:return fc(r),null;case 13:if(jt(Ut),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(e(340));hs()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return jt(Ut),null;case 4:return gs(),null;case 10:return cc(r.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Ja=!1,Pe=!1,_1=typeof WeakSet=="function"?WeakSet:Set,rt=null;function _s(i,r){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Kt(i,r,f)}else u.current=null}function Fc(i,r,u){try{u()}catch(f){Kt(i,r,f)}}var ff=!1;function y1(i,r){if(Kl=ya,i=$d(),zl(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break t}var b=0,L=-1,D=-1,j=0,W=0,q=i,$=null;e:for(;;){for(var it;q!==u||m!==0&&q.nodeType!==3||(L=b+m),q!==y||f!==0&&q.nodeType!==3||(D=b+f),q.nodeType===3&&(b+=q.nodeValue.length),(it=q.firstChild)!==null;)$=q,q=it;for(;;){if(q===i)break e;if($===u&&++j===m&&(L=b),$===y&&++W===f&&(D=b),(it=q.nextSibling)!==null)break;q=$,$=q.parentNode}q=it}u=L===-1||D===-1?null:{start:L,end:D}}else u=null}u=u||{start:0,end:0}}else u=null;for(Xl={focusedElem:i,selectionRange:u},ya=!1,rt=r;rt!==null;)if(r=rt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,rt=i;else for(;rt!==null;){r=rt;try{var lt=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(lt!==null){var ct=lt.memoizedProps,Qt=lt.memoizedState,F=r.stateNode,R=F.getSnapshotBeforeUpdate(r.elementType===r.type?ct:hn(r.type,ct),Qt);F.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var B=r.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Z){Kt(r,r.return,Z)}if(i=r.sibling,i!==null){i.return=r.return,rt=i;break}rt=r.return}return lt=ff,ff=!1,lt}function xr(i,r,u){var f=r.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Fc(r,u,y)}m=m.next}while(m!==f)}}function Za(i,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==r)}}function Oc(i){var r=i.ref;if(r!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof r=="function"?r(i):r.current=i}}function gf(i){var r=i.alternate;r!==null&&(i.alternate=null,gf(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&(delete r[_n],delete r[ur],delete r[Zl],delete r[t1],delete r[e1])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function mf(i){return i.tag===5||i.tag===3||i.tag===4}function _f(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||mf(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Bc(i,r,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(i,r):u.insertBefore(i,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(i,u)):(r=u,r.appendChild(i)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=La));else if(f!==4&&(i=i.child,i!==null))for(Bc(i,r,u),i=i.sibling;i!==null;)Bc(i,r,u),i=i.sibling}function jc(i,r,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?u.insertBefore(i,r):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(jc(i,r,u),i=i.sibling;i!==null;)jc(i,r,u),i=i.sibling}var pe=null,dn=!1;function ni(i,r,u){for(u=u.child;u!==null;)yf(i,r,u),u=u.sibling}function yf(i,r,u){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(da,u)}catch{}switch(u.tag){case 5:Pe||_s(u,r);case 6:var f=pe,m=dn;pe=null,ni(i,r,u),pe=f,dn=m,pe!==null&&(dn?(i=pe,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):pe.removeChild(u.stateNode));break;case 18:pe!==null&&(dn?(i=pe,u=u.stateNode,i.nodeType===8?Jl(i.parentNode,u):i.nodeType===1&&Jl(i,u),Zs(i)):Jl(pe,u.stateNode));break;case 4:f=pe,m=dn,pe=u.stateNode.containerInfo,dn=!0,ni(i,r,u),pe=f,dn=m;break;case 0:case 11:case 14:case 15:if(!Pe&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var y=m,b=y.destroy;y=y.tag,b!==void 0&&((y&2)!==0||(y&4)!==0)&&Fc(u,r,b),m=m.next}while(m!==f)}ni(i,r,u);break;case 1:if(!Pe&&(_s(u,r),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(L){Kt(u,r,L)}ni(i,r,u);break;case 21:ni(i,r,u);break;case 22:u.mode&1?(Pe=(f=Pe)||u.memoizedState!==null,ni(i,r,u),Pe=f):ni(i,r,u);break;default:ni(i,r,u)}}function vf(i){var r=i.updateQueue;if(r!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new _1),r.forEach(function(f){var m=k1.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function pn(i,r){var u=r.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var y=i,b=r,L=b;t:for(;L!==null;){switch(L.tag){case 5:pe=L.stateNode,dn=!1;break t;case 3:pe=L.stateNode.containerInfo,dn=!0;break t;case 4:pe=L.stateNode.containerInfo,dn=!0;break t}L=L.return}if(pe===null)throw Error(e(160));yf(y,b,m),pe=null,dn=!1;var D=m.alternate;D!==null&&(D.return=null),m.return=null}catch(j){Kt(m,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)wf(r,i),r=r.sibling}function wf(i,r){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(pn(r,i),wn(i),f&4){try{xr(3,i,i.return),Za(3,i)}catch(ct){Kt(i,i.return,ct)}try{xr(5,i,i.return)}catch(ct){Kt(i,i.return,ct)}}break;case 1:pn(r,i),wn(i),f&512&&u!==null&&_s(u,u.return);break;case 5:if(pn(r,i),wn(i),f&512&&u!==null&&_s(u,u.return),i.flags&32){var m=i.stateNode;try{Hs(m,"")}catch(ct){Kt(i,i.return,ct)}}if(f&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,b=u!==null?u.memoizedProps:y,L=i.type,D=i.updateQueue;if(i.updateQueue=null,D!==null)try{L==="input"&&y.type==="radio"&&y.name!=null&&qh(m,y),ml(L,b);var j=ml(L,y);for(b=0;b<D.length;b+=2){var W=D[b],q=D[b+1];W==="style"?ed(m,q):W==="dangerouslySetInnerHTML"?Zh(m,q):W==="children"?Hs(m,q):S(m,W,q,j)}switch(L){case"input":hl(m,y);break;case"textarea":Yh(m,y);break;case"select":var $=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var it=y.value;it!=null?Yi(m,!!y.multiple,it,!1):$!==!!y.multiple&&(y.defaultValue!=null?Yi(m,!!y.multiple,y.defaultValue,!0):Yi(m,!!y.multiple,y.multiple?[]:"",!1))}m[ur]=y}catch(ct){Kt(i,i.return,ct)}}break;case 6:if(pn(r,i),wn(i),f&4){if(i.stateNode===null)throw Error(e(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(ct){Kt(i,i.return,ct)}}break;case 3:if(pn(r,i),wn(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Zs(r.containerInfo)}catch(ct){Kt(i,i.return,ct)}break;case 4:pn(r,i),wn(i);break;case 13:pn(r,i),wn(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Hc=Yt())),f&4&&vf(i);break;case 22:if(W=u!==null&&u.memoizedState!==null,i.mode&1?(Pe=(j=Pe)||W,pn(r,i),Pe=j):pn(r,i),wn(i),f&8192){if(j=i.memoizedState!==null,(i.stateNode.isHidden=j)&&!W&&(i.mode&1)!==0)for(rt=i,W=i.child;W!==null;){for(q=rt=W;rt!==null;){switch($=rt,it=$.child,$.tag){case 0:case 11:case 14:case 15:xr(4,$,$.return);break;case 1:_s($,$.return);var lt=$.stateNode;if(typeof lt.componentWillUnmount=="function"){f=$,u=$.return;try{r=f,lt.props=r.memoizedProps,lt.state=r.memoizedState,lt.componentWillUnmount()}catch(ct){Kt(f,u,ct)}}break;case 5:_s($,$.return);break;case 22:if($.memoizedState!==null){Pf(q);continue}}it!==null?(it.return=$,rt=it):Pf(q)}W=W.sibling}t:for(W=null,q=i;;){if(q.tag===5){if(W===null){W=q;try{m=q.stateNode,j?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(L=q.stateNode,D=q.memoizedProps.style,b=D!=null&&D.hasOwnProperty("display")?D.display:null,L.style.display=td("display",b))}catch(ct){Kt(i,i.return,ct)}}}else if(q.tag===6){if(W===null)try{q.stateNode.nodeValue=j?"":q.memoizedProps}catch(ct){Kt(i,i.return,ct)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===i)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===i)break t;for(;q.sibling===null;){if(q.return===null||q.return===i)break t;W===q&&(W=null),q=q.return}W===q&&(W=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:pn(r,i),wn(i),f&4&&vf(i);break;case 21:break;default:pn(r,i),wn(i)}}function wn(i){var r=i.flags;if(r&2){try{t:{for(var u=i.return;u!==null;){if(mf(u)){var f=u;break t}u=u.return}throw Error(e(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Hs(m,""),f.flags&=-33);var y=_f(i);jc(i,y,m);break;case 3:case 4:var b=f.stateNode.containerInfo,L=_f(i);Bc(i,L,b);break;default:throw Error(e(161))}}catch(D){Kt(i,i.return,D)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function v1(i,r,u){rt=i,xf(i)}function xf(i,r,u){for(var f=(i.mode&1)!==0;rt!==null;){var m=rt,y=m.child;if(m.tag===22&&f){var b=m.memoizedState!==null||Ja;if(!b){var L=m.alternate,D=L!==null&&L.memoizedState!==null||Pe;L=Ja;var j=Pe;if(Ja=b,(Pe=D)&&!j)for(rt=m;rt!==null;)b=rt,D=b.child,b.tag===22&&b.memoizedState!==null?Af(m):D!==null?(D.return=b,rt=D):Af(m);for(;y!==null;)rt=y,xf(y),y=y.sibling;rt=m,Ja=L,Pe=j}bf(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,rt=y):bf(i)}}function bf(i){for(;rt!==null;){var r=rt;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Pe||Za(5,r);break;case 1:var f=r.stateNode;if(r.flags&4&&!Pe)if(u===null)f.componentDidMount();else{var m=r.elementType===r.type?u.memoizedProps:hn(r.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=r.updateQueue;y!==null&&bp(r,y,f);break;case 3:var b=r.updateQueue;if(b!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}bp(r,b,u)}break;case 5:var L=r.stateNode;if(u===null&&r.flags&4){u=L;var D=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&u.focus();break;case"img":D.src&&(u.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var W=j.memoizedState;if(W!==null){var q=W.dehydrated;q!==null&&Zs(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Pe||r.flags&512&&Oc(r)}catch($){Kt(r,r.return,$)}}if(r===i){rt=null;break}if(u=r.sibling,u!==null){u.return=r.return,rt=u;break}rt=r.return}}function Pf(i){for(;rt!==null;){var r=rt;if(r===i){rt=null;break}var u=r.sibling;if(u!==null){u.return=r.return,rt=u;break}rt=r.return}}function Af(i){for(;rt!==null;){var r=rt;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{Za(4,r)}catch(D){Kt(r,u,D)}break;case 1:var f=r.stateNode;if(typeof f.componentDidMount=="function"){var m=r.return;try{f.componentDidMount()}catch(D){Kt(r,m,D)}}var y=r.return;try{Oc(r)}catch(D){Kt(r,y,D)}break;case 5:var b=r.return;try{Oc(r)}catch(D){Kt(r,b,D)}}}catch(D){Kt(r,r.return,D)}if(r===i){rt=null;break}var L=r.sibling;if(L!==null){L.return=r.return,rt=L;break}rt=r.return}}var w1=Math.ceil,to=E.ReactCurrentDispatcher,zc=E.ReactCurrentOwner,Ze=E.ReactCurrentBatchConfig,Tt=0,ce=null,ee=null,fe=0,$e=0,ys=Qn(0),oe=0,br=null,Ti=0,eo=0,Vc=0,Pr=null,Ne=null,Hc=0,vs=1/0,Fn=null,no=!1,Uc=null,ii=null,io=!1,si=null,so=0,Ar=0,Gc=null,ro=-1,ao=0;function Ce(){return(Tt&6)!==0?Yt():ro!==-1?ro:ro=Yt()}function ri(i){return(i.mode&1)===0?1:(Tt&2)!==0&&fe!==0?fe&-fe:i1.transition!==null?(ao===0&&(ao=md()),ao):(i=Dt,i!==0||(i=window.event,i=i===void 0?16:Sd(i.type)),i)}function fn(i,r,u,f){if(50<Ar)throw Ar=0,Gc=null,Error(e(185));Ks(i,u,f),((Tt&2)===0||i!==ce)&&(i===ce&&((Tt&2)===0&&(eo|=u),oe===4&&ai(i,fe)),Fe(i,f),u===1&&Tt===0&&(r.mode&1)===0&&(vs=Yt()+500,Ra&&Zn()))}function Fe(i,r){var u=i.callbackNode;i0(i,r);var f=ga(i,i===ce?fe:0);if(f===0)u!==null&&pd(u),i.callbackNode=null,i.callbackPriority=0;else if(r=f&-f,i.callbackPriority!==r){if(u!=null&&pd(u),r===1)i.tag===0?n1(Cf.bind(null,i)):up(Cf.bind(null,i)),J0(function(){(Tt&6)===0&&Zn()}),u=null;else{switch(_d(f)){case 1:u=Pl;break;case 4:u=fd;break;case 16:u=ha;break;case 536870912:u=gd;break;default:u=ha}u=Rf(u,Sf.bind(null,i))}i.callbackPriority=r,i.callbackNode=u}}function Sf(i,r){if(ro=-1,ao=0,(Tt&6)!==0)throw Error(e(327));var u=i.callbackNode;if(ws()&&i.callbackNode!==u)return null;var f=ga(i,i===ce?fe:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||r)r=oo(i,f);else{r=f;var m=Tt;Tt|=2;var y=Ef();(ce!==i||fe!==r)&&(Fn=null,vs=Yt()+500,Mi(i,r));do try{P1();break}catch(L){kf(i,L)}while(!0);lc(),to.current=y,Tt=m,ee!==null?r=0:(ce=null,fe=0,r=oe)}if(r!==0){if(r===2&&(m=Al(i),m!==0&&(f=m,r=$c(i,m))),r===1)throw u=br,Mi(i,0),ai(i,f),Fe(i,Yt()),u;if(r===6)ai(i,f);else{if(m=i.current.alternate,(f&30)===0&&!x1(m)&&(r=oo(i,f),r===2&&(y=Al(i),y!==0&&(f=y,r=$c(i,y))),r===1))throw u=br,Mi(i,0),ai(i,f),Fe(i,Yt()),u;switch(i.finishedWork=m,i.finishedLanes=f,r){case 0:case 1:throw Error(e(345));case 2:Ii(i,Ne,Fn);break;case 3:if(ai(i,f),(f&130023424)===f&&(r=Hc+500-Yt(),10<r)){if(ga(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){Ce(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Ql(Ii.bind(null,i,Ne,Fn),r);break}Ii(i,Ne,Fn);break;case 4:if(ai(i,f),(f&4194240)===f)break;for(r=i.eventTimes,m=-1;0<f;){var b=31-ln(f);y=1<<b,b=r[b],b>m&&(m=b),f&=~y}if(f=m,f=Yt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*w1(f/1960))-f,10<f){i.timeoutHandle=Ql(Ii.bind(null,i,Ne,Fn),f);break}Ii(i,Ne,Fn);break;case 5:Ii(i,Ne,Fn);break;default:throw Error(e(329))}}}return Fe(i,Yt()),i.callbackNode===u?Sf.bind(null,i):null}function $c(i,r){var u=Pr;return i.current.memoizedState.isDehydrated&&(Mi(i,r).flags|=256),i=oo(i,r),i!==2&&(r=Ne,Ne=u,r!==null&&Wc(r)),i}function Wc(i){Ne===null?Ne=i:Ne.push.apply(Ne,i)}function x1(i){for(var r=i;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],y=m.getSnapshot;m=m.value;try{if(!cn(y(),m))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ai(i,r){for(r&=~Vc,r&=~eo,i.suspendedLanes|=r,i.pingedLanes&=~r,i=i.expirationTimes;0<r;){var u=31-ln(r),f=1<<u;i[u]=-1,r&=~f}}function Cf(i){if((Tt&6)!==0)throw Error(e(327));ws();var r=ga(i,0);if((r&1)===0)return Fe(i,Yt()),null;var u=oo(i,r);if(i.tag!==0&&u===2){var f=Al(i);f!==0&&(r=f,u=$c(i,f))}if(u===1)throw u=br,Mi(i,0),ai(i,r),Fe(i,Yt()),u;if(u===6)throw Error(e(345));return i.finishedWork=i.current.alternate,i.finishedLanes=r,Ii(i,Ne,Fn),Fe(i,Yt()),null}function qc(i,r){var u=Tt;Tt|=1;try{return i(r)}finally{Tt=u,Tt===0&&(vs=Yt()+500,Ra&&Zn())}}function Li(i){si!==null&&si.tag===0&&(Tt&6)===0&&ws();var r=Tt;Tt|=1;var u=Ze.transition,f=Dt;try{if(Ze.transition=null,Dt=1,i)return i()}finally{Dt=f,Ze.transition=u,Tt=r,(Tt&6)===0&&Zn()}}function Kc(){$e=ys.current,jt(ys)}function Mi(i,r){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,Q0(u)),ee!==null)for(u=ee.return;u!==null;){var f=u;switch(ic(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Ia();break;case 3:gs(),jt(Ie),jt(we),mc();break;case 5:fc(f);break;case 4:gs();break;case 13:jt(Ut);break;case 19:jt(Ut);break;case 10:cc(f.type._context);break;case 22:case 23:Kc()}u=u.return}if(ce=i,ee=i=oi(i.current,null),fe=$e=r,oe=0,br=null,Vc=eo=Ti=0,Ne=Pr=null,Ci!==null){for(r=0;r<Ci.length;r++)if(u=Ci[r],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,y=u.pending;if(y!==null){var b=y.next;y.next=m,f.next=b}u.pending=f}Ci=null}return i}function kf(i,r){do{var u=ee;try{if(lc(),Ga.current=Ka,$a){for(var f=Gt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}$a=!1}if(Ei=0,le=ae=Gt=null,mr=!1,_r=0,zc.current=null,u===null||u.return===null){oe=1,br=r,ee=null;break}t:{var y=i,b=u.return,L=u,D=r;if(r=fe,L.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var j=D,W=L,q=W.tag;if((W.mode&1)===0&&(q===0||q===11||q===15)){var $=W.alternate;$?(W.updateQueue=$.updateQueue,W.memoizedState=$.memoizedState,W.lanes=$.lanes):(W.updateQueue=null,W.memoizedState=null)}var it=Qp(b);if(it!==null){it.flags&=-257,Jp(it,b,L,y,r),it.mode&1&&Yp(y,j,r),r=it,D=j;var lt=r.updateQueue;if(lt===null){var ct=new Set;ct.add(D),r.updateQueue=ct}else lt.add(D);break t}else{if((r&1)===0){Yp(y,j,r),Xc();break t}D=Error(e(426))}}else if(zt&&L.mode&1){var Qt=Qp(b);if(Qt!==null){(Qt.flags&65536)===0&&(Qt.flags|=256),Jp(Qt,b,L,y,r),ac(ms(D,L));break t}}y=D=ms(D,L),oe!==4&&(oe=2),Pr===null?Pr=[y]:Pr.push(y),y=b;do{switch(y.tag){case 3:y.flags|=65536,r&=-r,y.lanes|=r;var F=Kp(y,D,r);xp(y,F);break t;case 1:L=D;var R=y.type,B=y.stateNode;if((y.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ii===null||!ii.has(B)))){y.flags|=65536,r&=-r,y.lanes|=r;var Z=Xp(y,L,r);xp(y,Z);break t}}y=y.return}while(y!==null)}Lf(u)}catch(ut){r=ut,ee===u&&u!==null&&(ee=u=u.return);continue}break}while(!0)}function Ef(){var i=to.current;return to.current=Ka,i===null?Ka:i}function Xc(){(oe===0||oe===3||oe===2)&&(oe=4),ce===null||(Ti&268435455)===0&&(eo&268435455)===0||ai(ce,fe)}function oo(i,r){var u=Tt;Tt|=2;var f=Ef();(ce!==i||fe!==r)&&(Fn=null,Mi(i,r));do try{b1();break}catch(m){kf(i,m)}while(!0);if(lc(),Tt=u,to.current=f,ee!==null)throw Error(e(261));return ce=null,fe=0,oe}function b1(){for(;ee!==null;)Tf(ee)}function P1(){for(;ee!==null&&!Ky();)Tf(ee)}function Tf(i){var r=Df(i.alternate,i,$e);i.memoizedProps=i.pendingProps,r===null?Lf(i):ee=r,zc.current=null}function Lf(i){var r=i;do{var u=r.alternate;if(i=r.return,(r.flags&32768)===0){if(u=g1(u,r,$e),u!==null){ee=u;return}}else{if(u=m1(u,r),u!==null){u.flags&=32767,ee=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{oe=6,ee=null;return}}if(r=r.sibling,r!==null){ee=r;return}ee=r=i}while(r!==null);oe===0&&(oe=5)}function Ii(i,r,u){var f=Dt,m=Ze.transition;try{Ze.transition=null,Dt=1,A1(i,r,u,f)}finally{Ze.transition=m,Dt=f}return null}function A1(i,r,u,f){do ws();while(si!==null);if((Tt&6)!==0)throw Error(e(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(e(177));i.callbackNode=null,i.callbackPriority=0;var y=u.lanes|u.childLanes;if(s0(i,y),i===ce&&(ee=ce=null,fe=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||io||(io=!0,Rf(ha,function(){return ws(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Ze.transition,Ze.transition=null;var b=Dt;Dt=1;var L=Tt;Tt|=4,zc.current=null,y1(i,u),wf(u,i),G0(Xl),ya=!!Kl,Xl=Kl=null,i.current=u,v1(u),Xy(),Tt=L,Dt=b,Ze.transition=y}else i.current=u;if(io&&(io=!1,si=i,so=m),y=i.pendingLanes,y===0&&(ii=null),Jy(u.stateNode),Fe(i,Yt()),r!==null)for(f=i.onRecoverableError,u=0;u<r.length;u++)m=r[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(no)throw no=!1,i=Uc,Uc=null,i;return(so&1)!==0&&i.tag!==0&&ws(),y=i.pendingLanes,(y&1)!==0?i===Gc?Ar++:(Ar=0,Gc=i):Ar=0,Zn(),null}function ws(){if(si!==null){var i=_d(so),r=Ze.transition,u=Dt;try{if(Ze.transition=null,Dt=16>i?16:i,si===null)var f=!1;else{if(i=si,si=null,so=0,(Tt&6)!==0)throw Error(e(331));var m=Tt;for(Tt|=4,rt=i.current;rt!==null;){var y=rt,b=y.child;if((rt.flags&16)!==0){var L=y.deletions;if(L!==null){for(var D=0;D<L.length;D++){var j=L[D];for(rt=j;rt!==null;){var W=rt;switch(W.tag){case 0:case 11:case 15:xr(8,W,y)}var q=W.child;if(q!==null)q.return=W,rt=q;else for(;rt!==null;){W=rt;var $=W.sibling,it=W.return;if(gf(W),W===j){rt=null;break}if($!==null){$.return=it,rt=$;break}rt=it}}}var lt=y.alternate;if(lt!==null){var ct=lt.child;if(ct!==null){lt.child=null;do{var Qt=ct.sibling;ct.sibling=null,ct=Qt}while(ct!==null)}}rt=y}}if((y.subtreeFlags&2064)!==0&&b!==null)b.return=y,rt=b;else t:for(;rt!==null;){if(y=rt,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:xr(9,y,y.return)}var F=y.sibling;if(F!==null){F.return=y.return,rt=F;break t}rt=y.return}}var R=i.current;for(rt=R;rt!==null;){b=rt;var B=b.child;if((b.subtreeFlags&2064)!==0&&B!==null)B.return=b,rt=B;else t:for(b=R;rt!==null;){if(L=rt,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:Za(9,L)}}catch(ut){Kt(L,L.return,ut)}if(L===b){rt=null;break t}var Z=L.sibling;if(Z!==null){Z.return=L.return,rt=Z;break t}rt=L.return}}if(Tt=m,Zn(),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(da,i)}catch{}f=!0}return f}finally{Dt=u,Ze.transition=r}}return!1}function Mf(i,r,u){r=ms(u,r),r=Kp(i,r,1),i=ei(i,r,1),r=Ce(),i!==null&&(Ks(i,1,r),Fe(i,r))}function Kt(i,r,u){if(i.tag===3)Mf(i,i,u);else for(;r!==null;){if(r.tag===3){Mf(r,i,u);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ii===null||!ii.has(f))){i=ms(u,i),i=Xp(r,i,1),r=ei(r,i,1),i=Ce(),r!==null&&(Ks(r,1,i),Fe(r,i));break}}r=r.return}}function S1(i,r,u){var f=i.pingCache;f!==null&&f.delete(r),r=Ce(),i.pingedLanes|=i.suspendedLanes&u,ce===i&&(fe&u)===u&&(oe===4||oe===3&&(fe&130023424)===fe&&500>Yt()-Hc?Mi(i,0):Vc|=u),Fe(i,r)}function If(i,r){r===0&&((i.mode&1)===0?r=1:(r=fa,fa<<=1,(fa&130023424)===0&&(fa=4194304)));var u=Ce();i=Dn(i,r),i!==null&&(Ks(i,r,u),Fe(i,u))}function C1(i){var r=i.memoizedState,u=0;r!==null&&(u=r.retryLane),If(i,u)}function k1(i,r){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(e(314))}f!==null&&f.delete(r),If(i,u)}var Df;Df=function(i,r,u){if(i!==null)if(i.memoizedProps!==r.pendingProps||Ie.current)Re=!0;else{if((i.lanes&u)===0&&(r.flags&128)===0)return Re=!1,f1(i,r,u);Re=(i.flags&131072)!==0}else Re=!1,zt&&(r.flags&1048576)!==0&&hp(r,Fa,r.index);switch(r.lanes=0,r.tag){case 2:var f=r.type;Qa(i,r),i=r.pendingProps;var m=ls(r,we.current);fs(r,u),m=vc(null,r,f,i,m,u);var y=wc();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,De(f)?(y=!0,Da(r)):y=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,dc(r),m.updater=Xa,r.stateNode=m,m._reactInternals=r,Cc(r,f,i,u),r=Lc(null,r,f,!0,y,u)):(r.tag=0,zt&&y&&nc(r),Se(null,r,m,u),r=r.child),r;case 16:f=r.elementType;t:{switch(Qa(i,r),i=r.pendingProps,m=f._init,f=m(f._payload),r.type=f,m=r.tag=T1(f),i=hn(f,i),m){case 0:r=Tc(null,r,f,i,u);break t;case 1:r=rf(null,r,f,i,u);break t;case 11:r=Zp(null,r,f,i,u);break t;case 14:r=tf(null,r,f,hn(f.type,i),u);break t}throw Error(e(306,f,""))}return r;case 0:return f=r.type,m=r.pendingProps,m=r.elementType===f?m:hn(f,m),Tc(i,r,f,m,u);case 1:return f=r.type,m=r.pendingProps,m=r.elementType===f?m:hn(f,m),rf(i,r,f,m,u);case 3:t:{if(af(r),i===null)throw Error(e(387));f=r.pendingProps,y=r.memoizedState,m=y.element,wp(i,r),Ha(r,f,null,u);var b=r.memoizedState;if(f=b.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=y,r.memoizedState=y,r.flags&256){m=ms(Error(e(423)),r),r=of(i,r,f,u,m);break t}else if(f!==m){m=ms(Error(e(424)),r),r=of(i,r,f,u,m);break t}else for(Ge=Yn(r.stateNode.containerInfo.firstChild),Ue=r,zt=!0,un=null,u=yp(r,null,f,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(hs(),f===m){r=Nn(i,r,u);break t}Se(i,r,f,u)}r=r.child}return r;case 5:return Pp(r),i===null&&rc(r),f=r.type,m=r.pendingProps,y=i!==null?i.memoizedProps:null,b=m.children,Yl(f,m)?b=null:y!==null&&Yl(f,y)&&(r.flags|=32),sf(i,r),Se(i,r,b,u),r.child;case 6:return i===null&&rc(r),null;case 13:return lf(i,r,u);case 4:return pc(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=ds(r,null,f,u):Se(i,r,f,u),r.child;case 11:return f=r.type,m=r.pendingProps,m=r.elementType===f?m:hn(f,m),Zp(i,r,f,m,u);case 7:return Se(i,r,r.pendingProps,u),r.child;case 8:return Se(i,r,r.pendingProps.children,u),r.child;case 12:return Se(i,r,r.pendingProps.children,u),r.child;case 10:t:{if(f=r.type._context,m=r.pendingProps,y=r.memoizedProps,b=m.value,Ft(ja,f._currentValue),f._currentValue=b,y!==null)if(cn(y.value,b)){if(y.children===m.children&&!Ie.current){r=Nn(i,r,u);break t}}else for(y=r.child,y!==null&&(y.return=r);y!==null;){var L=y.dependencies;if(L!==null){b=y.child;for(var D=L.firstContext;D!==null;){if(D.context===f){if(y.tag===1){D=Rn(-1,u&-u),D.tag=2;var j=y.updateQueue;if(j!==null){j=j.shared;var W=j.pending;W===null?D.next=D:(D.next=W.next,W.next=D),j.pending=D}}y.lanes|=u,D=y.alternate,D!==null&&(D.lanes|=u),uc(y.return,u,r),L.lanes|=u;break}D=D.next}}else if(y.tag===10)b=y.type===r.type?null:y.child;else if(y.tag===18){if(b=y.return,b===null)throw Error(e(341));b.lanes|=u,L=b.alternate,L!==null&&(L.lanes|=u),uc(b,u,r),b=y.sibling}else b=y.child;if(b!==null)b.return=y;else for(b=y;b!==null;){if(b===r){b=null;break}if(y=b.sibling,y!==null){y.return=b.return,b=y;break}b=b.return}y=b}Se(i,r,m.children,u),r=r.child}return r;case 9:return m=r.type,f=r.pendingProps.children,fs(r,u),m=Qe(m),f=f(m),r.flags|=1,Se(i,r,f,u),r.child;case 14:return f=r.type,m=hn(f,r.pendingProps),m=hn(f.type,m),tf(i,r,f,m,u);case 15:return ef(i,r,r.type,r.pendingProps,u);case 17:return f=r.type,m=r.pendingProps,m=r.elementType===f?m:hn(f,m),Qa(i,r),r.tag=1,De(f)?(i=!0,Da(r)):i=!1,fs(r,u),Wp(r,f,m),Cc(r,f,m,u),Lc(null,r,f,!0,i,u);case 19:return uf(i,r,u);case 22:return nf(i,r,u)}throw Error(e(156,r.tag))};function Rf(i,r){return dd(i,r)}function E1(i,r,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(i,r,u,f){return new E1(i,r,u,f)}function Yc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function T1(i){if(typeof i=="function")return Yc(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ht)return 11;if(i===st)return 14}return 2}function oi(i,r){var u=i.alternate;return u===null?(u=tn(i.tag,r,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=r,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,r=i.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function lo(i,r,u,f,m,y){var b=2;if(f=i,typeof i=="function")Yc(i)&&(b=1);else if(typeof i=="string")b=5;else t:switch(i){case N:return Di(u.children,m,y,r);case O:b=8,m|=8;break;case V:return i=tn(12,u,r,m|2),i.elementType=V,i.lanes=y,i;case H:return i=tn(13,u,r,m),i.elementType=H,i.lanes=y,i;case Q:return i=tn(19,u,r,m),i.elementType=Q,i.lanes=y,i;case K:return co(u,m,y,r);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Y:b=10;break t;case tt:b=9;break t;case ht:b=11;break t;case st:b=14;break t;case X:b=16,f=null;break t}throw Error(e(130,i==null?i:typeof i,""))}return r=tn(b,u,r,m),r.elementType=i,r.type=f,r.lanes=y,r}function Di(i,r,u,f){return i=tn(7,i,f,r),i.lanes=u,i}function co(i,r,u,f){return i=tn(22,i,f,r),i.elementType=K,i.lanes=u,i.stateNode={isHidden:!1},i}function Qc(i,r,u){return i=tn(6,i,null,r),i.lanes=u,i}function Jc(i,r,u){return r=tn(4,i.children!==null?i.children:[],i.key,r),r.lanes=u,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}function L1(i,r,u,f,m){this.tag=r,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sl(0),this.expirationTimes=Sl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sl(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Zc(i,r,u,f,m,y,b,L,D){return i=new L1(i,r,u,L,D),r===1?(r=1,y===!0&&(r|=8)):r=0,y=tn(3,null,null,r),i.current=y,y.stateNode=i,y.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},dc(y),i}function M1(i,r,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:M,key:f==null?null:""+f,children:i,containerInfo:r,implementation:u}}function Nf(i){if(!i)return Jn;i=i._reactInternals;t:{if(xi(i)!==i||i.tag!==1)throw Error(e(170));var r=i;do{switch(r.tag){case 3:r=r.stateNode.context;break t;case 1:if(De(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break t}}r=r.return}while(r!==null);throw Error(e(171))}if(i.tag===1){var u=i.type;if(De(u))return lp(i,u,r)}return r}function Ff(i,r,u,f,m,y,b,L,D){return i=Zc(u,f,!0,i,m,y,b,L,D),i.context=Nf(null),u=i.current,f=Ce(),m=ri(u),y=Rn(f,m),y.callback=r??null,ei(u,y,m),i.current.lanes=m,Ks(i,m,f),Fe(i,f),i}function uo(i,r,u,f){var m=r.current,y=Ce(),b=ri(m);return u=Nf(u),r.context===null?r.context=u:r.pendingContext=u,r=Rn(y,b),r.payload={element:i},f=f===void 0?null:f,f!==null&&(r.callback=f),i=ei(m,r,b),i!==null&&(fn(i,m,b,y),Va(i,m,b)),b}function ho(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Of(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<r?u:r}}function tu(i,r){Of(i,r),(i=i.alternate)&&Of(i,r)}function I1(){return null}var Bf=typeof reportError=="function"?reportError:function(i){console.error(i)};function eu(i){this._internalRoot=i}po.prototype.render=eu.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(e(409));uo(i,r,null,null)},po.prototype.unmount=eu.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Li(function(){uo(null,i,null,null)}),r[Tn]=null}};function po(i){this._internalRoot=i}po.prototype.unstable_scheduleHydration=function(i){if(i){var r=wd();i={blockedOn:null,target:i,priority:r};for(var u=0;u<qn.length&&r!==0&&r<qn[u].priority;u++);qn.splice(u,0,i),u===0&&Pd(i)}};function nu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function fo(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jf(){}function D1(i,r,u,f,m){if(m){if(typeof f=="function"){var y=f;f=function(){var j=ho(b);y.call(j)}}var b=Ff(r,f,i,0,null,!1,!1,"",jf);return i._reactRootContainer=b,i[Tn]=b.current,lr(i.nodeType===8?i.parentNode:i),Li(),b}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var L=f;f=function(){var j=ho(D);L.call(j)}}var D=Zc(i,0,!1,null,null,!1,!1,"",jf);return i._reactRootContainer=D,i[Tn]=D.current,lr(i.nodeType===8?i.parentNode:i),Li(function(){uo(r,D,u,f)}),D}function go(i,r,u,f,m){var y=u._reactRootContainer;if(y){var b=y;if(typeof m=="function"){var L=m;m=function(){var D=ho(b);L.call(D)}}uo(r,b,i,m)}else b=D1(u,r,i,m,f);return ho(b)}yd=function(i){switch(i.tag){case 3:var r=i.stateNode;if(r.current.memoizedState.isDehydrated){var u=qs(r.pendingLanes);u!==0&&(Cl(r,u|1),Fe(r,Yt()),(Tt&6)===0&&(vs=Yt()+500,Zn()))}break;case 13:Li(function(){var f=Dn(i,1);if(f!==null){var m=Ce();fn(f,i,1,m)}}),tu(i,1)}},kl=function(i){if(i.tag===13){var r=Dn(i,134217728);if(r!==null){var u=Ce();fn(r,i,134217728,u)}tu(i,134217728)}},vd=function(i){if(i.tag===13){var r=ri(i),u=Dn(i,r);if(u!==null){var f=Ce();fn(u,i,r,f)}tu(i,r)}},wd=function(){return Dt},xd=function(i,r){var u=Dt;try{return Dt=i,r()}finally{Dt=u}},vl=function(i,r,u){switch(r){case"input":if(hl(i,u),r=u.name,u.type==="radio"&&r!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var f=u[r];if(f!==i&&f.form===i.form){var m=Ma(f);if(!m)throw Error(e(90));vi(f),hl(f,m)}}}break;case"textarea":Yh(i,u);break;case"select":r=u.value,r!=null&&Yi(i,!!u.multiple,r,!1)}},rd=qc,ad=Li;var R1={usingClientEntryPoint:!1,Events:[hr,as,Ma,id,sd,qc]},Sr={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N1={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ud(i),i===null?null:i.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||I1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{da=mo.inject(N1),mn=mo}catch{}}return Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R1,Be.createPortal=function(i,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nu(r))throw Error(e(200));return M1(i,r,null,u)},Be.createRoot=function(i,r){if(!nu(i))throw Error(e(299));var u=!1,f="",m=Bf;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=Zc(i,1,!1,null,null,u,!1,f,m),i[Tn]=r.current,lr(i.nodeType===8?i.parentNode:i),new eu(r)},Be.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(e(188)):(i=Object.keys(i).join(","),Error(e(268,i)));return i=ud(r),i=i===null?null:i.stateNode,i},Be.flushSync=function(i){return Li(i)},Be.hydrate=function(i,r,u){if(!fo(r))throw Error(e(200));return go(null,i,r,!0,u)},Be.hydrateRoot=function(i,r,u){if(!nu(i))throw Error(e(405));var f=u!=null&&u.hydratedSources||null,m=!1,y="",b=Bf;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),r=Ff(r,null,i,1,u??null,m,!1,y,b),i[Tn]=r.current,lr(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,m]:r.mutableSourceEagerHydrationData.push(u,m);return new po(r)},Be.render=function(i,r,u){if(!fo(r))throw Error(e(200));return go(null,i,r,!1,u)},Be.unmountComponentAtNode=function(i){if(!fo(i))throw Error(e(40));return i._reactRootContainer?(Li(function(){go(null,null,i,!1,function(){i._reactRootContainer=null,i[Tn]=null})}),!0):!1},Be.unstable_batchedUpdates=qc,Be.unstable_renderSubtreeIntoContainer=function(i,r,u,f){if(!fo(u))throw Error(e(200));if(i==null||i._reactInternals===void 0)throw Error(e(38));return go(i,r,u,!1,f)},Be.version="18.3.1-next-f1338f8080-20240426",Be}var Xf;function U1(){if(Xf)return au.exports;Xf=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),au.exports=H1(),au.exports}var Yf;function G1(){if(Yf)return _o;Yf=1;var a=U1();return _o.createRoot=a.createRoot,_o.hydrateRoot=a.hydrateRoot,_o}var $1=G1();const W1=Tm($1);function oh(a){return new Promise((t,e)=>{a.oncomplete=a.onsuccess=()=>t(a.result),a.onabort=a.onerror=()=>e(a.error)})}function q1(a,t){let e;const n=()=>{if(e)return e;const s=indexedDB.open(a);return s.onupgradeneeded=()=>s.result.createObjectStore(t),e=oh(s),e.then(o=>{o.onclose=()=>e=void 0},()=>{}),e};return(s,o)=>n().then(l=>o(l.transaction(t,s).objectStore(t)))}let cu;function Lm(){return cu||(cu=q1("keyval-store","keyval")),cu}function Mo(a,t=Lm()){return t("readonly",e=>oh(e.get(a)))}function Qf(a,t,e=Lm()){return e("readwrite",n=>(n.put(t,a),oh(n.transaction)))}const Mm=G.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"}),Yo=G.createContext({}),Qo=G.createContext(null),Jo=typeof document<"u",lh=Jo?G.useLayoutEffect:G.useEffect,Im=G.createContext({strict:!1}),ch=a=>a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),K1="framerAppearId",Dm="data-"+ch(K1);function X1(a,t,e,n){const{visualElement:s}=G.useContext(Yo),o=G.useContext(Im),l=G.useContext(Qo),c=G.useContext(Mm).reducedMotion,h=G.useRef();n=n||o.renderer,!h.current&&n&&(h.current=n(a,{visualState:t,parent:s,props:e,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=h.current;G.useInsertionEffect(()=>{d&&d.update(e,l)});const p=G.useRef(!!(e[Dm]&&!window.HandoffComplete));return lh(()=>{d&&(d.render(),p.current&&d.animationState&&d.animationState.animateChanges())}),G.useEffect(()=>{d&&(d.updateFeatures(),!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(p.current=!1,window.HandoffComplete=!0))}),d}function Ss(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function Y1(a,t,e){return G.useCallback(n=>{n&&a.mount&&a.mount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):Ss(e)&&(e.current=n))},[t])}function Ur(a){return typeof a=="string"||Array.isArray(a)}function Zo(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}const uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hh=["initial",...uh];function tl(a){return Zo(a.animate)||hh.some(t=>Ur(a[t]))}function Rm(a){return!!(tl(a)||a.variants)}function Q1(a,t){if(tl(a)){const{initial:e,animate:n}=a;return{initial:e===!1||Ur(e)?e:void 0,animate:Ur(n)?n:void 0}}return a.inherit!==!1?t:{}}function J1(a){const{initial:t,animate:e}=Q1(a,G.useContext(Yo));return G.useMemo(()=>({initial:t,animate:e}),[Jf(t),Jf(e)])}function Jf(a){return Array.isArray(a)?a.join(" "):a}const Zf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gr={};for(const a in Zf)Gr[a]={isEnabled:t=>Zf[a].some(e=>!!t[e])};function Z1(a){for(const t in a)Gr[t]={...Gr[t],...a[t]}}const dh=G.createContext({}),Nm=G.createContext({}),tv=Symbol.for("motionComponentSymbol");function ev({preloadedFeatures:a,createVisualElement:t,useRender:e,useVisualState:n,Component:s}){a&&Z1(a);function o(c,h){let d;const p={...G.useContext(Mm),...c,layoutId:nv(c)},{isStatic:g}=p,_=J1(c),v=n(c,g);if(!g&&Jo){_.visualElement=X1(s,v,p,t);const x=G.useContext(Nm),w=G.useContext(Im).strict;_.visualElement&&(d=_.visualElement.loadFeatures(p,w,a,x))}return G.createElement(Yo.Provider,{value:_},d&&_.visualElement?G.createElement(d,{visualElement:_.visualElement,...p}):null,e(s,c,Y1(v,_.visualElement,h),v,g,_.visualElement))}const l=G.forwardRef(o);return l[tv]=s,l}function nv({layoutId:a}){const t=G.useContext(dh).id;return t&&a!==void 0?t+"-"+a:a}function iv(a){function t(n,s={}){return ev(a(n,s))}if(typeof Proxy>"u")return t;const e=new Map;return new Proxy(t,{get:(n,s)=>(e.has(s)||e.set(s,t(s)),e.get(s))})}const sv=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ph(a){return typeof a!="string"||a.includes("-")?!1:!!(sv.indexOf(a)>-1||/[A-Z]/.test(a))}const Oo={};function rv(a){Object.assign(Oo,a)}const Qr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wi=new Set(Qr);function Fm(a,{layout:t,layoutId:e}){return Wi.has(a)||a.startsWith("origin")||(t||e!==void 0)&&(!!Oo[a]||a==="opacity")}const Ve=a=>!!(a&&a.getVelocity),av={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ov=Qr.length;function lv(a,{enableHardwareAcceleration:t=!0,allowTransformNone:e=!0},n,s){let o="";for(let l=0;l<ov;l++){const c=Qr[l];if(a[c]!==void 0){const h=av[c]||c;o+=`${h}(${a[c]}) `}}return t&&!a.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(a,n?"":o):e&&n&&(o="none"),o}const Om=a=>t=>typeof t=="string"&&t.startsWith(a),Bm=Om("--"),Iu=Om("var(--"),cv=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,uv=(a,t)=>t&&typeof a=="number"?t.transform(a):a,fi=(a,t,e)=>Math.min(Math.max(e,a),t),qi={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},Br={...qi,transform:a=>fi(0,1,a)},yo={...qi,default:1},jr=a=>Math.round(a*1e5)/1e5,el=/(-)?([\d]*\.?[\d])+/g,jm=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,hv=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jr(a){return typeof a=="string"}const Zr=a=>({test:t=>Jr(t)&&t.endsWith(a)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${a}`}),ci=Zr("deg"),kn=Zr("%"),vt=Zr("px"),dv=Zr("vh"),pv=Zr("vw"),tg={...kn,parse:a=>kn.parse(a)/100,transform:a=>kn.transform(a*100)},eg={...qi,transform:Math.round},zm={borderWidth:vt,borderTopWidth:vt,borderRightWidth:vt,borderBottomWidth:vt,borderLeftWidth:vt,borderRadius:vt,radius:vt,borderTopLeftRadius:vt,borderTopRightRadius:vt,borderBottomRightRadius:vt,borderBottomLeftRadius:vt,width:vt,maxWidth:vt,height:vt,maxHeight:vt,size:vt,top:vt,right:vt,bottom:vt,left:vt,padding:vt,paddingTop:vt,paddingRight:vt,paddingBottom:vt,paddingLeft:vt,margin:vt,marginTop:vt,marginRight:vt,marginBottom:vt,marginLeft:vt,rotate:ci,rotateX:ci,rotateY:ci,rotateZ:ci,scale:yo,scaleX:yo,scaleY:yo,scaleZ:yo,skew:ci,skewX:ci,skewY:ci,distance:vt,translateX:vt,translateY:vt,translateZ:vt,x:vt,y:vt,z:vt,perspective:vt,transformPerspective:vt,opacity:Br,originX:tg,originY:tg,originZ:vt,zIndex:eg,fillOpacity:Br,strokeOpacity:Br,numOctaves:eg};function fh(a,t,e,n){const{style:s,vars:o,transform:l,transformOrigin:c}=a;let h=!1,d=!1,p=!0;for(const g in t){const _=t[g];if(Bm(g)){o[g]=_;continue}const v=zm[g],x=uv(_,v);if(Wi.has(g)){if(h=!0,l[g]=x,!p)continue;_!==(v.default||0)&&(p=!1)}else g.startsWith("origin")?(d=!0,c[g]=x):s[g]=x}if(t.transform||(h||n?s.transform=lv(a.transform,e,p,n):s.transform&&(s.transform="none")),d){const{originX:g="50%",originY:_="50%",originZ:v=0}=c;s.transformOrigin=`${g} ${_} ${v}`}}const gh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vm(a,t,e){for(const n in t)!Ve(t[n])&&!Fm(n,e)&&(a[n]=t[n])}function fv({transformTemplate:a},t,e){return G.useMemo(()=>{const n=gh();return fh(n,t,{enableHardwareAcceleration:!e},a),Object.assign({},n.vars,n.style)},[t])}function gv(a,t,e){const n=a.style||{},s={};return Vm(s,n,a),Object.assign(s,fv(a,t,e)),a.transformValues?a.transformValues(s):s}function mv(a,t,e){const n={},s=gv(a,t,e);return a.drag&&a.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(n.tabIndex=0),n.style=s,n}const _v=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bo(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||_v.has(a)}let Hm=a=>!Bo(a);function yv(a){a&&(Hm=t=>t.startsWith("on")?!Bo(t):a(t))}try{yv(require("@emotion/is-prop-valid").default)}catch{}function vv(a,t,e){const n={};for(const s in a)s==="values"&&typeof a.values=="object"||(Hm(s)||e===!0&&Bo(s)||!t&&!Bo(s)||a.draggable&&s.startsWith("onDrag"))&&(n[s]=a[s]);return n}function ng(a,t,e){return typeof a=="string"?a:vt.transform(t+e*a)}function wv(a,t,e){const n=ng(t,a.x,a.width),s=ng(e,a.y,a.height);return`${n} ${s}`}const xv={offset:"stroke-dashoffset",array:"stroke-dasharray"},bv={offset:"strokeDashoffset",array:"strokeDasharray"};function Pv(a,t,e=1,n=0,s=!0){a.pathLength=1;const o=s?xv:bv;a[o.offset]=vt.transform(-n);const l=vt.transform(t),c=vt.transform(e);a[o.array]=`${l} ${c}`}function mh(a,{attrX:t,attrY:e,attrScale:n,originX:s,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...d},p,g,_){if(fh(a,d,p,_),g){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:v,style:x,dimensions:w}=a;v.transform&&(w&&(x.transform=v.transform),delete v.transform),w&&(s!==void 0||o!==void 0||x.transform)&&(x.transformOrigin=wv(w,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),n!==void 0&&(v.scale=n),l!==void 0&&Pv(v,l,c,h,!1)}const Um=()=>({...gh(),attrs:{}}),_h=a=>typeof a=="string"&&a.toLowerCase()==="svg";function Av(a,t,e,n){const s=G.useMemo(()=>{const o=Um();return mh(o,t,{enableHardwareAcceleration:!1},_h(n),a.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(a.style){const o={};Vm(o,a.style,a),s.style={...o,...s.style}}return s}function Sv(a=!1){return(e,n,s,{latestValues:o},l)=>{const h=(ph(e)?Av:mv)(n,o,l,e),p={...vv(n,typeof e=="string",a),...h,ref:s},{children:g}=n,_=G.useMemo(()=>Ve(g)?g.get():g,[g]);return G.createElement(e,{...p,children:_})}}function Gm(a,{style:t,vars:e},n,s){Object.assign(a.style,t,s&&s.getProjectionStyles(n));for(const o in e)a.style.setProperty(o,e[o])}const $m=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wm(a,t,e,n){Gm(a,t,void 0,n);for(const s in t.attrs)a.setAttribute($m.has(s)?s:ch(s),t.attrs[s])}function yh(a,t){const{style:e}=a,n={};for(const s in e)(Ve(e[s])||t.style&&Ve(t.style[s])||Fm(s,a))&&(n[s]=e[s]);return n}function qm(a,t){const e=yh(a,t);for(const n in a)if(Ve(a[n])||Ve(t[n])){const s=Qr.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;e[s]=a[n]}return e}function vh(a,t,e,n={},s={}){return typeof t=="function"&&(t=t(e!==void 0?e:a.custom,n,s)),typeof t=="string"&&(t=a.variants&&a.variants[t]),typeof t=="function"&&(t=t(e!==void 0?e:a.custom,n,s)),t}function Km(a){const t=G.useRef(null);return t.current===null&&(t.current=a()),t.current}const jo=a=>Array.isArray(a),Cv=a=>!!(a&&typeof a=="object"&&a.mix&&a.toValue),kv=a=>jo(a)?a[a.length-1]||0:a;function Io(a){const t=Ve(a)?a.get():a;return Cv(t)?t.toValue():t}function Ev({scrapeMotionValuesFromProps:a,createRenderState:t,onMount:e},n,s,o){const l={latestValues:Tv(n,s,o,a),renderState:t()};return e&&(l.mount=c=>e(n,c,l)),l}const Xm=a=>(t,e)=>{const n=G.useContext(Yo),s=G.useContext(Qo),o=()=>Ev(a,t,n,s);return e?o():Km(o)};function Tv(a,t,e,n){const s={},o=n(a,{});for(const _ in o)s[_]=Io(o[_]);let{initial:l,animate:c}=a;const h=tl(a),d=Rm(a);t&&d&&!h&&a.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let p=e?e.initial===!1:!1;p=p||l===!1;const g=p?c:l;return g&&typeof g!="boolean"&&!Zo(g)&&(Array.isArray(g)?g:[g]).forEach(v=>{const x=vh(a,v);if(!x)return;const{transitionEnd:w,transition:P,...A}=x;for(const C in A){let S=A[C];if(Array.isArray(S)){const E=p?S.length-1:0;S=S[E]}S!==null&&(s[C]=S)}for(const C in w)s[C]=w[C]}),s}const Zt=a=>a;class ig{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const e=this.order.indexOf(t);e!==-1&&(this.order.splice(e,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Lv(a){let t=new ig,e=new ig,n=0,s=!1,o=!1;const l=new WeakSet,c={schedule:(h,d=!1,p=!1)=>{const g=p&&s,_=g?t:e;return d&&l.add(h),_.add(h)&&g&&s&&(n=t.order.length),h},cancel:h=>{e.remove(h),l.delete(h)},process:h=>{if(s){o=!0;return}if(s=!0,[t,e]=[e,t],e.clear(),n=t.order.length,n)for(let d=0;d<n;d++){const p=t.order[d];p(h),l.has(p)&&(c.schedule(p),a())}s=!1,o&&(o=!1,c.process(h))}};return c}const vo=["prepare","read","update","preRender","render","postRender"],Mv=40;function Iv(a,t){let e=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=vo.reduce((g,_)=>(g[_]=Lv(()=>e=!0),g),{}),l=g=>o[g].process(s),c=()=>{const g=performance.now();e=!1,s.delta=n?1e3/60:Math.max(Math.min(g-s.timestamp,Mv),1),s.timestamp=g,s.isProcessing=!0,vo.forEach(l),s.isProcessing=!1,e&&t&&(n=!1,a(c))},h=()=>{e=!0,n=!0,s.isProcessing||a(c)};return{schedule:vo.reduce((g,_)=>{const v=o[_];return g[_]=(x,w=!1,P=!1)=>(e||h(),v.schedule(x,w,P)),g},{}),cancel:g=>vo.forEach(_=>o[_].cancel(g)),state:s,steps:o}}const{schedule:Ot,cancel:Un,state:Ae,steps:uu}=Iv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0),Dv={useVisualState:Xm({scrapeMotionValuesFromProps:qm,createRenderState:Um,onMount:(a,t,{renderState:e,latestValues:n})=>{Ot.read(()=>{try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}),Ot.render(()=>{mh(e,n,{enableHardwareAcceleration:!1},_h(t.tagName),a.transformTemplate),Wm(t,e)})}})},Rv={useVisualState:Xm({scrapeMotionValuesFromProps:yh,createRenderState:gh})};function Nv(a,{forwardMotionProps:t=!1},e,n){return{...ph(a)?Dv:Rv,preloadedFeatures:e,useRender:Sv(t),createVisualElement:n,Component:a}}function zn(a,t,e,n={passive:!0}){return a.addEventListener(t,e,n),()=>a.removeEventListener(t,e)}const Ym=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1;function nl(a,t="page"){return{point:{x:a[t+"X"],y:a[t+"Y"]}}}const Fv=a=>t=>Ym(t)&&a(t,nl(t));function Vn(a,t,e,n){return zn(a,t,Fv(e),n)}const Ov=(a,t)=>e=>t(a(e)),pi=(...a)=>a.reduce(Ov);function Qm(a){let t=null;return()=>{const e=()=>{t=null};return t===null?(t=a,e):!1}}const sg=Qm("dragHorizontal"),rg=Qm("dragVertical");function Jm(a){let t=!1;if(a==="y")t=rg();else if(a==="x")t=sg();else{const e=sg(),n=rg();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function Zm(){const a=Jm(!0);return a?(a(),!1):!0}class yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ag(a,t){const e="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(o,l)=>{if(o.pointerType==="touch"||Zm())return;const c=a.getProps();a.animationState&&c.whileHover&&a.animationState.setActive("whileHover",t),c[n]&&Ot.update(()=>c[n](o,l))};return Vn(a.current,e,s,{passive:!a.getProps()[n]})}class Bv extends yi{mount(){this.unmount=pi(ag(this.node,!0),ag(this.node,!1))}unmount(){}}class jv extends yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pi(zn(this.node.current,"focus",()=>this.onFocus()),zn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const t_=(a,t)=>t?a===t?!0:t_(a,t.parentElement):!1;function hu(a,t){if(!t)return;const e=new PointerEvent("pointer"+a);t(e,nl(e))}class zv extends yi{constructor(){super(...arguments),this.removeStartListeners=Zt,this.removeEndListeners=Zt,this.removeAccessibleListeners=Zt,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=Vn(window,"pointerup",(c,h)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:p,globalTapTarget:g}=this.node.getProps();Ot.update(()=>{!g&&!t_(this.node.current,c.target)?p&&p(c,h):d&&d(c,h)})},{passive:!(n.onTap||n.onPointerUp)}),l=Vn(window,"pointercancel",(c,h)=>this.cancelPress(c,h),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=pi(o,l),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||hu("up",(h,d)=>{const{onTap:p}=this.node.getProps();p&&Ot.update(()=>p(h,d))})};this.removeEndListeners(),this.removeEndListeners=zn(this.node.current,"keyup",l),hu("down",(c,h)=>{this.startPress(c,h)})},e=zn(this.node.current,"keydown",t),n=()=>{this.isPressing&&hu("cancel",(o,l)=>this.cancelPress(o,l))},s=zn(this.node.current,"blur",n);this.removeAccessibleListeners=pi(e,s)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ot.update(()=>n(t,e))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Zm()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ot.update(()=>n(t,e))}mount(){const t=this.node.getProps(),e=Vn(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=zn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pi(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Du=new WeakMap,du=new WeakMap,Vv=a=>{const t=Du.get(a.target);t&&t(a)},Hv=a=>{a.forEach(Vv)};function Uv({root:a,...t}){const e=a||document;du.has(e)||du.set(e,{});const n=du.get(e),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Hv,{root:a,...t})),n[s]}function Gv(a,t,e){const n=Uv(t);return Du.set(a,e),n.observe(a),()=>{Du.delete(a),n.unobserve(a)}}const $v={some:0,all:1};class Wv extends yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:s="some",once:o}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:$v[s]},c=h=>{const{isIntersecting:d}=h;if(this.isInView===d||(this.isInView=d,o&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),_=d?p:g;_&&_(h)};return Gv(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(qv(t,e))&&this.startObserver()}unmount(){}}function qv({viewport:a={}},{viewport:t={}}={}){return e=>a[e]!==t[e]}const Kv={inView:{Feature:Wv},tap:{Feature:zv},focus:{Feature:jv},hover:{Feature:Bv}};function e_(a,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==a.length)return!1;for(let n=0;n<e;n++)if(t[n]!==a[n])return!1;return!0}function Xv(a){const t={};return a.values.forEach((e,n)=>t[n]=e.get()),t}function Yv(a){const t={};return a.values.forEach((e,n)=>t[n]=e.getVelocity()),t}function il(a,t,e){const n=a.getProps();return vh(n,t,e!==void 0?e:n.custom,Xv(a),Yv(a))}let wh=Zt;const Ui=a=>a*1e3,Hn=a=>a/1e3,Qv={current:!1},n_=a=>Array.isArray(a)&&typeof a[0]=="number";function i_(a){return!!(!a||typeof a=="string"&&s_[a]||n_(a)||Array.isArray(a)&&a.every(i_))}const Rr=([a,t,e,n])=>`cubic-bezier(${a}, ${t}, ${e}, ${n})`,s_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rr([0,.65,.55,1]),circOut:Rr([.55,0,1,.45]),backIn:Rr([.31,.01,.66,-.59]),backOut:Rr([.33,1.53,.69,.99])};function r_(a){if(a)return n_(a)?Rr(a):Array.isArray(a)?a.map(r_):s_[a]}function Jv(a,t,e,{delay:n=0,duration:s,repeat:o=0,repeatType:l="loop",ease:c,times:h}={}){const d={[t]:e};h&&(d.offset=h);const p=r_(c);return Array.isArray(p)&&(d.easing=p),a.animate(d,{delay:n,duration:s,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function Zv(a,{repeat:t,repeatType:e="loop"}){const n=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[n]}const a_=(a,t,e)=>(((1-3*e+3*t)*a+(3*e-6*t))*a+3*t)*a,tw=1e-7,ew=12;function nw(a,t,e,n,s){let o,l,c=0;do l=t+(e-t)/2,o=a_(l,n,s)-a,o>0?e=l:t=l;while(Math.abs(o)>tw&&++c<ew);return l}function ta(a,t,e,n){if(a===t&&e===n)return Zt;const s=o=>nw(o,0,1,a,e);return o=>o===0||o===1?o:a_(s(o),t,n)}const iw=ta(.42,0,1,1),sw=ta(0,0,.58,1),o_=ta(.42,0,.58,1),rw=a=>Array.isArray(a)&&typeof a[0]!="number",l_=a=>t=>t<=.5?a(2*t)/2:(2-a(2*(1-t)))/2,c_=a=>t=>1-a(1-t),xh=a=>1-Math.sin(Math.acos(a)),u_=c_(xh),aw=l_(xh),h_=ta(.33,1.53,.69,.99),bh=c_(h_),ow=l_(bh),lw=a=>(a*=2)<1?.5*bh(a):.5*(2-Math.pow(2,-10*(a-1))),cw={linear:Zt,easeIn:iw,easeInOut:o_,easeOut:sw,circIn:xh,circInOut:aw,circOut:u_,backIn:bh,backInOut:ow,backOut:h_,anticipate:lw},og=a=>{if(Array.isArray(a)){wh(a.length===4);const[t,e,n,s]=a;return ta(t,e,n,s)}else if(typeof a=="string")return cw[a];return a},Ph=(a,t)=>e=>!!(Jr(e)&&hv.test(e)&&e.startsWith(a)||t&&Object.prototype.hasOwnProperty.call(e,t)),d_=(a,t,e)=>n=>{if(!Jr(n))return n;const[s,o,l,c]=n.match(el);return{[a]:parseFloat(s),[t]:parseFloat(o),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},uw=a=>fi(0,255,a),pu={...qi,transform:a=>Math.round(uw(a))},Bi={test:Ph("rgb","red"),parse:d_("red","green","blue"),transform:({red:a,green:t,blue:e,alpha:n=1})=>"rgba("+pu.transform(a)+", "+pu.transform(t)+", "+pu.transform(e)+", "+jr(Br.transform(n))+")"};function hw(a){let t="",e="",n="",s="";return a.length>5?(t=a.substring(1,3),e=a.substring(3,5),n=a.substring(5,7),s=a.substring(7,9)):(t=a.substring(1,2),e=a.substring(2,3),n=a.substring(3,4),s=a.substring(4,5),t+=t,e+=e,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ru={test:Ph("#"),parse:hw,transform:Bi.transform},Cs={test:Ph("hsl","hue"),parse:d_("hue","saturation","lightness"),transform:({hue:a,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(a)+", "+kn.transform(jr(t))+", "+kn.transform(jr(e))+", "+jr(Br.transform(n))+")"},Ee={test:a=>Bi.test(a)||Ru.test(a)||Cs.test(a),parse:a=>Bi.test(a)?Bi.parse(a):Cs.test(a)?Cs.parse(a):Ru.parse(a),transform:a=>Jr(a)?a:a.hasOwnProperty("red")?Bi.transform(a):Cs.transform(a)},Wt=(a,t,e)=>-e*a+e*t+a;function fu(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+(t-a)*6*e:e<1/2?t:e<2/3?a+(t-a)*(2/3-e)*6:a}function dw({hue:a,saturation:t,lightness:e,alpha:n}){a/=360,t/=100,e/=100;let s=0,o=0,l=0;if(!t)s=o=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,h=2*e-c;s=fu(h,c,a+1/3),o=fu(h,c,a),l=fu(h,c,a-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}const gu=(a,t,e)=>{const n=a*a;return Math.sqrt(Math.max(0,e*(t*t-n)+n))},pw=[Ru,Bi,Cs],fw=a=>pw.find(t=>t.test(a));function lg(a){const t=fw(a);let e=t.parse(a);return t===Cs&&(e=dw(e)),e}const p_=(a,t)=>{const e=lg(a),n=lg(t),s={...e};return o=>(s.red=gu(e.red,n.red,o),s.green=gu(e.green,n.green,o),s.blue=gu(e.blue,n.blue,o),s.alpha=Wt(e.alpha,n.alpha,o),Bi.transform(s))};function gw(a){var t,e;return isNaN(a)&&Jr(a)&&(((t=a.match(el))===null||t===void 0?void 0:t.length)||0)+(((e=a.match(jm))===null||e===void 0?void 0:e.length)||0)>0}const f_={regex:cv,countKey:"Vars",token:"${v}",parse:Zt},g_={regex:jm,countKey:"Colors",token:"${c}",parse:Ee.parse},m_={regex:el,countKey:"Numbers",token:"${n}",parse:qi.parse};function mu(a,{regex:t,countKey:e,token:n,parse:s}){const o=a.tokenised.match(t);o&&(a["num"+e]=o.length,a.tokenised=a.tokenised.replace(t,n),a.values.push(...o.map(s)))}function zo(a){const t=a.toString(),e={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return e.value.includes("var(--")&&mu(e,f_),mu(e,g_),mu(e,m_),e}function __(a){return zo(a).values}function y_(a){const{values:t,numColors:e,numVars:n,tokenised:s}=zo(a),o=t.length;return l=>{let c=s;for(let h=0;h<o;h++)h<n?c=c.replace(f_.token,l[h]):h<n+e?c=c.replace(g_.token,Ee.transform(l[h])):c=c.replace(m_.token,jr(l[h]));return c}}const mw=a=>typeof a=="number"?0:a;function _w(a){const t=__(a);return y_(a)(t.map(mw))}const gi={test:gw,parse:__,createTransformer:y_,getAnimatableNone:_w},v_=(a,t)=>e=>`${e>0?t:a}`;function w_(a,t){return typeof a=="number"?e=>Wt(a,t,e):Ee.test(a)?p_(a,t):a.startsWith("var(")?v_(a,t):b_(a,t)}const x_=(a,t)=>{const e=[...a],n=e.length,s=a.map((o,l)=>w_(o,t[l]));return o=>{for(let l=0;l<n;l++)e[l]=s[l](o);return e}},yw=(a,t)=>{const e={...a,...t},n={};for(const s in e)a[s]!==void 0&&t[s]!==void 0&&(n[s]=w_(a[s],t[s]));return s=>{for(const o in n)e[o]=n[o](s);return e}},b_=(a,t)=>{const e=gi.createTransformer(t),n=zo(a),s=zo(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?pi(x_(n.values,s.values),e):v_(a,t)},$r=(a,t,e)=>{const n=t-a;return n===0?1:(e-a)/n},cg=(a,t)=>e=>Wt(a,t,e);function vw(a){return typeof a=="number"?cg:typeof a=="string"?Ee.test(a)?p_:b_:Array.isArray(a)?x_:typeof a=="object"?yw:cg}function ww(a,t,e){const n=[],s=e||vw(a[0]),o=a.length-1;for(let l=0;l<o;l++){let c=s(a[l],a[l+1]);if(t){const h=Array.isArray(t)?t[l]||Zt:t;c=pi(h,c)}n.push(c)}return n}function P_(a,t,{clamp:e=!0,ease:n,mixer:s}={}){const o=a.length;if(wh(o===t.length),o===1)return()=>t[0];a[0]>a[o-1]&&(a=[...a].reverse(),t=[...t].reverse());const l=ww(t,n,s),c=l.length,h=d=>{let p=0;if(c>1)for(;p<a.length-2&&!(d<a[p+1]);p++);const g=$r(a[p],a[p+1],d);return l[p](g)};return e?d=>h(fi(a[0],a[o-1],d)):h}function xw(a,t){const e=a[a.length-1];for(let n=1;n<=t;n++){const s=$r(0,t,n);a.push(Wt(e,1,s))}}function bw(a){const t=[0];return xw(t,a.length-1),t}function Pw(a,t){return a.map(e=>e*t)}function Aw(a,t){return a.map(()=>t||o_).splice(0,a.length-1)}function Vo({duration:a=300,keyframes:t,times:e,ease:n="easeInOut"}){const s=rw(n)?n.map(og):og(n),o={done:!1,value:t[0]},l=Pw(e&&e.length===t.length?e:bw(t),a),c=P_(l,t,{ease:Array.isArray(s)?s:Aw(t,s)});return{calculatedDuration:a,next:h=>(o.value=c(h),o.done=h>=a,o)}}function A_(a,t){return t?a*(1e3/t):0}const Sw=5;function S_(a,t,e){const n=Math.max(t-Sw,0);return A_(e-a(n),t-n)}const _u=.001,Cw=.01,kw=10,Ew=.05,Tw=1;function Lw({duration:a=800,bounce:t=.25,velocity:e=0,mass:n=1}){let s,o,l=1-t;l=fi(Ew,Tw,l),a=fi(Cw,kw,Hn(a)),l<1?(s=d=>{const p=d*l,g=p*a,_=p-e,v=Nu(d,l),x=Math.exp(-g);return _u-_/v*x},o=d=>{const g=d*l*a,_=g*e+e,v=Math.pow(l,2)*Math.pow(d,2)*a,x=Math.exp(-g),w=Nu(Math.pow(d,2),l);return(-s(d)+_u>0?-1:1)*((_-v)*x)/w}):(s=d=>{const p=Math.exp(-d*a),g=(d-e)*a+1;return-_u+p*g},o=d=>{const p=Math.exp(-d*a),g=(e-d)*(a*a);return p*g});const c=5/a,h=Iw(s,o,c);if(a=Ui(a),isNaN(h))return{stiffness:100,damping:10,duration:a};{const d=Math.pow(h,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:a}}}const Mw=12;function Iw(a,t,e){let n=e;for(let s=1;s<Mw;s++)n=n-a(n)/t(n);return n}function Nu(a,t){return a*Math.sqrt(1-t*t)}const Dw=["duration","bounce"],Rw=["stiffness","damping","mass"];function ug(a,t){return t.some(e=>a[e]!==void 0)}function Nw(a){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...a};if(!ug(a,Rw)&&ug(a,Dw)){const e=Lw(a);t={...t,...e,mass:1},t.isResolvedFromDuration=!0}return t}function C_({keyframes:a,restDelta:t,restSpeed:e,...n}){const s=a[0],o=a[a.length-1],l={done:!1,value:s},{stiffness:c,damping:h,mass:d,duration:p,velocity:g,isResolvedFromDuration:_}=Nw({...n,velocity:-Hn(n.velocity||0)}),v=g||0,x=h/(2*Math.sqrt(c*d)),w=o-s,P=Hn(Math.sqrt(c/d)),A=Math.abs(w)<5;e||(e=A?.01:2),t||(t=A?.005:.5);let C;if(x<1){const S=Nu(P,x);C=E=>{const T=Math.exp(-x*P*E);return o-T*((v+x*P*w)/S*Math.sin(S*E)+w*Math.cos(S*E))}}else if(x===1)C=S=>o-Math.exp(-P*S)*(w+(v+P*w)*S);else{const S=P*Math.sqrt(x*x-1);C=E=>{const T=Math.exp(-x*P*E),M=Math.min(S*E,300);return o-T*((v+x*P*w)*Math.sinh(M)+S*w*Math.cosh(M))/S}}return{calculatedDuration:_&&p||null,next:S=>{const E=C(S);if(_)l.done=S>=p;else{let T=v;S!==0&&(x<1?T=S_(C,S,E):T=0);const M=Math.abs(T)<=e,N=Math.abs(o-E)<=t;l.done=M&&N}return l.value=l.done?o:E,l}}}function hg({keyframes:a,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:h,restDelta:d=.5,restSpeed:p}){const g=a[0],_={done:!1,value:g},v=O=>c!==void 0&&O<c||h!==void 0&&O>h,x=O=>c===void 0?h:h===void 0||Math.abs(c-O)<Math.abs(h-O)?c:h;let w=e*t;const P=g+w,A=l===void 0?P:l(P);A!==P&&(w=A-g);const C=O=>-w*Math.exp(-O/n),S=O=>A+C(O),E=O=>{const V=C(O),Y=S(O);_.done=Math.abs(V)<=d,_.value=_.done?A:Y};let T,M;const N=O=>{v(_.value)&&(T=O,M=C_({keyframes:[_.value,x(_.value)],velocity:S_(S,O,_.value),damping:s,stiffness:o,restDelta:d,restSpeed:p}))};return N(0),{calculatedDuration:null,next:O=>{let V=!1;return!M&&T===void 0&&(V=!0,E(O),N(O)),T!==void 0&&O>T?M.next(O-T):(!V&&E(O),_)}}}const Fw=a=>{const t=({timestamp:e})=>a(e);return{start:()=>Ot.update(t,!0),stop:()=>Un(t),now:()=>Ae.isProcessing?Ae.timestamp:performance.now()}},dg=2e4;function pg(a){let t=0;const e=50;let n=a.next(t);for(;!n.done&&t<dg;)t+=e,n=a.next(t);return t>=dg?1/0:t}const Ow={decay:hg,inertia:hg,tween:Vo,keyframes:Vo,spring:C_};function Ho({autoplay:a=!0,delay:t=0,driver:e=Fw,keyframes:n,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:h,onStop:d,onComplete:p,onUpdate:g,..._}){let v=1,x=!1,w,P;const A=()=>{P=new Promise(I=>{w=I})};A();let C;const S=Ow[s]||Vo;let E;S!==Vo&&typeof n[0]!="number"&&(E=P_([0,100],n,{clamp:!1}),n=[0,100]);const T=S({..._,keyframes:n});let M;c==="mirror"&&(M=S({..._,keyframes:[...n].reverse(),velocity:-(_.velocity||0)}));let N="idle",O=null,V=null,Y=null;T.calculatedDuration===null&&o&&(T.calculatedDuration=pg(T));const{calculatedDuration:tt}=T;let ht=1/0,H=1/0;tt!==null&&(ht=tt+l,H=ht*(o+1)-l);let Q=0;const st=I=>{if(V===null)return;v>0&&(V=Math.min(V,I)),v<0&&(V=Math.min(I-H/v,V)),O!==null?Q=O:Q=Math.round(I-V)*v;const z=Q-t*(v>=0?1:-1),nt=v>=0?z<0:z>H;Q=Math.max(z,0),N==="finished"&&O===null&&(Q=H);let pt=Q,ft=T;if(o){const Et=Math.min(Q,H)/ht;let te=Math.floor(Et),ve=Et%1;!ve&&Et>=1&&(ve=1),ve===1&&te--,te=Math.min(te,o+1),!!(te%2)&&(c==="reverse"?(ve=1-ve,l&&(ve-=l/ht)):c==="mirror"&&(ft=M)),pt=fi(0,1,ve)*ht}const yt=nt?{done:!1,value:n[0]}:ft.next(pt);E&&(yt.value=E(yt.value));let{done:_t}=yt;!nt&&tt!==null&&(_t=v>=0?Q>=H:Q<=0);const St=O===null&&(N==="finished"||N==="running"&&_t);return g&&g(yt.value),St&&U(),yt},X=()=>{C&&C.stop(),C=void 0},K=()=>{N="idle",X(),w(),A(),V=Y=null},U=()=>{N="finished",p&&p(),X(),w()},J=()=>{if(x)return;C||(C=e(st));const I=C.now();h&&h(),O!==null?V=I-O:(!V||N==="finished")&&(V=I),N==="finished"&&A(),Y=V,O=null,N="running",C.start()};a&&J();const et={then(I,z){return P.then(I,z)},get time(){return Hn(Q)},set time(I){I=Ui(I),Q=I,O!==null||!C||v===0?O=I:V=C.now()-I/v},get duration(){const I=T.calculatedDuration===null?pg(T):T.calculatedDuration;return Hn(I)},get speed(){return v},set speed(I){I===v||!C||(v=I,et.time=Hn(Q))},get state(){return N},play:J,pause:()=>{N="paused",O=Q},stop:()=>{x=!0,N!=="idle"&&(N="idle",d&&d(),K())},cancel:()=>{Y!==null&&st(Y),K()},complete:()=>{N="finished"},sample:I=>(V=0,st(I))};return et}function Bw(a){let t;return()=>(t===void 0&&(t=a()),t)}const jw=Bw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zw=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),wo=10,Vw=2e4,Hw=(a,t)=>t.type==="spring"||a==="backgroundColor"||!i_(t.ease);function Uw(a,t,{onUpdate:e,onComplete:n,...s}){if(!(jw()&&zw.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let l=!1,c,h,d=!1;const p=()=>{h=new Promise(S=>{c=S})};p();let{keyframes:g,duration:_=300,ease:v,times:x}=s;if(Hw(t,s)){const S=Ho({...s,repeat:0,delay:0});let E={done:!1,value:g[0]};const T=[];let M=0;for(;!E.done&&M<Vw;)E=S.sample(M),T.push(E.value),M+=wo;x=void 0,g=T,_=M-wo,v="linear"}const w=Jv(a.owner.current,t,g,{...s,duration:_,ease:v,times:x}),P=()=>{d=!1,w.cancel()},A=()=>{d=!0,Ot.update(P),c(),p()};return w.onfinish=()=>{d||(a.set(Zv(g,s)),n&&n(),A())},{then(S,E){return h.then(S,E)},attachTimeline(S){return w.timeline=S,w.onfinish=null,Zt},get time(){return Hn(w.currentTime||0)},set time(S){w.currentTime=Ui(S)},get speed(){return w.playbackRate},set speed(S){w.playbackRate=S},get duration(){return Hn(_)},play:()=>{l||(w.play(),Un(P))},pause:()=>w.pause(),stop:()=>{if(l=!0,w.playState==="idle")return;const{currentTime:S}=w;if(S){const E=Ho({...s,autoplay:!1});a.setWithVelocity(E.sample(S-wo).value,E.sample(S).value,wo)}A()},complete:()=>{d||w.finish()},cancel:A}}function Gw({keyframes:a,delay:t,onUpdate:e,onComplete:n}){const s=()=>(e&&e(a[a.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Zt,pause:Zt,stop:Zt,then:o=>(o(),Promise.resolve()),cancel:Zt,complete:Zt});return t?Ho({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const $w={type:"spring",stiffness:500,damping:25,restSpeed:10},Ww=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),qw={type:"keyframes",duration:.8},Kw={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xw=(a,{keyframes:t})=>t.length>2?qw:Wi.has(a)?a.startsWith("scale")?Ww(t[1]):$w:Kw,Fu=(a,t)=>a==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(gi.test(t)||t==="0")&&!t.startsWith("url(")),Yw=new Set(["brightness","contrast","saturate","opacity"]);function Qw(a){const[t,e]=a.slice(0,-1).split("(");if(t==="drop-shadow")return a;const[n]=e.match(el)||[];if(!n)return a;const s=e.replace(n,"");let o=Yw.has(t)?1:0;return n!==e&&(o*=100),t+"("+o+s+")"}const Jw=/([a-z-]*)\(.*?\)/g,Ou={...gi,getAnimatableNone:a=>{const t=a.match(Jw);return t?t.map(Qw).join(" "):a}},Zw={...zm,color:Ee,backgroundColor:Ee,outlineColor:Ee,fill:Ee,stroke:Ee,borderColor:Ee,borderTopColor:Ee,borderRightColor:Ee,borderBottomColor:Ee,borderLeftColor:Ee,filter:Ou,WebkitFilter:Ou},Ah=a=>Zw[a];function k_(a,t){let e=Ah(a);return e!==Ou&&(e=gi),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const E_=a=>/^0[^.\s]+$/.test(a);function tx(a){if(typeof a=="number")return a===0;if(a!==null)return a==="none"||a==="0"||E_(a)}function ex(a,t,e,n){const s=Fu(t,e);let o;Array.isArray(e)?o=[...e]:o=[null,e];const l=n.from!==void 0?n.from:a.get();let c;const h=[];for(let d=0;d<o.length;d++)o[d]===null&&(o[d]=d===0?l:o[d-1]),tx(o[d])&&h.push(d),typeof o[d]=="string"&&o[d]!=="none"&&o[d]!=="0"&&(c=o[d]);if(s&&h.length&&c)for(let d=0;d<h.length;d++){const p=h[d];o[p]=k_(t,c)}return o}function nx({when:a,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:l,repeatDelay:c,from:h,elapsed:d,...p}){return!!Object.keys(p).length}function Sh(a,t){return a[t]||a.default||a}const ix={skipAnimations:!1},Ch=(a,t,e,n={})=>s=>{const o=Sh(n,a)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Ui(l);const h=ex(t,a,e,o),d=h[0],p=h[h.length-1],g=Fu(a,d),_=Fu(a,p);let v={keyframes:h,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:x=>{t.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{s(),o.onComplete&&o.onComplete()}};if(nx(o)||(v={...v,...Xw(a,v)}),v.duration&&(v.duration=Ui(v.duration)),v.repeatDelay&&(v.repeatDelay=Ui(v.repeatDelay)),!g||!_||Qv.current||o.type===!1||ix.skipAnimations)return Gw(v);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const x=Uw(t,a,v);if(x)return x}return Ho(v)};function Uo(a){return!!(Ve(a)&&a.add)}const T_=a=>/^\-?\d*\.?\d+$/.test(a);function kh(a,t){a.indexOf(t)===-1&&a.push(t)}function Eh(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}class Th{constructor(){this.subscriptions=[]}add(t){return kh(this.subscriptions,t),()=>Eh(this.subscriptions,t)}notify(t,e,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,e,n);else for(let o=0;o<s;o++){const l=this.subscriptions[o];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sx=a=>!isNaN(parseFloat(a));class rx{constructor(t,e={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:l}=Ae;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,Ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=sx(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Th);const n=this.events[t].add(e);return t==="change"?()=>{n(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,n){this.set(e),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?A_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(a,t){return new rx(a,t)}const L_=a=>t=>t.test(a),ax={test:a=>a==="auto",parse:a=>a},M_=[qi,vt,kn,ci,pv,dv,ax],kr=a=>M_.find(L_(a)),ox=[...M_,Ee,gi],lx=a=>ox.find(L_(a));function cx(a,t,e){a.hasValue(t)?a.getValue(t).set(e):a.addValue(t,Os(e))}function ux(a,t){const e=il(a,t);let{transitionEnd:n={},transition:s={},...o}=e?a.makeTargetAnimatable(e,!1):{};o={...o,...n};for(const l in o){const c=kv(o[l]);cx(a,l,c)}}function hx(a,t,e){var n,s;const o=Object.keys(t).filter(c=>!a.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const h=o[c],d=t[h];let p=null;Array.isArray(d)&&(p=d[0]),p===null&&(p=(s=(n=e[h])!==null&&n!==void 0?n:a.readValue(h))!==null&&s!==void 0?s:t[h]),p!=null&&(typeof p=="string"&&(T_(p)||E_(p))?p=parseFloat(p):!lx(p)&&gi.test(d)&&(p=k_(h,d)),a.addValue(h,Os(p,{owner:a})),e[h]===void 0&&(e[h]=p),p!==null&&a.setBaseTarget(h,p))}}function dx(a,t){return t?(t[a]||t.default||t).from:void 0}function px(a,t,e){const n={};for(const s in a){const o=dx(s,t);if(o!==void 0)n[s]=o;else{const l=e.getValue(s);l&&(n[s]=l.get())}}return n}function fx({protectedKeys:a,needsAnimating:t},e){const n=a.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function gx(a,t){const e=a.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}else return e!==t}function I_(a,t,{delay:e=0,transitionOverride:n,type:s}={}){let{transition:o=a.getDefaultTransition(),transitionEnd:l,...c}=a.makeTargetAnimatable(t);const h=a.getValue("willChange");n&&(o=n);const d=[],p=s&&a.animationState&&a.animationState.getState()[s];for(const g in c){const _=a.getValue(g),v=c[g];if(!_||v===void 0||p&&fx(p,g))continue;const x={delay:e,elapsed:0,...Sh(o||{},g)};if(window.HandoffAppearAnimations){const A=a.getProps()[Dm];if(A){const C=window.HandoffAppearAnimations(A,g,_,Ot);C!==null&&(x.elapsed=C,x.isHandoff=!0)}}let w=!x.isHandoff&&!gx(_,v);if(x.type==="spring"&&(_.getVelocity()||x.velocity)&&(w=!1),_.animation&&(w=!1),w)continue;_.start(Ch(g,_,v,a.shouldReduceMotion&&Wi.has(g)?{type:!1}:x));const P=_.animation;Uo(h)&&(h.add(g),P.then(()=>h.remove(g))),d.push(P)}return l&&Promise.all(d).then(()=>{l&&ux(a,l)}),d}function Bu(a,t,e={}){const n=il(a,t,e.custom);let{transition:s=a.getDefaultTransition()||{}}=n||{};e.transitionOverride&&(s=e.transitionOverride);const o=n?()=>Promise.all(I_(a,n,e)):()=>Promise.resolve(),l=a.variantChildren&&a.variantChildren.size?(h=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=s;return mx(a,t,d+h,p,g,e)}:()=>Promise.resolve(),{when:c}=s;if(c){const[h,d]=c==="beforeChildren"?[o,l]:[l,o];return h().then(()=>d())}else return Promise.all([o(),l(e.delay)])}function mx(a,t,e=0,n=0,s=1,o){const l=[],c=(a.variantChildren.size-1)*n,h=s===1?(d=0)=>d*n:(d=0)=>c-d*n;return Array.from(a.variantChildren).sort(_x).forEach((d,p)=>{d.notify("AnimationStart",t),l.push(Bu(d,t,{...o,delay:e+h(p)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function _x(a,t){return a.sortNodePosition(t)}function yx(a,t,e={}){a.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>Bu(a,o,e));n=Promise.all(s)}else if(typeof t=="string")n=Bu(a,t,e);else{const s=typeof t=="function"?il(a,t,e.custom):t;n=Promise.all(I_(a,s,e))}return n.then(()=>a.notify("AnimationComplete",t))}const vx=[...uh].reverse(),wx=uh.length;function xx(a){return t=>Promise.all(t.map(({animation:e,options:n})=>yx(a,e,n)))}function bx(a){let t=xx(a);const e=Ax();let n=!0;const s=(h,d)=>{const p=il(a,d);if(p){const{transition:g,transitionEnd:_,...v}=p;h={...h,...v,..._}}return h};function o(h){t=h(a)}function l(h,d){const p=a.getProps(),g=a.getVariantContext(!0)||{},_=[],v=new Set;let x={},w=1/0;for(let A=0;A<wx;A++){const C=vx[A],S=e[C],E=p[C]!==void 0?p[C]:g[C],T=Ur(E),M=C===d?S.isActive:null;M===!1&&(w=A);let N=E===g[C]&&E!==p[C]&&T;if(N&&n&&a.manuallyAnimateOnMount&&(N=!1),S.protectedKeys={...x},!S.isActive&&M===null||!E&&!S.prevProp||Zo(E)||typeof E=="boolean")continue;let V=Px(S.prevProp,E)||C===d&&S.isActive&&!N&&T||A>w&&T,Y=!1;const tt=Array.isArray(E)?E:[E];let ht=tt.reduce(s,{});M===!1&&(ht={});const{prevResolvedValues:H={}}=S,Q={...H,...ht},st=X=>{V=!0,v.has(X)&&(Y=!0,v.delete(X)),S.needsAnimating[X]=!0};for(const X in Q){const K=ht[X],U=H[X];if(x.hasOwnProperty(X))continue;let J=!1;jo(K)&&jo(U)?J=!e_(K,U):J=K!==U,J?K!==void 0?st(X):v.add(X):K!==void 0&&v.has(X)?st(X):S.protectedKeys[X]=!0}S.prevProp=E,S.prevResolvedValues=ht,S.isActive&&(x={...x,...ht}),n&&a.blockInitialAnimation&&(V=!1),V&&(!N||Y)&&_.push(...tt.map(X=>({animation:X,options:{type:C,...h}})))}if(v.size){const A={};v.forEach(C=>{const S=a.getBaseTarget(C);S!==void 0&&(A[C]=S)}),_.push({animation:A})}let P=!!_.length;return n&&(p.initial===!1||p.initial===p.animate)&&!a.manuallyAnimateOnMount&&(P=!1),n=!1,P?t(_):Promise.resolve()}function c(h,d,p){var g;if(e[h].isActive===d)return Promise.resolve();(g=a.variantChildren)===null||g===void 0||g.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(h,d)}),e[h].isActive=d;const _=l(p,h);for(const v in e)e[v].protectedKeys={};return _}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>e}}function Px(a,t){return typeof t=="string"?t!==a:Array.isArray(t)?!e_(t,a):!1}function Ri(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ax(){return{animate:Ri(!0),whileInView:Ri(),whileHover:Ri(),whileTap:Ri(),whileDrag:Ri(),whileFocus:Ri(),exit:Ri()}}class Sx extends yi{constructor(t){super(t),t.animationState||(t.animationState=bx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Zo(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}let Cx=0;class kx extends yi{constructor(){super(...arguments),this.id=Cx++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});e&&!t&&o.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Ex={animation:{Feature:Sx},exit:{Feature:kx}},fg=(a,t)=>Math.abs(a-t);function Tx(a,t){const e=fg(a.x,t.x),n=fg(a.y,t.y);return Math.sqrt(e**2+n**2)}class D_{constructor(t,e,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=vu(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,v=Tx(g.offset,{x:0,y:0})>=3;if(!_&&!v)return;const{point:x}=g,{timestamp:w}=Ae;this.history.push({...x,timestamp:w});const{onStart:P,onMove:A}=this.handlers;_||(P&&P(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,_)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=yu(_,this.transformPagePoint),Ot.update(this.updatePoint,!0)},this.handlePointerUp=(g,_)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=vu(g.type==="pointercancel"?this.lastMoveEventInfo:yu(_,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,P),x&&x(g,P)},!Ym(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=n,this.contextWindow=s||window;const l=nl(t),c=yu(l,this.transformPagePoint),{point:h}=c,{timestamp:d}=Ae;this.history=[{...h,timestamp:d}];const{onSessionStart:p}=e;p&&p(t,vu(c,this.history)),this.removeListeners=pi(Vn(this.contextWindow,"pointermove",this.handlePointerMove),Vn(this.contextWindow,"pointerup",this.handlePointerUp),Vn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Un(this.updatePoint)}}function yu(a,t){return t?{point:t(a.point)}:a}function gg(a,t){return{x:a.x-t.x,y:a.y-t.y}}function vu({point:a},t){return{point:a,delta:gg(a,R_(t)),offset:gg(a,Lx(t)),velocity:Mx(t,.1)}}function Lx(a){return a[0]}function R_(a){return a[a.length-1]}function Mx(a,t){if(a.length<2)return{x:0,y:0};let e=a.length-1,n=null;const s=R_(a);for(;e>=0&&(n=a[e],!(s.timestamp-n.timestamp>Ui(t)));)e--;if(!n)return{x:0,y:0};const o=Hn(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Ke(a){return a.max-a.min}function ju(a,t=0,e=.01){return Math.abs(a-t)<=e}function mg(a,t,e,n=.5){a.origin=n,a.originPoint=Wt(t.min,t.max,a.origin),a.scale=Ke(e)/Ke(t),(ju(a.scale,1,1e-4)||isNaN(a.scale))&&(a.scale=1),a.translate=Wt(e.min,e.max,a.origin)-a.originPoint,(ju(a.translate)||isNaN(a.translate))&&(a.translate=0)}function zr(a,t,e,n){mg(a.x,t.x,e.x,n?n.originX:void 0),mg(a.y,t.y,e.y,n?n.originY:void 0)}function _g(a,t,e){a.min=e.min+t.min,a.max=a.min+Ke(t)}function Ix(a,t,e){_g(a.x,t.x,e.x),_g(a.y,t.y,e.y)}function yg(a,t,e){a.min=t.min-e.min,a.max=a.min+Ke(t)}function Vr(a,t,e){yg(a.x,t.x,e.x),yg(a.y,t.y,e.y)}function Dx(a,{min:t,max:e},n){return t!==void 0&&a<t?a=n?Wt(t,a,n.min):Math.max(a,t):e!==void 0&&a>e&&(a=n?Wt(e,a,n.max):Math.min(a,e)),a}function vg(a,t,e){return{min:t!==void 0?a.min+t:void 0,max:e!==void 0?a.max+e-(a.max-a.min):void 0}}function Rx(a,{top:t,left:e,bottom:n,right:s}){return{x:vg(a.x,e,s),y:vg(a.y,t,n)}}function wg(a,t){let e=t.min-a.min,n=t.max-a.max;return t.max-t.min<a.max-a.min&&([e,n]=[n,e]),{min:e,max:n}}function Nx(a,t){return{x:wg(a.x,t.x),y:wg(a.y,t.y)}}function Fx(a,t){let e=.5;const n=Ke(a),s=Ke(t);return s>n?e=$r(t.min,t.max-n,a.min):n>s&&(e=$r(a.min,a.max-s,t.min)),fi(0,1,e)}function Ox(a,t){const e={};return t.min!==void 0&&(e.min=t.min-a.min),t.max!==void 0&&(e.max=t.max-a.min),e}const zu=.35;function Bx(a=zu){return a===!1?a=0:a===!0&&(a=zu),{x:xg(a,"left","right"),y:xg(a,"top","bottom")}}function xg(a,t,e){return{min:bg(a,t),max:bg(a,e)}}function bg(a,t){return typeof a=="number"?a:a[t]||0}const Pg=()=>({translate:0,scale:1,origin:0,originPoint:0}),ks=()=>({x:Pg(),y:Pg()}),Ag=()=>({min:0,max:0}),se=()=>({x:Ag(),y:Ag()});function rn(a){return[a("x"),a("y")]}function N_({top:a,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:a,max:n}}}function jx({x:a,y:t}){return{top:t.min,right:a.max,bottom:t.max,left:a.min}}function zx(a,t){if(!t)return a;const e=t({x:a.left,y:a.top}),n=t({x:a.right,y:a.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function wu(a){return a===void 0||a===1}function Vu({scale:a,scaleX:t,scaleY:e}){return!wu(a)||!wu(t)||!wu(e)}function Ni(a){return Vu(a)||F_(a)||a.z||a.rotate||a.rotateX||a.rotateY}function F_(a){return Sg(a.x)||Sg(a.y)}function Sg(a){return a&&a!=="0%"}function Go(a,t,e){const n=a-e,s=t*n;return e+s}function Cg(a,t,e,n,s){return s!==void 0&&(a=Go(a,s,n)),Go(a,e,n)+t}function Hu(a,t=0,e=1,n,s){a.min=Cg(a.min,t,e,n,s),a.max=Cg(a.max,t,e,n,s)}function O_(a,{x:t,y:e}){Hu(a.x,t.translate,t.scale,t.originPoint),Hu(a.y,e.translate,e.scale,e.originPoint)}function Vx(a,t,e,n=!1){const s=e.length;if(!s)return;t.x=t.y=1;let o,l;for(let c=0;c<s;c++){o=e[c],l=o.projectionDelta;const h=o.instance;h&&h.style&&h.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Es(a,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,O_(a,l)),n&&Ni(o.latestValues)&&Es(a,o.latestValues))}t.x=kg(t.x),t.y=kg(t.y)}function kg(a){return Number.isInteger(a)||a>1.0000000000001||a<.999999999999?a:1}function ui(a,t){a.min=a.min+t,a.max=a.max+t}function Eg(a,t,[e,n,s]){const o=t[s]!==void 0?t[s]:.5,l=Wt(a.min,a.max,o);Hu(a,t[e],t[n],l,t.scale)}const Hx=["x","scaleX","originX"],Ux=["y","scaleY","originY"];function Es(a,t){Eg(a.x,t,Hx),Eg(a.y,t,Ux)}function B_(a,t){return N_(zx(a.getBoundingClientRect(),t))}function Gx(a,t,e){const n=B_(a,e),{scroll:s}=t;return s&&(ui(n.x,s.offset.x),ui(n.y,s.offset.y)),n}const j_=({current:a})=>a?a.ownerDocument.defaultView:null,$x=new WeakMap;class Wx{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=se(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(nl(p,"page").point)},o=(p,g)=>{const{drag:_,dragPropagation:v,onDragStart:x}=this.getProps();if(_&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Jm(_),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(P=>{let A=this.getAxisMotionValue(P).get()||0;if(kn.test(A)){const{projection:C}=this.visualElement;if(C&&C.layout){const S=C.layout.layoutBox[P];S&&(A=Ke(S)*(parseFloat(A)/100))}}this.originPoint[P]=A}),x&&Ot.update(()=>x(p,g),!1,!0);const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(p,g)=>{const{dragPropagation:_,dragDirectionLock:v,onDirectionLock:x,onDrag:w}=this.getProps();if(!_&&!this.openGlobalLock)return;const{offset:P}=g;if(v&&this.currentDirection===null){this.currentDirection=qx(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,P),this.updateAxis("y",g.point,P),this.visualElement.render(),w&&w(p,g)},c=(p,g)=>this.stop(p,g),h=()=>rn(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new D_(t,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:j_(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=e;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ot.update(()=>o(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:s}=this.getProps();if(!n||!xo(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=Dx(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;e&&Ss(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=Rx(s.layoutBox,e):this.constraints=!1,this.elastic=Bx(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&rn(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=Ox(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Ss(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=Gx(n,s.root,this.visualElement.getTransformPagePoint());let l=Nx(s.layout.layoutBox,o);if(e){const c=e(jx(l));this.hasMutatedConstraints=!!c,c&&(l=N_(c))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},d=rn(p=>{if(!xo(p,e,this.currentDirection))return;let g=h&&h[p]||{};l&&(g={min:0,max:0});const _=s?200:1e6,v=s?40:1e7,x={type:"inertia",velocity:n?t[p]:0,bounceStiffness:_,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,x)});return Promise.all(d).then(c)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return n.start(Ch(t,n,0,e))}stopAnimation(){rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rn(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[e];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){rn(e=>{const{drag:n}=this.getProps();if(!xo(e,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(e);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[e];o.set(t[e]-Wt(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Ss(e)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};rn(l=>{const c=this.getAxisMotionValue(l);if(c){const h=c.get();s[l]=Fx({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),rn(l=>{if(!xo(l,t,null))return;const c=this.getAxisMotionValue(l),{min:h,max:d}=this.constraints[l];c.set(Wt(h,d,s[l]))})}addListeners(){if(!this.visualElement.current)return;$x.set(this.visualElement,this);const t=this.visualElement.current,e=Vn(t,"pointerdown",h=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();Ss(h)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const l=zn(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:d})=>{this.isDragging&&d&&(rn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())}));return()=>{l(),e(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:l=zu,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function xo(a,t,e){return(t===!0||t===a)&&(e===null||e===a)}function qx(a,t=10){let e=null;return Math.abs(a.y)>t?e="y":Math.abs(a.x)>t&&(e="x"),e}class Kx extends yi{constructor(t){super(t),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new Wx(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Tg=a=>(t,e)=>{a&&Ot.update(()=>a(t,e))};class Xx extends yi{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(t){this.session=new D_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:j_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Tg(t),onStart:Tg(e),onMove:n,onEnd:(o,l)=>{delete this.session,s&&Ot.update(()=>s(o,l))}}}mount(){this.removePointerDownListener=Vn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Yx(){const a=G.useContext(Qo);if(a===null)return[!0,null];const{isPresent:t,onExitComplete:e,register:n}=a,s=G.useId();return G.useEffect(()=>n(s),[]),!t&&e?[!1,()=>e&&e(s)]:[!0]}const Do={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lg(a,t){return t.max===t.min?0:a/(t.max-t.min)*100}const Er={correct:(a,t)=>{if(!t.target)return a;if(typeof a=="string")if(vt.test(a))a=parseFloat(a);else return a;const e=Lg(a,t.target.x),n=Lg(a,t.target.y);return`${e}% ${n}%`}},Qx={correct:(a,{treeScale:t,projectionDelta:e})=>{const n=a,s=gi.parse(a);if(s.length>5)return n;const o=gi.createTransformer(a),l=typeof s[0]!="number"?1:0,c=e.x.scale*t.x,h=e.y.scale*t.y;s[0+l]/=c,s[1+l]/=h;const d=Wt(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=d),typeof s[3+l]=="number"&&(s[3+l]/=d),o(s)}};class Jx extends ah.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;rv(Zx),o&&(e.group&&e.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Do.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:s,isPresent:o}=this.props,l=n.projection;return l&&(l.isPresent=o,s||t.layoutDependency!==e||e===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Ot.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function z_(a){const[t,e]=Yx(),n=G.useContext(dh);return ah.createElement(Jx,{...a,layoutGroup:n,switchLayoutGroup:G.useContext(Nm),isPresent:t,safeToRemove:e})}const Zx={borderRadius:{...Er,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Er,borderTopRightRadius:Er,borderBottomLeftRadius:Er,borderBottomRightRadius:Er,boxShadow:Qx},V_=["TopLeft","TopRight","BottomLeft","BottomRight"],t2=V_.length,Mg=a=>typeof a=="string"?parseFloat(a):a,Ig=a=>typeof a=="number"||vt.test(a);function e2(a,t,e,n,s,o){s?(a.opacity=Wt(0,e.opacity!==void 0?e.opacity:1,n2(n)),a.opacityExit=Wt(t.opacity!==void 0?t.opacity:1,0,i2(n))):o&&(a.opacity=Wt(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let l=0;l<t2;l++){const c=`border${V_[l]}Radius`;let h=Dg(t,c),d=Dg(e,c);if(h===void 0&&d===void 0)continue;h||(h=0),d||(d=0),h===0||d===0||Ig(h)===Ig(d)?(a[c]=Math.max(Wt(Mg(h),Mg(d),n),0),(kn.test(d)||kn.test(h))&&(a[c]+="%")):a[c]=d}(t.rotate||e.rotate)&&(a.rotate=Wt(t.rotate||0,e.rotate||0,n))}function Dg(a,t){return a[t]!==void 0?a[t]:a.borderRadius}const n2=H_(0,.5,u_),i2=H_(.5,.95,Zt);function H_(a,t,e){return n=>n<a?0:n>t?1:e($r(a,t,n))}function Rg(a,t){a.min=t.min,a.max=t.max}function en(a,t){Rg(a.x,t.x),Rg(a.y,t.y)}function Ng(a,t,e,n,s){return a-=t,a=Go(a,1/e,n),s!==void 0&&(a=Go(a,1/s,n)),a}function s2(a,t=0,e=1,n=.5,s,o=a,l=a){if(kn.test(t)&&(t=parseFloat(t),t=Wt(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Wt(o.min,o.max,n);a===o&&(c-=t),a.min=Ng(a.min,t,e,c,s),a.max=Ng(a.max,t,e,c,s)}function Fg(a,t,[e,n,s],o,l){s2(a,t[e],t[n],t[s],t.scale,o,l)}const r2=["x","scaleX","originX"],a2=["y","scaleY","originY"];function Og(a,t,e,n){Fg(a.x,t,r2,e?e.x:void 0,n?n.x:void 0),Fg(a.y,t,a2,e?e.y:void 0,n?n.y:void 0)}function Bg(a){return a.translate===0&&a.scale===1}function U_(a){return Bg(a.x)&&Bg(a.y)}function o2(a,t){return a.x.min===t.x.min&&a.x.max===t.x.max&&a.y.min===t.y.min&&a.y.max===t.y.max}function G_(a,t){return Math.round(a.x.min)===Math.round(t.x.min)&&Math.round(a.x.max)===Math.round(t.x.max)&&Math.round(a.y.min)===Math.round(t.y.min)&&Math.round(a.y.max)===Math.round(t.y.max)}function jg(a){return Ke(a.x)/Ke(a.y)}class l2{constructor(){this.members=[]}add(t){kh(this.members,t),t.scheduleRender()}remove(t){if(Eh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(s=>t===s);if(e===0)return!1;let n;for(let s=e;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zg(a,t,e){let n="";const s=a.x.translate/t.x,o=a.y.translate/t.y;if((s||o)&&(n=`translate3d(${s}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{rotate:h,rotateX:d,rotateY:p}=e;h&&(n+=`rotate(${h}deg) `),d&&(n+=`rotateX(${d}deg) `),p&&(n+=`rotateY(${p}deg) `)}const l=a.x.scale*t.x,c=a.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const c2=(a,t)=>a.depth-t.depth;class u2{constructor(){this.children=[],this.isDirty=!1}add(t){kh(this.children,t),this.isDirty=!0}remove(t){Eh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(c2),this.isDirty=!1,this.children.forEach(t)}}function h2(a,t){const e=performance.now(),n=({timestamp:s})=>{const o=s-e;o>=t&&(Un(n),a(o-t))};return Ot.read(n,!0),()=>Un(n)}function d2(a){window.MotionDebug&&window.MotionDebug.record(a)}function p2(a){return a instanceof SVGElement&&a.tagName!=="svg"}function f2(a,t,e){const n=Ve(a)?a:Os(a);return n.start(Ch("",n,t,e)),n.animation}const Vg=["","X","Y","Z"],g2={visibility:"hidden"},Hg=1e3;let m2=0;const Fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function $_({attachResizeListener:a,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=m2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Fi.totalNodes=Fi.resolvedTargetDeltas=Fi.recalculatedProjection=0,this.nodes.forEach(v2),this.nodes.forEach(A2),this.nodes.forEach(S2),this.nodes.forEach(w2),d2(Fi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new u2)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Th),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p2(l),this.instance=l;const{layoutId:h,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||h)&&(this.isLayoutDirty=!0),a){let g;const _=()=>this.root.updateBlockedByResize=!1;a(l,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=h2(_,250),Do.hasAnimatedSinceResize&&(Do.hasAnimatedSinceResize=!1,this.nodes.forEach(Gg))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:_,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||L2,{onLayoutAnimationStart:P,onLayoutAnimationComplete:A}=p.getProps(),C=!this.targetLayout||!G_(this.targetLayout,x)||v,S=!_&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||S||_&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,S);const E={...Sh(w,"layout"),onPlay:P,onComplete:A};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else _||Gg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C2),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ug);return}this.isUpdating||this.nodes.forEach(b2),this.isUpdating=!1,this.nodes.forEach(P2),this.nodes.forEach(_2),this.nodes.forEach(y2),this.clearAllSnapshots();const c=performance.now();Ae.delta=fi(0,1e3/60,c-Ae.timestamp),Ae.timestamp=c,Ae.isProcessing=!0,uu.update.process(Ae),uu.preRender.process(Ae),uu.render.process(Ae),Ae.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(x2),this.sharedNodes.forEach(k2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ot.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ot.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=se(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:e(this.instance)})}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!U_(this.projectionDelta),h=this.getTransformTemplate(),d=h?h(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;l&&(c||Ni(this.latestValues)||p)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),M2(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return se();const c=l.measureViewportBox(),{scroll:h}=this.root;return h&&(ui(c.x,h.offset.x),ui(c.y,h.offset.y)),c}removeElementScroll(l){const c=se();en(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h],{scroll:p,options:g}=d;if(d!==this.root&&p&&g.layoutScroll){if(p.isRoot){en(c,l);const{scroll:_}=this.root;_&&(ui(c.x,-_.offset.x),ui(c.y,-_.offset.y))}ui(c.x,p.offset.x),ui(c.y,p.offset.y)}}return c}applyTransform(l,c=!1){const h=se();en(h,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Es(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ni(p.latestValues)&&Es(h,p.latestValues)}return Ni(this.latestValues)&&Es(h,this.latestValues),h}removeTransform(l){const c=se();en(c,l);for(let h=0;h<this.path.length;h++){const d=this.path[h];if(!d.instance||!Ni(d.latestValues))continue;Vu(d.latestValues)&&d.updateSnapshot();const p=se(),g=d.measurePageBox();en(p,g),Og(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Ni(this.latestValues)&&Og(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ae.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:g,layoutId:_}=this.options;if(!(!this.layout||!(g||_))){if(this.resolvedRelativeTargetAt=Ae.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),Vr(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=se(),this.targetWithTransforms=se()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ix(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),O_(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=se(),this.relativeTargetOrigin=se(),Vr(this.relativeTargetOrigin,this.target,v.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vu(this.parent.latestValues)||F_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ae.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;en(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,v=this.treeScale.y;Vx(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:x}=c;if(!x){this.projectionTransform&&(this.projectionDelta=ks(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ks(),this.projectionDeltaWithTransform=ks());const w=this.projectionTransform;zr(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=zg(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==_||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const h=this.snapshot,d=h?h.latestValues:{},p={...this.latestValues},g=ks();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=se(),v=h?h.source:void 0,x=this.layout?this.layout.source:void 0,w=v!==x,P=this.getStack(),A=!P||P.members.length<=1,C=!!(w&&!A&&this.options.crossfade===!0&&!this.path.some(T2));this.animationProgress=0;let S;this.mixTargetDelta=E=>{const T=E/1e3;$g(g.x,l.x,T),$g(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vr(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E2(this.relativeTarget,this.relativeTargetOrigin,_,T),S&&o2(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=se()),en(S,this.relativeTarget)),w&&(this.animationValues=p,e2(p,d,this.latestValues,T,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ot.update(()=>{Do.hasAnimatedSinceResize=!0,this.currentAnimation=f2(0,Hg,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:d,latestValues:p}=l;if(!(!c||!h||!d)){if(this!==l&&this.layout&&d&&W_(this.options.animationType,this.layout.layoutBox,d.layoutBox)){h=this.target||se();const g=Ke(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+g;const _=Ke(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}en(c,h),Es(c,p),zr(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new l2),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const d=this.getStack();d&&d.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(c=!0),!c)return;const d={};for(let p=0;p<Vg.length;p++){const g="rotate"+Vg[p];h[g]&&(d[g]=h[g],l.setStaticValue(g,0))}l.render();for(const p in d)l.setStaticValue(p,d[p]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return g2;const d={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=Io(l?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none",d;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Io(l?.pointerEvents)||""),this.hasProjected&&!Ni(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const _=g.animationValues||g.latestValues;this.applyTransformsToTarget(),d.transform=zg(this.projectionDeltaWithTransform,this.treeScale,_),p&&(d.transform=p(_,d.transform));const{x:v,y:x}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,g.animationValues?d.opacity=g===this?(h=(c=_.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:d.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const w in Oo){if(_[w]===void 0)continue;const{correct:P,applyTo:A}=Oo[w],C=d.transform==="none"?_[w]:P(_[w],g);if(A){const S=A.length;for(let E=0;E<S;E++)d[A[E]]=C}else d[w]=C}return this.options.layoutId&&(d.pointerEvents=g===this?Io(l?.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Ug),this.root.sharedNodes.clear()}}}function _2(a){a.updateLayout()}function y2(a){var t;const e=((t=a.resumeFrom)===null||t===void 0?void 0:t.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&e&&a.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=a.layout,{animationType:o}=a.options,l=e.source!==a.layout.source;o==="size"?rn(g=>{const _=l?e.measuredBox[g]:e.layoutBox[g],v=Ke(_);_.min=n[g].min,_.max=_.min+v}):W_(o,e.layoutBox,n)&&rn(g=>{const _=l?e.measuredBox[g]:e.layoutBox[g],v=Ke(n[g]);_.max=_.min+v,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[g].max=a.relativeTarget[g].min+v)});const c=ks();zr(c,n,e.layoutBox);const h=ks();l?zr(h,a.applyTransform(s,!0),e.measuredBox):zr(h,n,e.layoutBox);const d=!U_(c);let p=!1;if(!a.resumeFrom){const g=a.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:_,layout:v}=g;if(_&&v){const x=se();Vr(x,e.layoutBox,_.layoutBox);const w=se();Vr(w,n,v.layoutBox),G_(x,w)||(p=!0),g.options.layoutRoot&&(a.relativeTarget=w,a.relativeTargetOrigin=x,a.relativeParent=g)}}}a.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:p})}else if(a.isLead()){const{onExitComplete:n}=a.options;n&&n()}a.options.transition=void 0}function v2(a){Fi.totalNodes++,a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function w2(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function x2(a){a.clearSnapshot()}function Ug(a){a.clearMeasurements()}function b2(a){a.isLayoutDirty=!1}function P2(a){const{visualElement:t}=a.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),a.resetTransform()}function Gg(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function A2(a){a.resolveTargetDelta()}function S2(a){a.calcProjection()}function C2(a){a.resetRotation()}function k2(a){a.removeLeadSnapshot()}function $g(a,t,e){a.translate=Wt(t.translate,0,e),a.scale=Wt(t.scale,1,e),a.origin=t.origin,a.originPoint=t.originPoint}function Wg(a,t,e,n){a.min=Wt(t.min,e.min,n),a.max=Wt(t.max,e.max,n)}function E2(a,t,e,n){Wg(a.x,t.x,e.x,n),Wg(a.y,t.y,e.y,n)}function T2(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const L2={duration:.45,ease:[.4,0,.1,1]},qg=a=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(a),Kg=qg("applewebkit/")&&!qg("chrome/")?Math.round:Zt;function Xg(a){a.min=Kg(a.min),a.max=Kg(a.max)}function M2(a){Xg(a.x),Xg(a.y)}function W_(a,t,e){return a==="position"||a==="preserve-aspect"&&!ju(jg(t),jg(e),.2)}const I2=$_({attachResizeListener:(a,t)=>zn(a,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xu={current:void 0},q_=$_({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!xu.current){const a=new I2({});a.mount(window),a.setOptions({layoutScroll:!0}),xu.current=a}return xu.current},resetTransform:(a,t)=>{a.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),D2={pan:{Feature:Xx},drag:{Feature:Kx,ProjectionNode:q_,MeasureLayout:z_}},R2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function N2(a){const t=R2.exec(a);if(!t)return[,];const[,e,n]=t;return[e,n]}function Uu(a,t,e=1){const[n,s]=N2(a);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return T_(l)?parseFloat(l):l}else return Iu(s)?Uu(s,t,e+1):s}function F2(a,{...t},e){const n=a.current;if(!(n instanceof Element))return{target:t,transitionEnd:e};e&&(e={...e}),a.values.forEach(s=>{const o=s.get();if(!Iu(o))return;const l=Uu(o,n);l&&s.set(l)});for(const s in t){const o=t[s];if(!Iu(o))continue;const l=Uu(o,n);l&&(t[s]=l,e||(e={}),e[s]===void 0&&(e[s]=o))}return{target:t,transitionEnd:e}}const O2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),K_=a=>O2.has(a),B2=a=>Object.keys(a).some(K_),Yg=a=>a===qi||a===vt,Qg=(a,t)=>parseFloat(a.split(", ")[t]),Jg=(a,t)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return Qg(s[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?Qg(o[1],a):0}},j2=new Set(["x","y","z"]),z2=Qr.filter(a=>!j2.has(a));function V2(a){const t=[];return z2.forEach(e=>{const n=a.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t.length&&a.render(),t}const Bs={width:({x:a},{paddingLeft:t="0",paddingRight:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),height:({y:a},{paddingTop:t="0",paddingBottom:e="0"})=>a.max-a.min-parseFloat(t)-parseFloat(e),top:(a,{top:t})=>parseFloat(t),left:(a,{left:t})=>parseFloat(t),bottom:({y:a},{top:t})=>parseFloat(t)+(a.max-a.min),right:({x:a},{left:t})=>parseFloat(t)+(a.max-a.min),x:Jg(4,13),y:Jg(5,14)};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const H2=(a,t,e)=>{const n=t.measureViewportBox(),s=t.current,o=getComputedStyle(s),{display:l}=o,c={};l==="none"&&t.setStaticValue("display",a.display||"block"),e.forEach(d=>{c[d]=Bs[d](n,o)}),t.render();const h=t.measureViewportBox();return e.forEach(d=>{const p=t.getValue(d);p&&p.jump(c[d]),a[d]=Bs[d](h,o)}),a},U2=(a,t,e={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(K_);let o=[],l=!1;const c=[];if(s.forEach(h=>{const d=a.getValue(h);if(!a.hasValue(h))return;let p=e[h],g=kr(p);const _=t[h];let v;if(jo(_)){const x=_.length,w=_[0]===null?1:0;p=_[w],g=kr(p);for(let P=w;P<x&&_[P]!==null;P++)v?wh(kr(_[P])===v):v=kr(_[P])}else v=kr(_);if(g!==v)if(Yg(g)&&Yg(v)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof _=="string"?t[h]=parseFloat(_):Array.isArray(_)&&v===vt&&(t[h]=_.map(parseFloat))}else g?.transform&&v?.transform&&(p===0||_===0)?p===0?d.set(v.transform(p)):t[h]=g.transform(_):(l||(o=V2(a),l=!0),c.push(h),n[h]=n[h]!==void 0?n[h]:t[h],d.jump(_))}),c.length){const h=c.indexOf("height")>=0?window.pageYOffset:null,d=H2(t,a,c);return o.length&&o.forEach(([p,g])=>{a.getValue(p).set(g)}),a.render(),Jo&&h!==null&&window.scrollTo({top:h}),{target:d,transitionEnd:n}}else return{target:t,transitionEnd:n}};function G2(a,t,e,n){return B2(t)?U2(a,t,e,n):{target:t,transitionEnd:n}}const $2=(a,t,e,n)=>{const s=F2(a,t,n);return t=s.target,n=s.transitionEnd,G2(a,t,e,n)},Gu={current:null},X_={current:!1};function W2(){if(X_.current=!0,!!Jo)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),t=()=>Gu.current=a.matches;a.addListener(t),t()}else Gu.current=!1}function q2(a,t,e){const{willChange:n}=t;for(const s in t){const o=t[s],l=e[s];if(Ve(o))a.addValue(s,o),Uo(n)&&n.add(s);else if(Ve(l))a.addValue(s,Os(o,{owner:a})),Uo(n)&&n.remove(s);else if(l!==o)if(a.hasValue(s)){const c=a.getValue(s);!c.hasAnimated&&c.set(o)}else{const c=a.getStaticValue(s);a.addValue(s,Os(c!==void 0?c:o,{owner:a}))}}for(const s in e)t[s]===void 0&&a.removeValue(s);return t}const Zg=new WeakMap,Y_=Object.keys(Gr),K2=Y_.length,tm=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],X2=hh.length;class Y2{constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ot.render(this.render,!1,!0);const{latestValues:c,renderState:h}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=e.initial?{...c}:{},this.renderState=h,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.isControllingVariants=tl(e),this.isVariantNode=Rm(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(e,{});for(const g in p){const _=p[g];c[g]!==void 0&&Ve(_)&&(_.set(c[g],!1),Uo(d)&&d.add(g))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,Zg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),X_.current||W2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Zg.delete(this.current),this.projection&&this.projection.unmount(),Un(this.notifyUpdate),Un(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){const n=Wi.has(t),s=e.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ot.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...e},n,s,o){let l,c;for(let h=0;h<K2;h++){const d=Y_[h],{isEnabled:p,Feature:g,ProjectionNode:_,MeasureLayout:v}=Gr[d];_&&(l=_),p(e)&&(!this.features[d]&&g&&(this.features[d]=new g(this)),v&&(c=v))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:d,drag:p,dragConstraints:g,layoutScroll:_,layoutRoot:v}=e;this.projection.setOptions({layoutId:h,layout:d,alwaysMeasureLayout:!!p||g&&Ss(g),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:o,layoutScroll:_,layoutRoot:v})}return c}updateFeatures(){for(const t in this.features){const e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):se()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<tm.length;n++){const s=tm[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o=t["on"+s];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=q2(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const e={};for(let n=0;n<X2;n++){const s=hh[n],o=this.props[s];(Ur(o)||o===!1)&&(e[s]=o)}return e}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=Os(e,{owner:this}),this.addValue(t,n)),n}readValue(t){var e;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(e=this.getBaseTargetFromProps(this.props,t))!==null&&e!==void 0?e:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(e=vh(this.props,n))===null||e===void 0?void 0:e[t]:void 0;if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Ve(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Th),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class Q_ extends Y2{sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...n},{transformValues:s},o){let l=px(n,t||{},this);if(s&&(e&&(e=s(e)),n&&(n=s(n)),l&&(l=s(l))),o){hx(this,n,l);const c=$2(this,n,l,e);e=c.transitionEnd,n=c.target}return{transition:t,transitionEnd:e,...n}}}function Q2(a){return window.getComputedStyle(a)}class J2 extends Q_{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,e){if(Wi.has(e)){const n=Ah(e);return n&&n.default||0}else{const n=Q2(t),s=(Bm(e)?n.getPropertyValue(e):n[e])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:e}){return B_(t,e)}build(t,e,n,s){fh(t,e,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,e){return yh(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ve(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}renderInstance(t,e,n,s){Gm(t,e,n,s)}}class Z2 extends Q_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Wi.has(e)){const n=Ah(e);return n&&n.default||0}return e=$m.has(e)?e:ch(e),t.getAttribute(e)}measureInstanceViewportBox(){return se()}scrapeMotionValuesFromProps(t,e){return qm(t,e)}build(t,e,n,s){mh(t,e,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,e,n,s){Wm(t,e,n,s)}mount(t){this.isSVGTag=_h(t.tagName),super.mount(t)}}const tb=(a,t)=>ph(a)?new Z2(t,{enableHardwareAcceleration:!1}):new J2(t,{enableHardwareAcceleration:!0}),eb={layout:{ProjectionNode:q_,MeasureLayout:z_}},nb={...Ex,...Kv,...D2,...eb},Lh=iv((a,t)=>Nv(a,t,nb,tb));function J_(){const a=G.useRef(!1);return lh(()=>(a.current=!0,()=>{a.current=!1}),[]),a}function ib(){const a=J_(),[t,e]=G.useState(0),n=G.useCallback(()=>{a.current&&e(t+1)},[t]);return[G.useCallback(()=>Ot.postRender(n),[n]),t]}class sb extends G.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=e.offsetHeight||0,n.width=e.offsetWidth||0,n.top=e.offsetTop,n.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rb({children:a,isPresent:t}){const e=G.useId(),n=G.useRef(null),s=G.useRef({width:0,height:0,top:0,left:0});return G.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:h}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=e;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),G.createElement(sb,{isPresent:t,childRef:n,sizeRef:s},G.cloneElement(a,{ref:n}))}const bu=({children:a,initial:t,isPresent:e,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:l})=>{const c=Km(ab),h=G.useId(),d=G.useMemo(()=>({id:h,initial:t,isPresent:e,custom:s,onExitComplete:p=>{c.set(p,!0);for(const g of c.values())if(!g)return;n&&n()},register:p=>(c.set(p,!1),()=>c.delete(p))}),o?void 0:[e]);return G.useMemo(()=>{c.forEach((p,g)=>c.set(g,!1))},[e]),G.useEffect(()=>{!e&&!c.size&&n&&n()},[e]),l==="popLayout"&&(a=G.createElement(rb,{isPresent:e},a)),G.createElement(Qo.Provider,{value:d},a)};function ab(){return new Map}function ob(a){return G.useEffect(()=>()=>a(),[])}const Oi=a=>a.key||"";function lb(a,t){a.forEach(e=>{const n=Oi(e);t.set(n,e)})}function cb(a){const t=[];return G.Children.forEach(a,e=>{G.isValidElement(e)&&t.push(e)}),t}const Z_=({children:a,custom:t,initial:e=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:o=!0,mode:l="sync"})=>{const c=G.useContext(dh).forceRender||ib()[0],h=J_(),d=cb(a);let p=d;const g=G.useRef(new Map).current,_=G.useRef(p),v=G.useRef(new Map).current,x=G.useRef(!0);if(lh(()=>{x.current=!1,lb(d,v),_.current=p}),ob(()=>{x.current=!0,v.clear(),g.clear()}),x.current)return G.createElement(G.Fragment,null,p.map(C=>G.createElement(bu,{key:Oi(C),isPresent:!0,initial:e?void 0:!1,presenceAffectsLayout:o,mode:l},C)));p=[...p];const w=_.current.map(Oi),P=d.map(Oi),A=w.length;for(let C=0;C<A;C++){const S=w[C];P.indexOf(S)===-1&&!g.has(S)&&g.set(S,void 0)}return l==="wait"&&g.size&&(p=[]),g.forEach((C,S)=>{if(P.indexOf(S)!==-1)return;const E=v.get(S);if(!E)return;const T=w.indexOf(S);let M=C;if(!M){const N=()=>{g.delete(S);const O=Array.from(v.keys()).filter(V=>!P.includes(V));if(O.forEach(V=>v.delete(V)),_.current=d.filter(V=>{const Y=Oi(V);return Y===S||O.includes(Y)}),!g.size){if(h.current===!1)return;c(),n&&n()}};M=G.createElement(bu,{key:Oi(E),isPresent:!1,onExitComplete:N,custom:t,presenceAffectsLayout:o,mode:l},E),g.set(S,M)}p.splice(T,0,M)}),p=p.map(C=>{const S=C.key;return g.has(S)?C:G.createElement(bu,{key:Oi(C),isPresent:!0,presenceAffectsLayout:o,mode:l},C)}),G.createElement(G.Fragment,null,g.size?p:p.map(C=>G.cloneElement(C)))},ub=({card:a})=>{const[t,e]=G.useState(!1),n=()=>{e(!t)};return k.jsx("div",{className:"relative w-full max-w-[90%] aspect-video cursor-pointer perspective-1000",onClick:n,children:k.jsxs(Lh.div,{className:"w-full h-full relative preserve-3d",initial:!1,animate:{rotateY:t?180:0},transition:{duration:.6,type:"spring",stiffness:260,damping:20},style:{transformStyle:"preserve-3d"},children:[k.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-gray-800 rounded-xl overflow-hidden shadow-2xl border border-gray-700 flex flex-col md:flex-row",children:[k.jsxs("div",{className:"w-full h-2/3 md:w-2/3 md:h-full bg-black flex items-center justify-center relative",children:[a.imagePath?k.jsx("img",{src:a.imagePath,alt:"Card Content",className:"max-w-full max-h-full object-contain"}):k.jsx("span",{className:"text-gray-500",children:"No Image"}),k.jsx("div",{className:"absolute bottom-2 right-2 md:hidden bg-black/50 text-white text-[10px] px-2 py-1 rounded-full opacity-50",children:"Image"})]}),k.jsxs("div",{className:"w-full h-1/3 md:w-1/3 md:h-full p-4 md:p-6 flex flex-col justify-center bg-gray-800 border-t md:border-t-0 md:border-l border-gray-700",children:[k.jsx("h3",{className:"text-xs md:text-sm uppercase tracking-wider text-gray-400 mb-1 md:mb-2 font-bold",children:"Description"}),k.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:k.jsx("p",{className:"text-gray-200 text-sm md:text-base leading-relaxed whitespace-pre-wrap",children:a.description||"No description available."})})]})]}),k.jsx("div",{className:"absolute w-full h-full backface-hidden bg-gradient-to-br from-blue-600 to-purple-700 rounded-xl shadow-2xl flex items-center justify-center p-8 text-center",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:k.jsx("div",{children:k.jsx("h2",{className:"text-4xl font-bold text-white drop-shadow-lg",children:a.title||"Untitled"})})})]})})};var hb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const db=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),re=(a,t)=>{const e=G.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c,...h},d)=>G.createElement("svg",{ref:d,...hb,width:s,height:s,stroke:n,strokeWidth:l?Number(o)*24/Number(s):o,className:`lucide lucide-${db(a)}`,...h},[...t.map(([p,g])=>G.createElement(p,g)),...(Array.isArray(c)?c:[c])||[]]));return e.displayName=`${a}`,e},$o=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ty=re("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ey=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),ny=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),iy=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),sy=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),pb=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fb=re("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),gb=re("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),mb=re("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),_b=re("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]),yb=re("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]),vb=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),ry=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wb=re("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),xb=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),bb=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Pb=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),ay=re("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ab=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sb=({cards:a})=>{const[t,e]=G.useState(0),[n,s]=G.useState(0),o=()=>{s(1),e(d=>(d+1)%a.length)},l=()=>{s(-1),e(d=>(d-1+a.length)%a.length)},c=()=>{const d=Math.floor(Math.random()*a.length);s(1),e(d)};G.useEffect(()=>{const d=p=>{p.key==="ArrowRight"||p.key===" "?(s(1),e(g=>(g+1)%a.length)):p.key==="ArrowLeft"&&(s(-1),e(g=>(g-1+a.length)%a.length))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[a.length]);const h=(d,p)=>{p.offset.x<-100?o():p.offset.x>100&&l()};return!a||a.length===0?null:k.jsxs("div",{className:"flex flex-col items-center gap-8 w-full max-w-[95%] h-full justify-center",children:[k.jsx("div",{className:"relative w-full aspect-video flex items-center justify-center",children:k.jsx(Z_,{initial:!1,mode:"wait",custom:n,children:k.jsx(Lh.div,{custom:n,variants:{enter:d=>({x:d>0?300:-300,opacity:0,scale:.8}),center:{zIndex:1,x:0,opacity:1,scale:1},exit:d=>({zIndex:0,x:d<0?300:-300,opacity:0,scale:.8})},initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},drag:"x",dragConstraints:{left:0,right:0},dragElastic:1,onDragEnd:h,className:"absolute w-full h-full cursor-grab active:cursor-grabbing flex items-center justify-center",children:k.jsx(ub,{card:a[t]})},t)})}),k.jsxs("div",{className:"flex items-center gap-6 bg-gray-800 p-4 rounded-full shadow-lg border border-gray-700 z-10",children:[k.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-white",title:"Previous",children:k.jsx(iy,{size:24})}),k.jsxs("span",{className:"text-gray-400 font-mono",children:[t+1," / ",a.length]}),k.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-white",title:"Next",children:k.jsx(sy,{size:24})}),k.jsx("div",{className:"w-px h-6 bg-gray-700 mx-2"}),k.jsx("button",{onClick:c,className:"p-2 hover:bg-purple-600 rounded-full transition-colors text-purple-400 hover:text-white",title:"Random",children:k.jsx(wb,{size:20})})]})]})},Cb=({topics:a,currentTopic:t,onSelectTopic:e,currentMode:n,onSelectMode:s,isOpen:o,setIsOpen:l})=>{const[c,h]=G.useState(!1),d=[{id:"review",label:"Review",icon:ey},{id:"quiz",label:"Quiz Mode",icon:mb},{id:"stats",label:"Stats",icon:ty},{id:"search",label:"Search",icon:ry}];return k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:()=>l(!o),className:"md:hidden fixed top-4 left-4 z-50 p-2 bg-gray-800 rounded-lg shadow-lg text-white",children:o?k.jsx(Ab,{size:24}):k.jsx(vb,{size:24})}),o&&k.jsx("div",{className:"md:hidden fixed inset-0 bg-black/50 z-40 backdrop-blur-sm",onClick:()=>l(!1)}),k.jsxs("div",{className:`
                fixed md:static inset-y-0 left-0 z-40
                bg-gray-900 border-r border-gray-800
                transform transition-all duration-300 ease-in-out
                ${o?"translate-x-0":"-translate-x-full md:translate-x-0"}
                ${c?"md:w-20":"md:w-64"}
                w-64
                flex flex-col h-full
            `,children:[k.jsxs("div",{className:`p-6 border-b border-gray-800 flex items-center ${c?"justify-center":"justify-between"}`,children:[!c&&k.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500 whitespace-nowrap",children:"Review Deck"}),k.jsx("button",{onClick:()=>h(!c),className:"hidden md:block text-gray-400 hover:text-white transition-colors",title:c?"Expand Sidebar":"Collapse Sidebar",children:c?k.jsx(sy,{size:20}):k.jsx(iy,{size:20})})]}),k.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-8 custom-scrollbar",children:[k.jsxs("div",{children:[!c&&k.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2 fade-in",children:"Modes"}),k.jsx("div",{className:"space-y-1",children:d.map(p=>{const g=p.icon;return k.jsxs("button",{onClick:()=>{s(p.id),l(!1)},className:`
                                            w-full flex items-center ${c?"justify-center":"space-x-3"} px-3 py-2 rounded-lg transition-colors
                                            ${n===p.id?"bg-blue-600/20 text-blue-400":"text-gray-400 hover:bg-gray-800 hover:text-white"}
                                        `,title:c?p.label:"",children:[k.jsx(g,{size:20,className:"shrink-0"}),!c&&k.jsx("span",{className:"truncate",children:p.label})]},p.id)})})]}),(n==="review"||n==="quiz")&&k.jsxs("div",{children:[!c&&k.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3 px-2 fade-in",children:"Topics"}),k.jsxs("div",{className:"space-y-1",children:[k.jsxs("button",{onClick:()=>{e("All"),l(!1)},className:`
                                        w-full flex items-center ${c?"justify-center":"space-x-3"} px-3 py-2 rounded-lg transition-colors
                                        ${t==="All"?"bg-purple-600/20 text-purple-400":"text-gray-400 hover:bg-gray-800 hover:text-white"}
                                    `,title:"All Cards",children:[k.jsx(_b,{size:20,className:"shrink-0"}),!c&&k.jsx("span",{className:"truncate",children:"All Cards"})]}),k.jsxs("button",{onClick:()=>{e("Mistakes"),l(!1)},className:`
                                        w-full flex items-center ${c?"justify-center":"space-x-3"} px-3 py-2 rounded-lg transition-colors
                                        ${t==="Mistakes"?"bg-red-600/20 text-red-400":"text-gray-400 hover:bg-gray-800 hover:text-white"}
                                    `,title:"My Mistakes",children:[k.jsx($o,{size:20,className:"shrink-0"}),!c&&k.jsx("span",{className:"truncate",children:"My Mistakes"})]}),!c&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"h-px bg-gray-800 my-2 mx-2"}),a.map(p=>k.jsx("button",{onClick:()=>{e(p),l(!1)},className:`
                                                    w-full text-left px-3 py-2 rounded-lg transition-colors text-sm truncate
                                                    ${t===p?"bg-purple-600/20 text-purple-400":"text-gray-400 hover:bg-gray-800 hover:text-white"}
                                                `,children:p},p))]})]})]})]}),k.jsx("div",{className:"p-4 border-t border-gray-800",children:k.jsxs("button",{onClick:()=>{s("import"),l(!1)},className:`
                            w-full p-3 rounded-xl flex items-center ${c?"justify-center":"gap-3"} transition-colors 
                            ${n==="import"?"bg-blue-600 text-white":"hover:bg-gray-800 text-gray-300"}
                        `,title:"Import PDF",children:[k.jsx(ay,{size:20,className:"shrink-0"}),!c&&k.jsx("span",{className:"font-medium truncate",children:"Import PDF"})]})})]})]})},kb=({cards:a,allCards:t,topic:e,onExit:n})=>{const[s,o]=G.useState("menu"),[l,c]=G.useState(0),[h,d]=G.useState(1),[p,g]=G.useState(15),[_,v]=G.useState(null),[x,w]=G.useState([]),[P,A]=G.useState(null),[C,S]=G.useState(!1),[E,T]=G.useState({questionCount:10,timeLimit:15}),[M,N]=G.useState([]),[O,V]=G.useState([]);G.useEffect(()=>{a&&a.length>0&&T(H=>({...H,questionCount:Math.min(10,a.length)}))},[a]);const Y=()=>{const H=t||a;if(!H||H.length<4){alert("Not enough cards in the library to generate options! Need at least 4.");return}if(!a||a.length<1){alert("No cards in this deck to test!");return}const st=[...a].sort(()=>Math.random()-.5).slice(0,Math.min(E.questionCount,a.length));N(st),c(0),d(1),V([]),o("playing"),tt(st[0],st,1)},tt=(H=null,Q=null,st=null)=>{const X=Q||M,K=st||h,U=H?0:K-1,J=H||X[U];if(!J){console.error("No question card found!",K,X.length),o("result");return}const et=[],I=t||a;for(;et.length<3;){const pt=Math.floor(Math.random()*I.length),ft=I[pt];ft.title!==J.title&&!et.some(yt=>yt.title===ft.title)&&et.push(ft)}const nt=[...et,J].sort(()=>Math.random()-.5);v(J),w(nt),g(E.timeLimit),A(null),S(!1)};G.useEffect(()=>{if(s==="playing"&&p>0){const H=setTimeout(()=>g(p-1),1e3);return()=>clearTimeout(H)}else s==="playing"&&p===0&&ht(null)},[p,s]);const ht=H=>{A(H);let Q=!1;if(H.isTyped){const J=_.title.split("-")[0].trim().toLowerCase();Q=H.title.trim().toLowerCase()===J}else Q=H&&H.title===_.title;S(Q);const st=E.timeLimit-p,X=Q?10+Math.ceil(p/2):0;Q&&c(l+X);const K=JSON.parse(localStorage.getItem("quiz_mistakes"))||[],U=_.imagePath;if(!Q)K.includes(U)||K.push(U);else{const J=K.indexOf(U);J>-1&&K.splice(J,1)}localStorage.setItem("quiz_mistakes",JSON.stringify(K)),V(J=>[...J,{question:_.title,image:_.imagePath,source:_.source,isCorrect:Q,selected:H?H.title:"Time Out",points:X,timeTaken:st}]),o("feedback"),setTimeout(()=>{if(h>=E.questionCount)o("result");else{const J=h+1;d(J),o("playing"),tt(null,null,J)}},1500)};return G.useEffect(()=>{if(s==="result"){const H=JSON.parse(localStorage.getItem("quiz_stats"))||{gamesPlayed:0,totalScore:0,history:[]};H.gamesPlayed+=1,H.totalScore+=l,H.history.push({score:l,date:new Date().toISOString(),topic:e||"Mixed",details:O}),localStorage.setItem("quiz_stats",JSON.stringify(H)),localStorage.setItem("last_session_details",JSON.stringify(O))}},[s]),s==="menu"?k.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-8 text-center w-full max-w-2xl bg-gray-800/50 rounded-3xl border border-gray-700 shadow-2xl backdrop-blur-sm m-auto",children:[k.jsxs("div",{className:"space-y-2",children:[k.jsx("h2",{className:"text-5xl font-black bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400",children:"Quiz Challenge"}),k.jsx("p",{className:"text-gray-400 text-lg",children:"Test your knowledge"})]}),k.jsxs("div",{className:"w-full grid grid-cols-1 md:grid-cols-3 gap-6",children:[k.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-2xl border border-gray-700 flex flex-col gap-3",children:[k.jsx("label",{className:"text-gray-300 text-sm font-bold uppercase tracking-wider",children:"Length"}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("button",{onClick:()=>T(H=>({...H,questionCount:Math.max(1,H.questionCount-1)})),className:"w-10 h-10 rounded-full bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"-"}),k.jsx("input",{type:"number",className:"w-20 bg-transparent text-3xl font-mono font-bold text-white text-center focus:outline-none border-b-2 border-transparent focus:border-blue-500 transition-colors",value:E.questionCount,onChange:H=>{const Q=parseInt(H.target.value);isNaN(Q)?H.target.value===""&&T(st=>({...st,questionCount:""})):T(st=>({...st,questionCount:Q}))},onBlur:()=>{let H=E.questionCount;(H===""||H<1)&&(H=1),H>a.length&&(H=a.length),T(Q=>({...Q,questionCount:H}))}}),k.jsx("button",{onClick:()=>T(H=>({...H,questionCount:Math.min(a.length,H.questionCount+1)})),className:"w-10 h-10 rounded-full bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"+"})]}),k.jsxs("p",{className:"text-xs text-gray-500",children:["questions (max: ",a.length,")"]})]}),k.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-2xl border border-gray-700 flex flex-col gap-3",children:[k.jsx("label",{className:"text-gray-300 text-sm font-bold uppercase tracking-wider",children:"Timer"}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("button",{onClick:()=>T(H=>({...H,timeLimit:Math.max(5,H.timeLimit-5)})),className:"w-10 h-10 rounded-full bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"-"}),k.jsx("input",{type:"number",className:"w-20 bg-transparent text-3xl font-mono font-bold text-white text-center focus:outline-none border-b-2 border-transparent focus:border-blue-500 transition-colors",value:E.timeLimit,onChange:H=>{const Q=parseInt(H.target.value);isNaN(Q)?H.target.value===""&&T(st=>({...st,timeLimit:""})):T(st=>({...st,timeLimit:Q}))},onBlur:()=>{let H=E.timeLimit;(H===""||H<5)&&(H=5),H>300&&(H=300),T(Q=>({...Q,timeLimit:H}))}}),k.jsx("button",{onClick:()=>T(H=>({...H,timeLimit:Math.min(300,H.timeLimit+5)})),className:"w-10 h-10 rounded-full bg-gray-700 hover:bg-gray-600 text-white font-bold",children:"+"})]}),k.jsx("p",{className:"text-xs text-gray-500",children:"seconds / q"})]}),k.jsxs("div",{className:"bg-gray-900/50 p-5 rounded-2xl border border-gray-700 flex flex-col gap-3",children:[k.jsx("label",{className:"text-gray-300 text-sm font-bold uppercase tracking-wider",children:"Answer Mode"}),k.jsx("div",{className:"flex items-center justify-center h-full",children:k.jsxs("div",{className:"bg-gray-800 p-1 rounded-xl flex w-full",children:[k.jsx("button",{onClick:()=>T(H=>({...H,inputMode:"choice"})),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${!E.inputMode||E.inputMode==="choice"?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Choices"}),k.jsx("button",{onClick:()=>T(H=>({...H,inputMode:"type"})),className:`flex-1 py-2 rounded-lg font-bold text-sm transition-all ${E.inputMode==="type"?"bg-purple-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:"Type"})]})}),k.jsx("p",{className:"text-xs text-gray-500",children:E.inputMode==="type"?"Type the exact answer":"Select from 4 options"})]})]}),k.jsxs("div",{className:"w-full pt-4",children:[k.jsx("button",{onClick:Y,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 rounded-2xl text-white font-bold text-2xl shadow-lg shadow-blue-500/20 transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:"Start Quiz"}),k.jsxs("p",{className:"text-xs text-gray-500 mt-4",children:[" Deck size: ",a?a.length:0," cards available"]})]})]}):s==="result"?k.jsxs("div",{className:"flex flex-col items-center justify-center p-8 space-y-6 text-center animate-fade-in",children:[k.jsx("h2",{className:"text-3xl font-bold text-white",children:"Game Over!"}),k.jsx("div",{className:"text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-red-500",children:l}),k.jsx("p",{className:"text-gray-400",children:"Final Score"}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx("button",{onClick:()=>o("menu"),className:"px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-full text-white font-medium",children:"Menu"}),k.jsx("button",{onClick:Y,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 rounded-full text-white font-medium",children:"Play Again"})]})]}):k.jsxs("div",{className:"w-full max-w-6xl h-full flex flex-col p-4",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4 bg-gray-900/50 p-4 rounded-xl border border-gray-700",children:[k.jsxs("div",{className:"flex flex-col",children:[k.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"Progress"}),k.jsxs("span",{className:"text-xl font-bold text-white",children:[h," ",k.jsxs("span",{className:"text-gray-500",children:["/ ",E.questionCount]})]})]}),k.jsx("div",{className:"flex flex-col items-center",children:k.jsx("span",{className:`text-4xl font-mono font-black ${p<5?"text-red-500 animate-pulse":"text-blue-400"}`,children:p})}),k.jsxs("div",{className:"flex flex-col items-end",children:[k.jsx("span",{className:"text-xs text-gray-500 uppercase font-bold",children:"Score"}),k.jsx("span",{className:"text-xl font-bold text-yellow-500",children:l})]})]}),k.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-8 items-center justify-center w-full",children:[k.jsxs("div",{className:"flex-1 w-full max-w-2xl aspect-video lg:h-[500px] bg-black rounded-2xl overflow-hidden shadow-2xl ring-1 ring-gray-700 relative group",children:[k.jsx("img",{src:_.imagePath,alt:"Quiz Question",className:"w-full h-full object-contain"}),k.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 backdrop-blur px-3 py-1 rounded text-xs text-gray-400 opacity-0 group-hover:opacity-100 transition-opacity",children:["source: ",_.source]})]}),k.jsx("div",{className:"w-full lg:w-1/3 flex flex-col gap-4",children:E.inputMode==="type"?k.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[k.jsx("input",{type:"text",placeholder:"Type your answer...",className:"w-full p-4 bg-gray-800 border-2 border-gray-700 rounded-2xl text-white text-lg focus:border-blue-500 focus:outline-none placeholder-gray-500",autoFocus:!0,disabled:s==="feedback",onKeyDown:H=>{if(H.key==="Enter"&&H.target.value.trim()){const Q=H.target.value.trim();ht({title:Q,isTyped:!0}),H.target.value=""}}}),k.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Press Enter to submit. Word before hyphen matches."}),s==="feedback"&&k.jsxs("div",{className:"mt-4 p-4 bg-gray-800 rounded-xl border border-gray-700",children:[k.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold mb-1",children:"Correct Answer"}),k.jsx("p",{className:"text-xl font-bold text-green-400",children:_.title})]})]}):x.map((H,Q)=>{let st="bg-gray-800 hover:bg-gray-700 border-gray-700 text-gray-200";return s==="feedback"&&(H.title===_.title?st="bg-green-600 border-green-500 text-white ring-4 ring-green-500/20":H===P?st="bg-red-600 border-red-500 text-white":st="bg-gray-800 opacity-30"),k.jsx("button",{disabled:s==="feedback",onClick:()=>ht(H),className:`
                                        w-full p-6 rounded-2xl text-left border-2 transition-all duration-200 shadow-lg
                                        ${st}
                                        ${s!=="feedback"?"hover:-translate-y-1 hover:shadow-xl active:translate-y-0":""}
                                    `,children:k.jsx("span",{className:"text-lg font-bold",children:H.title})},Q)})})]}),k.jsx(Z_,{children:s==="feedback"&&k.jsx(Lh.div,{initial:{opacity:0,scale:.8,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:`
                            fixed bottom-12 left-1/2 transform -translate-x-1/2 
                            px-8 py-4 rounded-2xl font-black text-2xl shadow-2xl z-50 backdrop-blur-md border border-white/10
                            ${C?"bg-green-500/90 text-white":"bg-red-500/90 text-white"}
                        `,children:C?"Correct! ":"Oops! "})})]})},Eb=()=>{const[a,t]=G.useState(null),e=()=>{try{return JSON.parse(localStorage.getItem("quiz_stats"))||{gamesPlayed:0,totalScore:0,history:[]}}catch{return{gamesPlayed:0,totalScore:0,history:[]}}},n=()=>{try{return JSON.parse(localStorage.getItem("last_session_details"))||[]}catch{return[]}},s=e(),o=a!==null?s.history[a]:null,l=o?o.details||[]:n(),c=o&&!o.details,h=s.gamesPlayed>0?Math.round(s.totalScore/s.gamesPlayed):0,d=n(),p=d.length>0?d.find(g=>!g.isCorrect)?.source:"None Yet";return k.jsxs("div",{className:"w-full h-full flex flex-col p-6 overflow-y-auto custom-scrollbar",children:[k.jsx("h2",{className:"text-3xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-green-500 shrink-0",children:"Performance Stats"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 shrink-0",children:[k.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 flex items-center gap-4 shadow-lg",children:[k.jsx("div",{className:"p-3 bg-blue-600/20 text-blue-400 rounded-xl",children:k.jsx(Pb,{size:24})}),k.jsxs("div",{children:[k.jsx("p",{className:"text-gray-400 text-sm",children:"Games Played"}),k.jsx("p",{className:"text-2xl font-bold text-white",children:s.gamesPlayed})]})]}),k.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 flex items-center gap-4 shadow-lg",children:[k.jsx("div",{className:"p-3 bg-purple-600/20 text-purple-400 rounded-xl",children:k.jsx(ty,{size:24})}),k.jsxs("div",{children:[k.jsx("p",{className:"text-gray-400 text-sm",children:"Average Score"}),k.jsx("p",{className:"text-2xl font-bold text-white",children:h})]})]}),k.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl border border-gray-700 flex items-center gap-4 shadow-lg",children:[k.jsx("div",{className:"p-3 bg-red-600/20 text-red-400 rounded-xl",children:k.jsx($o,{size:24})}),k.jsxs("div",{children:[k.jsx("p",{className:"text-gray-400 text-sm",children:"Weakest Source"}),k.jsx("p",{className:"text-xl font-bold text-white truncate max-w-[150px]",title:"Play more to detect",children:p||"None Yet"})]})]})]}),k.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-1 min-h-0",children:[k.jsxs("div",{className:"lg:w-1/3 bg-gray-800 rounded-2xl border border-gray-700 flex flex-col overflow-hidden max-h-[500px]",children:[k.jsxs("div",{className:"p-6 border-b border-gray-700 bg-gray-800 shrink-0",children:[k.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[k.jsx(pb,{size:20,className:"text-gray-400"}),"History"]}),k.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click to view details"})]}),k.jsx("div",{className:"overflow-y-auto p-4 space-y-3 flex-1 custom-scrollbar",children:s.history.length===0?k.jsx("p",{className:"text-gray-500 text-center py-4",children:"No games played yet."}):[...s.history].reverse().map((g,_)=>{const v=s.history.length-1-_,x=a===v;return k.jsxs("button",{onClick:()=>t(v),className:`w-full flex justify-between items-center p-4 rounded-xl transition-all border
                                            ${x?"bg-blue-600/20 border-blue-500 ring-1 ring-blue-500/50":"bg-gray-900/50 border-gray-700 hover:bg-gray-700 hover:border-gray-500"}
                                        `,children:[k.jsxs("div",{className:"text-left",children:[k.jsxs("p",{className:`font-bold ${x?"text-blue-300":"text-white"}`,children:["Score: ",g.score]}),k.jsx("p",{className:"text-xs text-gray-400",children:new Date(g.date).toLocaleDateString()})]}),k.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${x?"bg-blue-600 text-white":"bg-gray-700 text-gray-300"}`,children:g.topic})]},v)})})]}),k.jsxs("div",{className:"lg:w-2/3 bg-gray-800 rounded-2xl border border-gray-700 flex flex-col overflow-hidden max-h-[500px]",children:[k.jsxs("div",{className:"p-6 border-b border-gray-700 bg-gray-800 shrink-0 flex justify-between items-center",children:[k.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[k.jsx(ny,{size:20,className:"text-green-400"}),o?"Game Breakdown":"Last Session Result"]}),a!==null&&k.jsx("button",{onClick:()=>t(null),className:"text-xs text-gray-400 hover:text-white underline",children:"Back to Last Session"})]}),k.jsx("div",{className:"overflow-y-auto flex-1 custom-scrollbar",children:c?k.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 p-8 text-center",children:[k.jsx($o,{size:48,className:"mb-4 opacity-50"}),k.jsx("p",{children:"Detailed breakdown not available for this legacy game."}),k.jsx("p",{className:"text-sm mt-2",children:"New games will have full details saved."})]}):l&&l.length>0?k.jsxs("table",{className:"w-full text-left text-sm text-gray-400",children:[k.jsx("thead",{className:"bg-gray-900/50 text-gray-200 uppercase font-medium sticky top-0 backdrop-blur-sm z-10",children:k.jsxs("tr",{children:[k.jsx("th",{className:"px-6 py-3",children:"Question"}),k.jsx("th",{className:"px-6 py-3 text-center",children:"Result"}),k.jsx("th",{className:"px-6 py-3 text-right",children:"Time"}),k.jsx("th",{className:"px-6 py-3 text-right",children:"Points"})]})}),k.jsx("tbody",{className:"divide-y divide-gray-700",children:l.map((g,_)=>{const v=l.filter(C=>C.isCorrect),x=Math.min(...v.map(C=>C.timeTaken||999)),w=Math.max(...v.map(C=>C.timeTaken||0)),P=g.isCorrect&&g.timeTaken===x,A=g.isCorrect&&g.timeTaken===w;return k.jsxs("tr",{className:"hover:bg-gray-700/50 transition-colors",children:[k.jsxs("td",{className:"px-6 py-4 font-medium text-white max-w-[200px]",children:[k.jsx("div",{className:"truncate",title:g.question,children:g.question}),k.jsx("div",{className:"text-xs text-gray-500 truncate",children:g.source})]}),k.jsx("td",{className:"px-6 py-4 text-center",children:g.isCorrect?k.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-900/50 text-green-400 border border-green-800",children:"Correct"}):k.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-900/50 text-red-400 border border-red-800",children:"Wrong"})}),k.jsx("td",{className:"px-6 py-4 text-right",children:k.jsxs("div",{className:"flex items-center justify-end gap-2",children:[P&&k.jsx("span",{title:"Fastest Answer",className:"text-yellow-400",children:""}),A&&k.jsx("span",{title:"Deep Thinker",className:"text-blue-400",children:""}),k.jsx("span",{children:g.timeTaken?`${g.timeTaken}s`:"-"})]})}),k.jsxs("td",{className:"px-6 py-4 text-right font-mono text-white",children:["+",g.points]})]},_)})})]}):k.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No details available."})})]})]})]})},em=JSON.parse(`[{"source":"1--","pages":[{"page":1,"title":"","content":["",""],"imagePath":"./dictionary_images/1___p0.png","raw_text":"\\n\\n"},{"page":2,"title":"","content":[""],"imagePath":"./dictionary_images/1___p1.png","raw_text":"\\n"},{"page":3,"title":"","content":["","","  2022.08.31 6:12"," ","2","",""," PO","","",""," ","","",""],"imagePath":"./dictionary_images/1___p2.png","raw_text":"\\n\\n  2022.08.31 6:12\\n \\n2\\n\\n\\n PO\\n\\n\\n\\n \\n\\n\\n\\n"},{"page":4,"title":"","content":[""," "," "," (3)"," "," "," "," "],"imagePath":"./dictionary_images/1___p3.png","raw_text":"\\n \\n \\n (3)\\n \\n \\n \\n \\n"},{"page":5,"title":"","content":[""],"imagePath":"./dictionary_images/1___p4.png","raw_text":"\\n"},{"page":6,"title":"","content":[""," ",":"," "," ",""," (2015)450,000"," 2017","381910369000","1110130010500",""," "],"imagePath":"./dictionary_images/1___p5.png","raw_text":"\\n \\n:\\n \\n \\n\\n (2015)450,000\\n 2017\\n381910369000\\n1110130010500\\n\\n \\n"},{"page":7,"title":"","content":[""," Stafleu , 1972","","Taxon"," 22",""," ","",""],"imagePath":"./dictionary_images/1___p6.png","raw_text":"\\n Stafleu , 1972\\n\\nTaxon\\n 22\\n\\n \\n\\n\\n"},{"page":8,"title":"","content":[""," "," "," "," (Engleir System)-"," (Hutchinson System)-"," (Takhtajan System)-"," (Cronquist System)-"," (Angiosperm Phylogeny GroupAPG)"],"imagePath":"./dictionary_images/1___p7.png","raw_text":"\\n \\n \\n \\n (Engleir System)-\\n (Hutchinson System)-\\n (Takhtajan System)-\\n (Cronquist System)-\\n (Angiosperm Phylogeny GroupAPG)\\n"},{"page":9,"title":"","content":[""," "," ",""," "," "],"imagePath":"./dictionary_images/1___p8.png","raw_text":"\\n \\n \\n\\n \\n \\n"},{"page":10,"title":"","content":[""],"imagePath":"./dictionary_images/1___p9.png","raw_text":"\\n"},{"page":11,"title":"","content":[""," ",""," -"," ","",""," -500"," ","","",""],"imagePath":"./dictionary_images/1___p10.png","raw_text":"\\n \\n\\n -\\n \\n\\n\\n -500\\n \\n\\n\\n\\n"},{"page":12,"title":"","content":["","","(copy from http://ilmu-pengobatan-tradisional.blogspot.com/)"],"imagePath":"./dictionary_images/1___p11.png","raw_text":"\\n\\n(copy from http://ilmu-pengobatan-tradisional.blogspot.com/)\\n"},{"page":13,"title":"","content":[""," -5001800"," "," "," -18002500"," "," ",""],"imagePath":"./dictionary_images/1___p12.png","raw_text":"\\n -5001800\\n \\n \\n -18002500\\n \\n \\n\\n"},{"page":14,"title":"","content":["",""],"imagePath":"./dictionary_images/1___p13.png","raw_text":"\\n\\n"},{"page":15,"title":"","content":[""," -25003500",""," 25003100"," "," ",""," 31003500"," "," -3500"," ","",""],"imagePath":"./dictionary_images/1___p14.png","raw_text":"\\n -25003500\\n\\n 25003100\\n \\n \\n\\n 31003500\\n \\n -3500\\n \\n\\n\\n"},{"page":16,"title":"(Copy from)","content":["(Copy from)","","","(Copy from)","","(copy from http://kplant.biodiv.tw)"],"imagePath":"./dictionary_images/1___p15.png","raw_text":"(Copy from)\\n\\n\\n(Copy from)\\n\\n(copy from http://kplant.biodiv.tw)\\n"},{"page":17,"title":"","content":[""],"imagePath":"./dictionary_images/1___p16.png","raw_text":"\\n"},{"page":18,"title":"","content":[""," "," "," ()()"," "," "," ()"," "," "," "," "," "],"imagePath":"./dictionary_images/1___p17.png","raw_text":"\\n \\n \\n ()()\\n \\n \\n ()\\n \\n \\n \\n \\n \\n"},{"page":19,"title":"(copy from )","content":["(copy from )","","Copy from ","","",""],"imagePath":"./dictionary_images/1___p18.png","raw_text":"(copy from )\\n\\nCopy from \\n\\n\\n\\n"},{"page":20,"title":"","content":[""," "," ()"," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/1___p19.png","raw_text":"\\n \\n ()\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":21,"title":"","content":["","","(copy from http://kplant.biodiv.tw/)","","",""],"imagePath":"./dictionary_images/1___p20.png","raw_text":"\\n\\n(copy from http://kplant.biodiv.tw/)\\n\\n\\n\\n"},{"page":22,"title":"","content":[""," "," 300400"," "," ()150",""," "," ()100","156"," "," ","5"," "],"imagePath":"./dictionary_images/1___p21.png","raw_text":"\\n \\n 300400\\n \\n ()150\\n\\n \\n ()100\\n156\\n \\n \\n5\\n \\n"},{"page":23,"title":"","content":[""," "," ","5517.530",""," "," ","100","1421237",""," "," ",""],"imagePath":"./dictionary_images/1___p22.png","raw_text":"\\n \\n \\n5517.530\\n\\n \\n \\n100\\n1421237\\n\\n \\n \\n\\n"},{"page":24,"title":"","content":[""],"imagePath":"./dictionary_images/1___p23.png","raw_text":"\\n"},{"page":25,"title":"","content":[""," (Common name)(vernacular name)"," "," "," guava"," guajaue"," goyaue"," guajava"," djamboo batas"," djamboo"," amrud"," pera"],"imagePath":"./dictionary_images/1___p24.png","raw_text":"\\n (Common name)(vernacular name)\\n \\n \\n guava\\n guajaue\\n goyaue\\n guajava\\n djamboo batas\\n djamboo\\n amrud\\n pera\\n"},{"page":26,"title":"","content":[""," Scientific name"," 2017381,910","369,0001,110","1,30010,500"," Latin"," Latin name"," "," 1935","Bacteria193511","","  Chamaecyparis formosensis Matsumura"],"imagePath":"./dictionary_images/1___p25.png","raw_text":"\\n Scientific name\\n 2017381,910\\n369,0001,110\\n1,30010,500\\n Latin\\n Latin name\\n \\n 1935\\nBacteria193511\\n\\n  Chamaecyparis formosensis Matsumura\\n"},{"page":27,"title":"","content":[""," Scientific name"," "," generic name+specitic name+authority","name"," Ginkgo biloba Linnaeus"," trinomial system nomenclature"," "," Chamaecyparis obtusa  Siebold et Zuccarini","var.formosana HayataRehder"," Chamaecyparisobtusaformosana",""],"imagePath":"./dictionary_images/1___p26.png","raw_text":"\\n Scientific name\\n \\n generic name+specitic name+authority \\nname\\n Ginkgo biloba Linnaeus\\n trinomial system nomenclature\\n \\n Chamaecyparis obtusa  Siebold et Zuccarini \\nvar.formosana HayataRehder\\n Chamaecyparisobtusaformosana \\n\\n"},{"page":28,"title":"","content":[""," "," ",""," Andropogon sorghum ssp. halppensis var. halppensis"," "," LinnaeusLinn.L.L.Linne","",""],"imagePath":"./dictionary_images/1___p27.png","raw_text":"\\n \\n \\n\\n Andropogon sorghum ssp. halppensis var. halppensis \\n \\n LinnaeusLinn.L.L.Linne\\n\\n\\n"},{"page":29,"title":"","content":[""],"imagePath":"./dictionary_images/1___p28.png","raw_text":"\\n"},{"page":30,"title":"","content":[""," ","",""," ","","","","","","","","","(copy from)"],"imagePath":"./dictionary_images/1___p29.png","raw_text":"\\n \\n\\n\\n \\n\\n\\n\\n\\n\\n\\n\\n\\n(copy from)\\n"},{"page":31,"title":"","content":[""," "," ","","850","1000","6001500","",""," ","(copy from)"],"imagePath":"./dictionary_images/1___p30.png","raw_text":"\\n \\n \\n\\n850\\n1000\\n6001500\\n\\n\\n \\n(copy from)\\n"},{"page":32,"title":"","content":[""," "," ",""," "," 50"," 19733","","115"," ",""],"imagePath":"./dictionary_images/1___p31.png","raw_text":"\\n \\n \\n\\n \\n 50\\n 19733\\n\\n115\\n \\n\\n"},{"page":33,"title":"","content":[""," "," "," ","365252",""," "," ","",""," ","1100","1200","(copy from http://www.zwbk.org/)"],"imagePath":"./dictionary_images/1___p32.png","raw_text":"\\n \\n \\n \\n365252\\n\\n \\n \\n\\n\\n \\n1100\\n1200\\n(copy from http://www.zwbk.org/)\\n"},{"page":34,"title":"","content":[""],"imagePath":"./dictionary_images/1___p33.png","raw_text":"\\n"},{"page":35,"title":"","content":[""," ","",""," "," "," "," "," -"," "," :"," http://kplant.biodiv.tw/"," http://www.theplantlist.org/"," "],"imagePath":"./dictionary_images/1___p34.png","raw_text":"\\n \\n\\n\\n \\n \\n \\n \\n -\\n \\n :\\n http://kplant.biodiv.tw/\\n http://www.theplantlist.org/\\n \\n"},{"page":36,"title":"","content":["","",""],"imagePath":"./dictionary_images/1___p35.png","raw_text":"\\n\\n\\n"},{"page":37,"title":"","content":[""," ::21033:10~5:00","","","","","1","2025/09/12","","2103","2","2025/09/19","1.","2.-1","1.","2.","3","2025/09/26","1.","2.-2","1.","2.","4","2025/10/03","1.","2.-3","1.","2.","5","2025/10/10","","","6","2025/10/17","1.(1)-","2.-4","1.","2.","7","2025/10/24","","","8","2025/10/31","(2) -(1)--2103","9","2025/11/07","1.(3)-(1)-","","2.-5","1.","2.","10","2025/11/14","1.(4)-(2)-","2.-6","1.","2.","11","2025/11/21","1.(5)-(3)-","2.-7","1.","2.","12","2025/11/28","","2103","13","2025/12/05","-","2103","14","2025/12/12","-","2103","15","2025/12/19","","2103","16","2025/12/26","()","17","2026/01/02","","","18","2026/01/09","",""],"imagePath":"./dictionary_images/1___p36.png","raw_text":"\\n ::21033:10~5:00\\n\\n\\n\\n\\n1\\n2025/09/12\\n\\n2103\\n2\\n2025/09/19\\n1.\\n2.-1\\n1.\\n2.\\n3\\n2025/09/26\\n1.\\n2.-2\\n1.\\n2.\\n4\\n2025/10/03\\n1.\\n2.-3\\n1.\\n2.\\n5\\n2025/10/10\\n\\n\\n6\\n2025/10/17\\n1.(1)-\\n2.-4\\n1.\\n2.\\n7\\n2025/10/24\\n\\n\\n8\\n2025/10/31\\n(2) -(1)--2103\\n9\\n2025/11/07\\n1.(3)-(1)-\\n\\n2.-5\\n1.\\n2.\\n10\\n2025/11/14\\n1.(4)-(2)-\\n2.-6\\n1.\\n2.\\n11\\n2025/11/21\\n1.(5)-(3)-\\n2.-7\\n1.\\n2.\\n12\\n2025/11/28\\n\\n2103\\n13\\n2025/12/05\\n-\\n2103\\n14\\n2025/12/12\\n-\\n2103\\n15\\n2025/12/19\\n\\n2103\\n16\\n2025/12/26\\n()\\n17\\n2026/01/02\\n\\n\\n18\\n2026/01/09\\n\\n\\n"},{"page":38,"title":"","content":[""," 9/0911/2812/0512"," 7"," "," "," "," ()"," "," 9/16Lect.()"," 10/3112/19"," 10/17()"," 10/31()"],"imagePath":"./dictionary_images/1___p37.png","raw_text":"\\n 9/0911/2812/0512\\n 7\\n \\n \\n \\n ()\\n \\n 9/16Lect.() \\n 10/3112/19\\n 10/17()\\n 10/31()\\n"},{"page":39,"title":"","content":[""," "," ","15%","  ","15%"," ","30%"," ()","40%"],"imagePath":"./dictionary_images/1___p38.png","raw_text":"\\n \\n  \\n \\n \\n \\n \\n \\n15%\\n   \\n \\n \\n \\n15%\\n  \\n \\n \\n \\n \\n \\n30%\\n () \\n \\n \\n40%\\n"},{"page":40,"title":"Page 40","content":[],"imagePath":"./dictionary_images/1___p39.png","raw_text":""}]},{"source":"2--","pages":[{"page":1,"title":"","content":[""],"imagePath":"./dictionary_images/2___p0.png","raw_text":"\\n"},{"page":2,"title":"","content":[""," "," ()"," "," "," "," "," ",""," "],"imagePath":"./dictionary_images/2___p1.png","raw_text":"\\n \\n ()\\n \\n \\n \\n \\n \\n\\n \\n"},{"page":3,"title":"","content":[""," ",""," ",""," ","20",""],"imagePath":"./dictionary_images/2___p2.png","raw_text":"\\n \\n\\n \\n\\n \\n20\\n\\n"},{"page":4,"title":"-","content":["-"," ","",""," -"," -"," -"," "],"imagePath":"./dictionary_images/2___p3.png","raw_text":"-\\n \\n\\n\\n -\\n -\\n -\\n \\n"},{"page":5,"title":"","content":[""],"imagePath":"./dictionary_images/2___p4.png","raw_text":"\\n"},{"page":6,"title":"","content":["","Clavicipitaceae"],"imagePath":"./dictionary_images/2___p5.png","raw_text":"\\nClavicipitaceae\\n"},{"page":7,"title":"","content":[""," "," ",""," "," (Claviceps)","(Cordyceps)"," (Claviceps)"," (Cordyceps)"],"imagePath":"./dictionary_images/2___p6.png","raw_text":"\\n \\n \\n\\n \\n (Claviceps)\\n(Cordyceps)\\n (Claviceps)\\n (Cordyceps)\\n"},{"page":8,"title":"","content":[""," Ophiocordyceps sinensis","(Berk.) G.H.Sung, J.M.Sung, Hywel-Jones &","Spatafora"," ",""," "," "," ",""," ",""],"imagePath":"./dictionary_images/2___p7.png","raw_text":"\\n Ophiocordyceps sinensis\\n(Berk.) G.H.Sung, J.M.Sung, Hywel-Jones & \\nSpatafora\\n \\n\\n \\n \\n \\n\\n \\n\\n"},{"page":9,"title":"","content":[""," :"," cordycepin()cordycepic acid()"," -mannoglucan()cordyglucans(",")"," -competence-stimulating peptide-1(CSP-1)"," alkaloid-piperazine"," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/2___p8.png","raw_text":"\\n :\\n cordycepin()cordycepic acid()\\n -mannoglucan()cordyglucans(\\n)\\n -competence-stimulating peptide-1(CSP-1)\\n alkaloid-piperazine\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":10,"title":"","content":[""," "," "," ","()","","",""," "," "," "," "],"imagePath":"./dictionary_images/2___p9.png","raw_text":"\\n \\n \\n \\n()\\n\\n\\n\\n \\n \\n \\n \\n"},{"page":11,"title":"","content":[""," "," 2016","",""," 202079",""," "],"imagePath":"./dictionary_images/2___p10.png","raw_text":"\\n \\n 2016\\n\\n\\n 202079\\n\\n \\n"},{"page":12,"title":"","content":["","Polyporaceae"],"imagePath":"./dictionary_images/2___p11.png","raw_text":"\\nPolyporaceae\\n"},{"page":13,"title":"","content":[""," ",""," 1301200"," "," "," "],"imagePath":"./dictionary_images/2___p12.png","raw_text":"\\n \\n\\n 1301200\\n \\n \\n \\n"},{"page":14,"title":"","content":[""," Antrodia camphorate (M. Zang & C. H. Su) Sheng H. Wu,","Ryvarden & T.T.Chang"," ",""," "," (Cinnamomum","Kanehire Hayata)"," ",""," "],"imagePath":"./dictionary_images/2___p13.png","raw_text":"\\n Antrodia camphorate (M. Zang & C. H. Su) Sheng H. Wu, \\nRyvarden & T.T.Chang\\n \\n\\n \\n (Cinnamomum \\nKanehire Hayata)\\n \\n\\n \\n"},{"page":15,"title":"","content":[""," ",""," polysaccharide()-antrodan"," sesquiterpenoid()-antrocin"," triterpenoid()"," zhankuic acid ACantcin ACK"," zhankuic acid Aantcin Aeburicpl"," antcin Ceburicoic aciddehydroeburicoic acid"," aromatic compound()"," antrolon"," antrocamphin A"],"imagePath":"./dictionary_images/2___p14.png","raw_text":"\\n \\n\\n polysaccharide()-antrodan\\n sesquiterpenoid()-antrocin\\n triterpenoid()\\n zhankuic acid ACantcin ACK\\n zhankuic acid Aantcin Aeburicpl\\n antcin Ceburicoic aciddehydroeburicoic acid\\n aromatic compound()\\n antrolon\\n antrocamphin A\\n"},{"page":16,"title":"","content":[""," "," "," maleic acid()"," furan()-antrodin A~E"," ubiquinones()-antroquinonol"," ","",""],"imagePath":"./dictionary_images/2___p15.png","raw_text":"\\n \\n \\n maleic acid()\\n furan()-antrodin A~E\\n ubiquinones()-antroquinonol\\n \\n\\n\\n"},{"page":17,"title":"","content":[""," "," "," "," "," ",""," "," "," ","",""," ",""],"imagePath":"./dictionary_images/2___p16.png","raw_text":"\\n \\n \\n \\n \\n \\n\\n \\n \\n \\n\\n\\n \\n\\n"},{"page":18,"title":"","content":[""," Ganoderma"," Ganoderma lucidum (Curtis) P.Karst.-"," "," "," ",""," "," "],"imagePath":"./dictionary_images/2___p17.png","raw_text":"\\n Ganoderma\\n Ganoderma lucidum (Curtis) P.Karst.-\\n \\n \\n \\n\\n \\n \\n"},{"page":19,"title":"","content":[""," ",""," "," triterpenoid()"," polysaccharid()"," polypeptide()"," steroids()"," GePFeCaMnZn"],"imagePath":"./dictionary_images/2___p18.png","raw_text":"\\n \\n\\n \\n triterpenoid()\\n polysaccharid()\\n polypeptide()\\n steroids()\\n GePFeCaMnZn\\n"},{"page":20,"title":"","content":[""," "," "," "," "," "," "," "," ()"],"imagePath":"./dictionary_images/2___p19.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n ()\\n"},{"page":21,"title":"","content":[""," "," ","",""," ",""," "," --"," Phinacanthus nasutus (L.)Kurz"," "],"imagePath":"./dictionary_images/2___p20.png","raw_text":"\\n \\n \\n\\n\\n \\n\\n \\n --\\n Phinacanthus nasutus (L.)Kurz\\n \\n"},{"page":22,"title":"","content":[""," Laccocephalum mylittae","(Cooke & Massee) Nez & Ryvarden"," "," "," "," "," Native Bread)",""],"imagePath":"./dictionary_images/2___p21.png","raw_text":"\\n Laccocephalum mylittae\\n(Cooke & Massee) Nez & Ryvarden\\n \\n \\n \\n \\n Native Bread)\\n\\n"},{"page":23,"title":"","content":[""," "," "," -omphalin()"," "," "," "," "],"imagePath":"./dictionary_images/2___p22.png","raw_text":"\\n \\n \\n -omphalin()\\n \\n \\n \\n \\n"},{"page":24,"title":"","content":[""," Poria cocos (Schw.) Wolf"," .."," "," "," "," "," ",""],"imagePath":"./dictionary_images/2___p23.png","raw_text":"\\n Poria cocos (Schw.) Wolf\\n ..\\n \\n \\n \\n \\n \\n\\n"},{"page":25,"title":"","content":[""," "," polysaccharide-pachymaran()"," triterpenoid-"," pachymic acid()dehydrotumulicic acid()"," dehydrotrametenoilic acid()"," "," "],"imagePath":"./dictionary_images/2___p24.png","raw_text":"\\n \\n polysaccharide-pachymaran()\\n triterpenoid-\\n pachymic acid()dehydrotumulicic acid()\\n dehydrotrametenoilic acid()\\n \\n \\n"},{"page":26,"title":"","content":[""," "," "," "," "," "," "],"imagePath":"./dictionary_images/2___p25.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n"},{"page":27,"title":"","content":[""," "," -"," -"," "," -"," "," "],"imagePath":"./dictionary_images/2___p26.png","raw_text":"\\n \\n -\\n -\\n \\n -\\n \\n \\n"},{"page":28,"title":"","content":[""," Polyporus umbellatus (Pers.) Fries"," ",""," "," "," "," "," "],"imagePath":"./dictionary_images/2___p27.png","raw_text":"\\n Polyporus umbellatus (Pers.) Fries\\n \\n\\n \\n \\n \\n \\n \\n"},{"page":29,"title":"","content":[""," "," polysaccharide-polyporus polysaccharides()"," steroids-polyporusterone AB()"," "," "," "," "],"imagePath":"./dictionary_images/2___p28.png","raw_text":"\\n \\n polysaccharide-polyporus polysaccharides()\\n steroids-polyporusterone AB()\\n \\n \\n \\n \\n"},{"page":30,"title":"","content":[""," Sanghuangporus sanghuang","(Sheng H. Wu, T.Hatt. & Y.C. Dai) Sheng H. Wu,","L.W. Zhou & Y.C. Dai"," "," "," "," "," "," ",""],"imagePath":"./dictionary_images/2___p29.png","raw_text":"\\n Sanghuangporus sanghuang\\n(Sheng H. Wu, T.Hatt. & Y.C. Dai) Sheng H. Wu, \\nL.W. Zhou & Y.C. Dai\\n \\n \\n \\n \\n \\n \\n\\n"},{"page":31,"title":"","content":[""," "," fatty acid()-agaricin()"," Polysaccharide"," "," "," "," "," "," "," :"," ",""],"imagePath":"./dictionary_images/2___p30.png","raw_text":"\\n \\n fatty acid()-agaricin()\\n Polysaccharide\\n \\n \\n \\n \\n \\n \\n :\\n \\n\\n"},{"page":32,"title":"","content":[""," "," -",""," ",""," "," "," "," "],"imagePath":"./dictionary_images/2___p31.png","raw_text":"\\n \\n -\\n\\n \\n\\n \\n \\n \\n \\n"},{"page":33,"title":"","content":["","Tricholomataceae"],"imagePath":"./dictionary_images/2___p32.png","raw_text":"\\nTricholomataceae\\n"},{"page":34,"title":"","content":[""," "," 901800"," "," ","",""," "," "],"imagePath":"./dictionary_images/2___p33.png","raw_text":"\\n \\n 901800\\n \\n \\n\\n\\n \\n \\n"},{"page":35,"title":"","content":[""," Armillaria mellea (Vahl) P. Kumm."," "," "," "," "," "," "],"imagePath":"./dictionary_images/2___p34.png","raw_text":"\\n Armillaria mellea (Vahl) P. Kumm.\\n \\n \\n \\n \\n \\n \\n"},{"page":36,"title":"","content":[""," "," protoilludane sesquiterpenoid aromatic esters(",""," polysaccharide"," :",""],"imagePath":"./dictionary_images/2___p35.png","raw_text":"\\n \\n protoilludane sesquiterpenoid aromatic esters(\\n\\n polysaccharide\\n :\\n\\n"},{"page":37,"title":"","content":["","Auriculariaceae"],"imagePath":"./dictionary_images/2___p36.png","raw_text":"\\nAuriculariaceae\\n"},{"page":38,"title":"","content":[""," "," "," "," ",""," "],"imagePath":"./dictionary_images/2___p37.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n"},{"page":39,"title":"","content":[""," Auricularia auricula-judae (Bull.) J. Schrot."," "," "," "," "," :(B2) ()","() lecithin()"," "," "," "," "],"imagePath":"./dictionary_images/2___p38.png","raw_text":"\\n Auricularia auricula-judae (Bull.) J. Schrot.\\n \\n \\n \\n \\n :(B2) ()\\n() lecithin()\\n \\n \\n \\n \\n"},{"page":40,"title":"","content":["","Tremellaceae"],"imagePath":"./dictionary_images/2___p39.png","raw_text":"\\nTremellaceae\\n"},{"page":41,"title":"","content":[""," ",""," "," "],"imagePath":"./dictionary_images/2___p40.png","raw_text":"\\n \\n\\n \\n \\n"},{"page":42,"title":"","content":[""," Tremella fuciformis Berk."," "," "," "," "," "," -polysaccharides"," "," "," "," "," "],"imagePath":"./dictionary_images/2___p41.png","raw_text":"\\n Tremella fuciformis Berk.\\n \\n \\n \\n \\n \\n -polysaccharides\\n \\n \\n \\n \\n \\n"},{"page":43,"title":"","content":["","Lycoperdaceae"],"imagePath":"./dictionary_images/2___p42.png","raw_text":"\\nLycoperdaceae\\n"},{"page":44,"title":"","content":[""," ","",""," ",""," ","",""," ","",""," ","","","",""],"imagePath":"./dictionary_images/2___p43.png","raw_text":"\\n \\n\\n\\n \\n\\n \\n\\n\\n \\n\\n\\n \\n\\n\\n\\n\\n"},{"page":45,"title":"","content":[""," "," (Calvatia gigantra (Batsh ex pers.)","Loly) (Calvatia lilacina (Mont et Berk.)","Lloyd) (Lasiosphaera fenzlii Renzlii","Reich.) "," "," "," "," "," -"],"imagePath":"./dictionary_images/2___p44.png","raw_text":"\\n \\n (Calvatia gigantra (Batsh ex pers.) \\nLoly) (Calvatia lilacina (Mont et Berk.) \\nLloyd) (Lasiosphaera fenzlii Renzlii\\nReich.) \\n \\n \\n \\n \\n -\\n"},{"page":46,"title":"","content":[""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/2___p45.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":47,"title":"","content":[""],"imagePath":"./dictionary_images/2___p46.png","raw_text":"\\n"},{"page":48,"title":"","content":[""," (Monascus purpureus Went)"," "," ",""," 618-907",""," "," "," "," monascin()ankaflavin()monacolin K()","dimerumic acidGABA"," "," monacolin KLovastatin()"],"imagePath":"./dictionary_images/2___p47.png","raw_text":"\\n (Monascus purpureus Went)\\n \\n \\n\\n 618-907\\n\\n \\n \\n \\n monascin()ankaflavin()monacolin K()\\ndimerumic acidGABA\\n \\n monacolin KLovastatin()\\n"},{"page":49,"title":"","content":[""," Hericium erinaceus (Bull.) Pers."," ",""," ","",""," ",""," :"," "," "," "],"imagePath":"./dictionary_images/2___p48.png","raw_text":"\\n Hericium erinaceus (Bull.) Pers.\\n \\n\\n \\n\\n\\n \\n\\n :\\n \\n \\n \\n"},{"page":50,"title":"","content":[""," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/2___p49.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":51,"title":"","content":[""," "," "," "," -"," "," ()"," -"," "," "],"imagePath":"./dictionary_images/2___p50.png","raw_text":"\\n \\n \\n \\n -\\n \\n ()\\n -\\n \\n \\n"}]},{"source":"3--","pages":[{"page":1,"title":"","content":["","11"],"imagePath":"./dictionary_images/3___p0.png","raw_text":"\\n11\\n"},{"page":2,"title":"?","content":["?"," (?)"," ()"," ()",""," ","(copy from http://web2.nmns.edu.tw/)"],"imagePath":"./dictionary_images/3___p1.png","raw_text":"?\\n (?)\\n ()\\n ()\\n\\n \\n(copy from http://web2.nmns.edu.tw/)\\n"},{"page":3,"title":"","content":[""," 47~40"," 2014.2.2444"," 40 ~25"," "," 25 ~6"," "," ",""," 6"," "," Paleozoic5~62.51"," (Cambrian) (Ordovician)(Silurian)","(Devonian)(Carboniferous)(Permian)"," Meozoic2.516500"," (Triassic) (Jurassic)(Cretaceous)"," Cenozoic6400"," (Tertialy)(Quaternary)"],"imagePath":"./dictionary_images/3___p2.png","raw_text":"\\n 47~40\\n 2014.2.2444\\n 40 ~25\\n \\n 25 ~6\\n \\n \\n\\n 6\\n \\n Paleozoic5~62.51\\n (Cambrian) (Ordovician)(Silurian)\\n(Devonian)(Carboniferous)(Permian)\\n Meozoic2.516500\\n (Triassic) (Jurassic)(Cretaceous)\\n Cenozoic6400\\n (Tertialy)(Quaternary)\\n"},{"page":4,"title":"","content":[""," "," "," "," ()",""," "," "," "," "," 6600"],"imagePath":"./dictionary_images/3___p3.png","raw_text":"\\n \\n \\n \\n ()\\n\\n \\n \\n \\n \\n 6600\\n"},{"page":5,"title":"","content":[""," "," ()"," "," "," ()"," "," ()","()"],"imagePath":"./dictionary_images/3___p4.png","raw_text":"\\n \\n ()\\n \\n \\n ()\\n \\n ()\\n()\\n"},{"page":6,"title":"","content":[""," "," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/3___p5.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":7,"title":"","content":[""," Kenrick(1997)Pryer(2001)",":"," Lycopodiopsida/lycophytes"," Polypodiopsida/ferns"," PPG 1(The pteridophyte phylogeny group)","2016"," 5133711916"," 38148801(TPG, 2020)"],"imagePath":"./dictionary_images/3___p6.png","raw_text":"\\n Kenrick(1997)Pryer(2001)\\n:\\n Lycopodiopsida/lycophytes\\n Polypodiopsida/ferns\\n PPG 1(The pteridophyte phylogeny group)\\n2016\\n 5133711916\\n 38148801(TPG, 2020)\\n"},{"page":8,"title":"","content":[""," "," "," ",""," "," PPG 1:"," --"],"imagePath":"./dictionary_images/3___p7.png","raw_text":"\\n \\n \\n \\n\\n \\n PPG 1:\\n --\\n"},{"page":9,"title":"","content":[""," "," ","",""],"imagePath":"./dictionary_images/3___p8.png","raw_text":"\\n \\n \\n\\n\\n"},{"page":10,"title":"","content":[""," ","","","","","","","",""],"imagePath":"./dictionary_images/3___p9.png","raw_text":"\\n \\n\\n\\n\\n\\n\\n\\n\\n\\n"},{"page":11,"title":"","content":[""," "," "," "," ",""],"imagePath":"./dictionary_images/3___p10.png","raw_text":"\\n \\n \\n \\n \\n\\n"},{"page":12,"title":"","content":[""," "," "," ",""," "," "," "," "," "],"imagePath":"./dictionary_images/3___p11.png","raw_text":"\\n \\n \\n \\n\\n \\n \\n \\n \\n \\n"},{"page":13,"title":"","content":[""," "," "," "," (?)"," ()"," "," "," "," ()"],"imagePath":"./dictionary_images/3___p12.png","raw_text":"\\n \\n \\n \\n (?)\\n ()\\n \\n \\n \\n ()\\n"},{"page":14,"title":"","content":[""," "," "," "," "],"imagePath":"./dictionary_images/3___p13.png","raw_text":"\\n \\n \\n \\n \\n"},{"page":15,"title":"","content":[""," "," "," "," "," "," "," "," -"," -"],"imagePath":"./dictionary_images/3___p14.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n -\\n -\\n"},{"page":16,"title":"","content":[""," ()"," ","(3-10cm2-8cm)"," "," "," ",""," "," "," "," "],"imagePath":"./dictionary_images/3___p15.png","raw_text":"\\n ()\\n \\n(3-10cm2-8cm)\\n \\n \\n \\n\\n \\n \\n \\n \\n"},{"page":17,"title":"","content":[""," :"," :"," :"," :"," :"," :"," -()"],"imagePath":"./dictionary_images/3___p16.png","raw_text":"\\n :\\n :\\n :\\n :\\n :\\n :\\n -()\\n"},{"page":18,"title":"","content":[""," ",""," ",""," (ptaquiloside)"],"imagePath":"./dictionary_images/3___p17.png","raw_text":"\\n \\n\\n \\n\\n (ptaquiloside)\\n"},{"page":19,"title":"","content":[""],"imagePath":"./dictionary_images/3___p18.png","raw_text":"\\n"},{"page":20,"title":"","content":["","Selaginellaceae"],"imagePath":"./dictionary_images/3___p19.png","raw_text":"\\nSelaginellaceae\\n"},{"page":21,"title":"","content":[""," "," "," "," ","4"," "," "],"imagePath":"./dictionary_images/3___p20.png","raw_text":"\\n \\n \\n \\n \\n4\\n \\n \\n"},{"page":22,"title":"","content":[""," (Selaginella)"," Selaginella delicatula (Desv.) Alston"," ",""," :"," :flavonoidlignanalkaloidanthraquinone"," :"," "," "," "],"imagePath":"./dictionary_images/3___p21.png","raw_text":"\\n (Selaginella)\\n Selaginella delicatula (Desv.) Alston\\n \\n\\n :\\n :flavonoidlignanalkaloidanthraquinone\\n :\\n \\n \\n \\n"},{"page":23,"title":"","content":[""," (Selaginella)"," Selaginella doederleinii Hieron."," ",""," :"," : flavonoidlignanalkaloid"," :"," "," "],"imagePath":"./dictionary_images/3___p22.png","raw_text":"\\n (Selaginella)\\n Selaginella doederleinii Hieron.\\n \\n\\n :\\n : flavonoidlignanalkaloid\\n :\\n \\n \\n"},{"page":24,"title":"","content":[""," (Selaginella)"," Selaginella tamariscina (Beauv.) Spring"," ","","(","","Kumoiyon()"," :",""],"imagePath":"./dictionary_images/3___p23.png","raw_text":"\\n (Selaginella)\\n Selaginella tamariscina (Beauv.) Spring\\n \\n\\n(\\n\\nKumoiyon()\\n :\\n\\n"},{"page":25,"title":"","content":[""," : flavonoidlignananthraquinone","polyphenolphenylpropanoid"," :"," "," "," "],"imagePath":"./dictionary_images/3___p24.png","raw_text":"\\n : flavonoidlignananthraquinone\\npolyphenolphenylpropanoid\\n :\\n \\n \\n \\n"},{"page":26,"title":"","content":["","Lycopodiaceae"],"imagePath":"./dictionary_images/3___p25.png","raw_text":"\\nLycopodiaceae\\n"},{"page":27,"title":"","content":[""," "," "," "," ",""," ",""],"imagePath":"./dictionary_images/3___p26.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n\\n"},{"page":28,"title":"","content":[""," (Lycopodium)"," Lycopodium cernuum Linn."," ","",""," :"," :alkaloidtriterpenoidflavonoid"," "," :"," "," "," "],"imagePath":"./dictionary_images/3___p27.png","raw_text":"\\n (Lycopodium)\\n Lycopodium cernuum Linn.\\n \\n\\n\\n :\\n :alkaloidtriterpenoidflavonoid\\n \\n :\\n \\n \\n \\n"},{"page":29,"title":"","content":["","equisetaceae"],"imagePath":"./dictionary_images/3___p28.png","raw_text":"\\nequisetaceae\\n"},{"page":30,"title":"","content":[""," "," "," "," ",""," "," "],"imagePath":"./dictionary_images/3___p29.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n \\n"},{"page":31,"title":"","content":[""," (Equisetum)"," Equisetum hyemale L."," ",""," :",""," :flavonoidphenylpropanoidorganic acidfurans"," :()"," "," "," "," "],"imagePath":"./dictionary_images/3___p30.png","raw_text":"\\n (Equisetum)\\n Equisetum hyemale L.\\n \\n\\n :\\n\\n :flavonoidphenylpropanoidorganic acidfurans \\n :()\\n \\n \\n \\n \\n"},{"page":32,"title":"","content":["","Ophioglossaceae"],"imagePath":"./dictionary_images/3___p31.png","raw_text":"\\nOphioglossaceae\\n"},{"page":33,"title":"","content":[""," "," "," "," 4~8 cm8 cm3 cm"," 20 cm",""],"imagePath":"./dictionary_images/3___p32.png","raw_text":"\\n \\n \\n \\n 4~8 cm8 cm3 cm\\n 20 cm\\n\\n"},{"page":34,"title":"","content":[""," (Ophioglossum)"," Ophioglossum petiolatum Hooker"," :"," :"," "," :flavonoid"," :"," :"," "," :",""],"imagePath":"./dictionary_images/3___p33.png","raw_text":"\\n (Ophioglossum)\\n Ophioglossum petiolatum Hooker\\n :\\n :\\n \\n :flavonoid\\n :\\n :\\n \\n :\\n\\n"},{"page":35,"title":"","content":["","Gleicheniaceae"],"imagePath":"./dictionary_images/3___p34.png","raw_text":"\\nGleicheniaceae\\n"},{"page":36,"title":"","content":[""," "," "," "," ",""," "," "],"imagePath":"./dictionary_images/3___p35.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n \\n"},{"page":37,"title":"","content":[""," (Dicranopteris)"," Dicranopteris lineris (Burm. f.) Underw."," :()","()",""," :"," "," :chromanoneflavonoid"," "," "," "," "],"imagePath":"./dictionary_images/3___p36.png","raw_text":"\\n (Dicranopteris)\\n Dicranopteris lineris (Burm. f.) Underw.\\n :()\\n()\\n\\n :\\n \\n :chromanoneflavonoid\\n \\n \\n \\n \\n"},{"page":38,"title":"","content":["","Schizaeaceae"],"imagePath":"./dictionary_images/3___p37.png","raw_text":"\\nSchizaeaceae\\n"},{"page":39,"title":"","content":[""," "," ",""," "],"imagePath":"./dictionary_images/3___p38.png","raw_text":"\\n \\n \\n\\n \\n"},{"page":40,"title":"","content":[""," ( Lygodium )"," Lygodium japonicum (Thunb.) Sw."," ","Kanawaru()Sasuru()"," :"," :flavonoidphenylpropanoid"," :"," "," "," "],"imagePath":"./dictionary_images/3___p39.png","raw_text":"\\n ( Lygodium )\\n Lygodium japonicum (Thunb.) Sw.\\n \\nKanawaru()Sasuru()\\n :\\n :flavonoidphenylpropanoid\\n :\\n \\n \\n \\n"},{"page":41,"title":"","content":["","Cyatheaceae"],"imagePath":"./dictionary_images/3___p40.png","raw_text":"\\nCyatheaceae\\n"},{"page":42,"title":"","content":[""," "," 1","",""," ",""," "],"imagePath":"./dictionary_images/3___p41.png","raw_text":"\\n \\n 1\\n\\n\\n \\n\\n \\n"},{"page":43,"title":"","content":[""," (Cyathea)"," Cyathea lepifera (J. Sm. ex Hook.) Copel."," :",""," :"," "," "," "," :triterpenoidsteroid"," :"," "],"imagePath":"./dictionary_images/3___p42.png","raw_text":"\\n (Cyathea)\\n Cyathea lepifera (J. Sm. ex Hook.) Copel.\\n :\\n\\n :\\n \\n \\n \\n :triterpenoidsteroid\\n :\\n \\n"},{"page":44,"title":"","content":["","Pteridaceae"],"imagePath":"./dictionary_images/3___p43.png","raw_text":"\\nPteridaceae\\n"},{"page":45,"title":"","content":[""," "," "," ",""," 2","2",""," "],"imagePath":"./dictionary_images/3___p44.png","raw_text":"\\n \\n \\n \\n\\n 2\\n2\\n\\n \\n"},{"page":46,"title":"","content":[""," (Adiantum)"," Adiantum capillus-veneris L."," ",""," :"," "," "," :steroidflavonoidphenylpropanoidtriterpenoid"," "," "," "," "],"imagePath":"./dictionary_images/3___p45.png","raw_text":"\\n (Adiantum)\\n Adiantum capillus-veneris L.\\n \\n\\n :\\n \\n \\n :steroidflavonoidphenylpropanoidtriterpenoid\\n \\n \\n \\n \\n"},{"page":47,"title":"","content":[""," (Pteris)"," Pteris multifida Poir."," ","",""," :"," "," :diterpenoidflavonoid"," "," "," "],"imagePath":"./dictionary_images/3___p46.png","raw_text":"\\n (Pteris)\\n Pteris multifida Poir.\\n \\n\\n\\n :\\n \\n :diterpenoidflavonoid\\n \\n \\n \\n"},{"page":48,"title":"","content":[""," (Pteris)"," Pteris semipinnata Linn."," :",""," :"," "," :flavonoid"," "," "," "],"imagePath":"./dictionary_images/3___p47.png","raw_text":"\\n (Pteris)\\n Pteris semipinnata Linn.\\n :\\n\\n :\\n \\n :flavonoid\\n \\n \\n \\n"},{"page":49,"title":"","content":["","Nephrolepidaceae"],"imagePath":"./dictionary_images/3___p48.png","raw_text":"\\nNephrolepidaceae\\n"},{"page":50,"title":"","content":[""," "," ",""," "],"imagePath":"./dictionary_images/3___p49.png","raw_text":"\\n \\n \\n\\n \\n"},{"page":51,"title":"","content":[""," (Nephrolepis)"," Nephrolepis cordifolia (L.) C.Presl"," :","",""," :"," 2000"," : "," :triterpenoidsteroid"," :"," "," "," "],"imagePath":"./dictionary_images/3___p50.png","raw_text":"\\n (Nephrolepis)\\n Nephrolepis cordifolia (L.) C.Presl\\n :\\n\\n\\n :\\n 2000\\n : \\n :triterpenoidsteroid\\n :\\n \\n \\n \\n"},{"page":52,"title":"","content":["","Davalliaceae"],"imagePath":"./dictionary_images/3___p51.png","raw_text":"\\nDavalliaceae\\n"},{"page":53,"title":"","content":[""," ",""," ","",""," ",""],"imagePath":"./dictionary_images/3___p52.png","raw_text":"\\n \\n\\n \\n\\n\\n \\n\\n"},{"page":54,"title":"","content":[""," (Davallia)"," Davallia trichomanoides Blume"," :()",""," :"," "," "," :flavonoidtriterpenoidproanthocyanidin","sesquiterpenoid glucoside"," "," "],"imagePath":"./dictionary_images/3___p53.png","raw_text":"\\n (Davallia)\\n Davallia trichomanoides Blume\\n :()\\n\\n :\\n \\n \\n :flavonoidtriterpenoidproanthocyanidin\\nsesquiterpenoid glucoside\\n \\n \\n"},{"page":55,"title":"","content":["","Polypodiaceae"],"imagePath":"./dictionary_images/3___p54.png","raw_text":"\\nPolypodiaceae\\n"},{"page":56,"title":"","content":[""," "," ",""," ","",""],"imagePath":"./dictionary_images/3___p55.png","raw_text":"\\n \\n \\n\\n \\n\\n\\n"},{"page":57,"title":"","content":[""," (Drynaria)"," Drynaria roosii Nakaike"," D. fortune (Kunze ex Mett.) J. Sm."," ",""," :"," : flavonoidphenylpropanoidcurcuminoid","triterpenoid"," :"," "],"imagePath":"./dictionary_images/3___p56.png","raw_text":"\\n (Drynaria)\\n Drynaria roosii Nakaike\\n D. fortune (Kunze ex Mett.) J. Sm.\\n \\n\\n :\\n : flavonoidphenylpropanoidcurcuminoid\\ntriterpenoid\\n :\\n \\n"},{"page":58,"title":"","content":[""," (Lemmaphyllum)"," Lemmaphyllum microphyllum C. Presl"," ","",""," :"," "," :triterpenoid"," :"," "," "],"imagePath":"./dictionary_images/3___p57.png","raw_text":"\\n (Lemmaphyllum)\\n Lemmaphyllum microphyllum C. Presl\\n \\n\\n\\n :\\n \\n :triterpenoid\\n :\\n \\n \\n"},{"page":59,"title":"","content":[""," (Pseudodrynaria)"," Psrudodrynaria coronans (Wall. Ex Mett.) Ching"," Aglaomorpha coronans (Wall. Ex Mett.) Copel."," ",""," :",""," :flavonoid"," :"," :"," :"],"imagePath":"./dictionary_images/3___p58.png","raw_text":"\\n (Pseudodrynaria)\\n Psrudodrynaria coronans (Wall. Ex Mett.) Ching\\n Aglaomorpha coronans (Wall. Ex Mett.) Copel.\\n \\n\\n :\\n\\n :flavonoid\\n :\\n :\\n :\\n"},{"page":60,"title":"","content":["","Aspleniaceae"],"imagePath":"./dictionary_images/3___p59.png","raw_text":"\\nAspleniaceae\\n"},{"page":61,"title":"","content":[""," ",""," ",""," ",""],"imagePath":"./dictionary_images/3___p60.png","raw_text":"\\n \\n\\n \\n\\n \\n\\n"},{"page":62,"title":"","content":[""," (Asplenium)"," Asplenium nidus Linn."," :",""," :"," "," :"," :flavonoid"," :"," "," "],"imagePath":"./dictionary_images/3___p61.png","raw_text":"\\n (Asplenium)\\n Asplenium nidus Linn.\\n :\\n\\n :\\n \\n :\\n :flavonoid\\n :\\n \\n \\n"},{"page":63,"title":"","content":["","Athyriaceae"],"imagePath":"./dictionary_images/3___p62.png","raw_text":"\\nAthyriaceae\\n"},{"page":64,"title":"","content":[""," "," ",""," ","",""," J ",""],"imagePath":"./dictionary_images/3___p63.png","raw_text":"\\n \\n \\n\\n \\n\\n\\n J \\n\\n"},{"page":65,"title":"","content":[""," (Anisogonium)"," Anisogonium esculentum (Retz.) Presl"," ",""," :"," "," "," :flavonoid"," "," "," "," "],"imagePath":"./dictionary_images/3___p64.png","raw_text":"\\n (Anisogonium)\\n Anisogonium esculentum (Retz.) Presl\\n \\n\\n :\\n \\n \\n :flavonoid\\n \\n \\n \\n \\n"},{"page":66,"title":"","content":["","Blechnaceae"],"imagePath":"./dictionary_images/3___p65.png","raw_text":"\\nBlechnaceae\\n"},{"page":67,"title":"","content":[""," "," ",""," ",""],"imagePath":"./dictionary_images/3___p66.png","raw_text":"\\n \\n \\n\\n \\n\\n"},{"page":68,"title":"","content":[""," (Woodwardia)"," Woodwardia prolifera Hook. & Arn."," W. orientalis Sw. formosana Rosenst."," ",""," :"," :glucosidesteroidtriterpenoidlignan",""," :()"," "," "," "],"imagePath":"./dictionary_images/3___p67.png","raw_text":"\\n (Woodwardia)\\n Woodwardia prolifera Hook. & Arn.\\n W. orientalis Sw. formosana Rosenst.\\n \\n\\n :\\n :glucosidesteroidtriterpenoidlignan\\n\\n :()\\n \\n \\n \\n"}]},{"source":"4--","pages":[{"page":1,"title":"","content":["","12"],"imagePath":"./dictionary_images/4___p0.png","raw_text":"\\n12\\n"},{"page":2,"title":"","content":[""," gymnospermos",""," "," "," --"," --"," "," ()"," "],"imagePath":"./dictionary_images/4___p1.png","raw_text":"\\n gymnospermos\\n\\n \\n \\n --\\n --\\n \\n ()\\n \\n"},{"page":3,"title":"","content":[""," 414881000"," 830"," "," "," "," "," "," ",""],"imagePath":"./dictionary_images/4___p2.png","raw_text":"\\n 414881000\\n 830\\n \\n \\n \\n \\n \\n \\n\\n"},{"page":4,"title":"","content":[""," (Paleozoic Era)","(26532)","(215",")"," ","(Psilotinae)","(Progymnospermae)"," 2506500","",""],"imagePath":"./dictionary_images/4___p3.png","raw_text":"\\n (Paleozoic Era)\\n(26532)\\n(215\\n)\\n \\n(Psilotinae)\\n(Progymnospermae)\\n 2506500\\n\\n\\n"},{"page":5,"title":"","content":[""," "," ","2","","(Ginkgoaceae)11","",""," "," ","","(Amentotaxus )","13","","","(copy from http://sip.csjh.tp.edu.tw/)"],"imagePath":"./dictionary_images/4___p4.png","raw_text":"\\n \\n \\n2\\n\\n(Ginkgoaceae)11\\n\\n\\n \\n \\n\\n(Amentotaxus )\\n13\\n\\n\\n(copy from http://sip.csjh.tp.edu.tw/)\\n"},{"page":6,"title":"","content":[""," "," (Cephalotaxaceae)Cephalotaxopsis ","Cephalotaxites",""," 19","",""," "," Taiwan",""," ()(Sequoiadendron giganteumLindl.","Buchbolz)(Metaseguoia glyptostroboides Hu et Cheng)",""," (Taiwania)","( Taiwania flousiana Gaussen)","","","(copy from http://sip.csjh.tp.edu.tw/)"],"imagePath":"./dictionary_images/4___p5.png","raw_text":"\\n \\n (Cephalotaxaceae)Cephalotaxopsis \\nCephalotaxites\\n\\n 19\\n\\n\\n \\n Taiwan\\n\\n ()(Sequoiadendron giganteumLindl.\\nBuchbolz)(Metaseguoia glyptostroboides Hu et Cheng)\\n\\n (Taiwania)\\n( Taiwania flousiana Gaussen)\\n\\n\\n(copy from http://sip.csjh.tp.edu.tw/)\\n"},{"page":7,"title":"","content":[""," ","",""," "," (Cycadales)(Ginkgoales)",""," "," (microspore)-"," (megaspore)-"," ",""],"imagePath":"./dictionary_images/4___p6.png","raw_text":"\\n \\n\\n\\n \\n (Cycadales)(Ginkgoales)\\n\\n \\n (microspore)-\\n (megaspore)-\\n \\n\\n"},{"page":8,"title":"","content":[""," ",""," "," ()"," ()()",""," "," "," "," ()()()","()"],"imagePath":"./dictionary_images/4___p7.png","raw_text":"\\n \\n\\n \\n ()\\n ()()\\n\\n \\n \\n \\n ()()()\\n()\\n"},{"page":9,"title":"","content":[""," "," "," ()",""," "," ()"," ",""," "," ","",""],"imagePath":"./dictionary_images/4___p8.png","raw_text":"\\n \\n \\n ()\\n\\n \\n ()\\n \\n\\n \\n \\n\\n\\n"},{"page":10,"title":"","content":[""," "," ",""," ",""," "," ","",""," ","","","(copy from http://sip.csjh.tp.edu.tw/)"],"imagePath":"./dictionary_images/4___p9.png","raw_text":"\\n \\n \\n\\n \\n\\n \\n \\n\\n\\n \\n\\n\\n(copy from http://sip.csjh.tp.edu.tw/)\\n"},{"page":11,"title":"","content":[""," ","","19986",""," (Chamaecyparis formosensis Matsum.)","(Chamaecyparis obtusa Sieb. Zucc. var. formosana","(Hayata) Rehder)"," (",")20.8","6.623.31","0.11","","(copy from http://sip.csjh.tp.edu.tw/)"],"imagePath":"./dictionary_images/4___p10.png","raw_text":"\\n \\n\\n19986\\n\\n (Chamaecyparis formosensis Matsum.)\\n(Chamaecyparis obtusa Sieb. Zucc. var. formosana\\n(Hayata) Rehder)\\n (\\n)20.8\\n6.623.31\\n0.11\\n\\n(copy from http://sip.csjh.tp.edu.tw/)\\n"},{"page":12,"title":"","content":[""," ","",""," ","(1994) 817208","13564 "],"imagePath":"./dictionary_images/4___p11.png","raw_text":"\\n \\n\\n\\n \\n(1994) 817208\\n13564 \\n"},{"page":13,"title":"","content":[""," 2008","()","2,197,09060.71%","1,781,660 "," 1,469,898","67%299,21614%","171,3468%112,5495%","114,9005%"," "," 113,555"," 85,631"," 82,106"," 27,877"," 16,513"],"imagePath":"./dictionary_images/4___p12.png","raw_text":"\\n 2008\\n()\\n2,197,09060.71%\\n1,781,660 \\n 1,469,898\\n67%299,21614%\\n171,3468%112,5495%\\n114,9005%\\n \\n 113,555\\n 85,631\\n 82,106\\n 27,877\\n 16,513\\n"},{"page":14,"title":"","content":[""," 52","","26.9%) "," -"," "," 19"," "," "," 21%"],"imagePath":"./dictionary_images/4___p13.png","raw_text":"\\n 52\\n\\n26.9%) \\n -\\n \\n 19\\n \\n \\n 21%\\n"},{"page":15,"title":"","content":[""," ",""," ",""," "," ","",""," "," "," Taxus(taxol)"," ","(copy from http://sip.csjh.tp.edu.tw/)"],"imagePath":"./dictionary_images/4___p14.png","raw_text":"\\n \\n\\n \\n\\n \\n \\n\\n\\n \\n \\n Taxus(taxol)\\n \\n(copy from http://sip.csjh.tp.edu.tw/)\\n"},{"page":16,"title":"","content":[""," ","497219888","11"," 1084","2"," ","16"," ","","",""," ","1968",""],"imagePath":"./dictionary_images/4___p15.png","raw_text":"\\n \\n497219888\\n11\\n 1084\\n2\\n \\n16\\n \\n\\n\\n\\n \\n1968\\n\\n"},{"page":17,"title":"","content":[""],"imagePath":"./dictionary_images/4___p16.png","raw_text":"\\n"},{"page":18,"title":"","content":["","Cycadaceae"],"imagePath":"./dictionary_images/4___p17.png","raw_text":"\\nCycadaceae\\n"},{"page":19,"title":"","content":[""," ",""," 115"," ",""," ","IUCN",""],"imagePath":"./dictionary_images/4___p18.png","raw_text":"\\n \\n\\n 115\\n \\n\\n \\nIUCN\\n\\n"},{"page":20,"title":"","content":[""," "," ","(",")"," "," "," -"," "," "],"imagePath":"./dictionary_images/4___p19.png","raw_text":"\\n \\n \\n(\\n)\\n \\n \\n -\\n \\n \\n"},{"page":21,"title":"","content":[""," Cycas revoluta Thunb."," (Cycas)"," :",""," :"," Cycas taiwaniana Carruth."," "," "," "," Cycas taitungensis C. F. Shen, K. D. Hill, C. H. Tsou & C. J.","Chen"," "],"imagePath":"./dictionary_images/4___p20.png","raw_text":"\\n Cycas revoluta Thunb.\\n (Cycas)\\n :\\n\\n :\\n Cycas taiwaniana Carruth.\\n \\n \\n \\n Cycas taitungensis C. F. Shen, K. D. Hill, C. H. Tsou & C. J. \\nChen\\n \\n"},{"page":22,"title":"","content":[""," "," "," "," 1~380~150","","","","60-150"," "," "," 14.52","26",""," ()","","","130-200"],"imagePath":"./dictionary_images/4___p21.png","raw_text":"\\n \\n \\n \\n 1~380~150\\n\\n\\n\\n60-150\\n \\n \\n 14.52\\n26\\n\\n ()\\n\\n\\n130-200\\n"},{"page":23,"title":"","content":[""," :azoxyglucosideflavonoid"," "," "," :"," :"," :"," "," "," "," "," "],"imagePath":"./dictionary_images/4___p22.png","raw_text":"\\n :azoxyglucosideflavonoid\\n \\n \\n :\\n :\\n :\\n \\n \\n \\n \\n \\n"},{"page":24,"title":"","content":["","Ginkgoaceae"],"imagePath":"./dictionary_images/4___p23.png","raw_text":"\\nGinkgoaceae\\n"},{"page":25,"title":"","content":[""," ","","-",""," "," "," -"," "," --"," -"],"imagePath":"./dictionary_images/4___p24.png","raw_text":"\\n \\n\\n-\\n\\n \\n \\n -\\n \\n --\\n -\\n"},{"page":26,"title":"","content":[""," "," "," ",""," ",""," "," 23-51",""," ","2"],"imagePath":"./dictionary_images/4___p25.png","raw_text":"\\n \\n \\n \\n\\n \\n\\n \\n 23-51\\n\\n \\n2\\n"},{"page":27,"title":"","content":[""," Ginkgo biloba L."," (Ginkgo)"," ",""," :"," ()60",""," "," ",""," "],"imagePath":"./dictionary_images/4___p26.png","raw_text":"\\n Ginkgo biloba L.\\n (Ginkgo)\\n \\n\\n :\\n ()60\\n\\n \\n \\n\\n \\n"},{"page":28,"title":"","content":[""," :"," :ginkgotoxinalkylphenol"," :diterpenoidsesquiterpenoidalkylphenol"," "," -"," -",""],"imagePath":"./dictionary_images/4___p27.png","raw_text":"\\n :\\n :ginkgotoxinalkylphenol\\n :diterpenoidsesquiterpenoidalkylphenol\\n \\n -\\n -\\n\\n"},{"page":29,"title":"","content":["","Pinaceae"],"imagePath":"./dictionary_images/4___p28.png","raw_text":"\\nPinaceae\\n"},{"page":30,"title":"","content":[""," ","","",""," 11220-250"," "," ","26"," ","75"],"imagePath":"./dictionary_images/4___p29.png","raw_text":"\\n \\n\\n\\n\\n 11220-250\\n \\n \\n26\\n \\n75\\n"},{"page":31,"title":"","content":[""," "," ","(Larix)(Pseudolarix)"," ",""," ","2-5",""," "," ","2"," "],"imagePath":"./dictionary_images/4___p30.png","raw_text":"\\n \\n \\n(Larix)(Pseudolarix)\\n \\n\\n \\n2-5\\n\\n \\n \\n2\\n \\n"},{"page":32,"title":"","content":[""," 2023IUCN","9","252432"," "," "," -"," -"," -"," -"," "],"imagePath":"./dictionary_images/4___p31.png","raw_text":"\\n 2023IUCN\\n9\\n252432\\n \\n \\n -\\n -\\n -\\n -\\n \\n"},{"page":33,"title":"","content":[""," Pinus taiwanensis Hayata"," (Pinus)"," :",""," :"," 300~ 2000 "," "," "," "],"imagePath":"./dictionary_images/4___p32.png","raw_text":"\\n Pinus taiwanensis Hayata\\n (Pinus)\\n :\\n\\n :\\n 300~ 2000 \\n \\n \\n \\n"},{"page":34,"title":"","content":[""," triterpenoid"," "," "," :"," "," :"," :"," "," "],"imagePath":"./dictionary_images/4___p33.png","raw_text":"\\n triterpenoid\\n \\n \\n :\\n \\n :\\n :\\n \\n \\n"},{"page":35,"title":"","content":[""," "," "," "," 300~2000",""," flavonoid()lignan()"," :"," "," "," sesquiterpenditerpenelignanflavonoid"," :"," :"],"imagePath":"./dictionary_images/4___p34.png","raw_text":"\\n \\n \\n \\n 300~2000\\n\\n flavonoid()lignan()\\n :\\n \\n \\n sesquiterpenditerpenelignanflavonoid\\n :\\n :\\n"},{"page":36,"title":"","content":["","Araucariaceae"],"imagePath":"./dictionary_images/4___p35.png","raw_text":"\\nAraucariaceae\\n"},{"page":37,"title":"","content":[""," ","","-"," 341"," "," ",""," "," "," -"," -()"," "],"imagePath":"./dictionary_images/4___p36.png","raw_text":"\\n \\n\\n-\\n 341\\n \\n \\n\\n \\n \\n -\\n -()\\n \\n"},{"page":38,"title":"","content":[""," "," "," ",""," ",""," "," "," "," ",""," "],"imagePath":"./dictionary_images/4___p37.png","raw_text":"\\n \\n \\n \\n\\n \\n\\n \\n \\n \\n \\n\\n \\n"},{"page":39,"title":"","content":[""," Agathis dammara (Lamb.) Rich."," (Agathis)"," :"," dammar resin"," "," -"," "," "],"imagePath":"./dictionary_images/4___p38.png","raw_text":"\\n Agathis dammara (Lamb.) Rich.\\n (Agathis)\\n :\\n dammar resin\\n \\n -\\n \\n \\n"},{"page":40,"title":"","content":[""," Araucaria cunninghamii Sweet"," (Araucaria)"," :"," :",""," 19011909 "," essential oils"," "," "," "," "," "," "],"imagePath":"./dictionary_images/4___p39.png","raw_text":"\\n Araucaria cunninghamii Sweet\\n (Araucaria)\\n :\\n :\\n\\n 19011909 \\n essential oils\\n \\n \\n \\n \\n \\n \\n"},{"page":41,"title":"","content":["","Taxaceae"],"imagePath":"./dictionary_images/4___p40.png","raw_text":"\\nTaxaceae\\n"},{"page":42,"title":"","content":[""," (Palacotaxus)",""," 730"," "," ()()"," "," "," -"," -"," "],"imagePath":"./dictionary_images/4___p41.png","raw_text":"\\n (Palacotaxus)\\n\\n 730\\n \\n ()()\\n \\n \\n -\\n -\\n \\n"},{"page":43,"title":"","content":[""," "," "," "," "," ",""," ","1",""," 2"," "," "],"imagePath":"./dictionary_images/4___p42.png","raw_text":"\\n \\n \\n \\n \\n \\n\\n \\n1\\n\\n 2\\n \\n \\n"},{"page":44,"title":"","content":["","(Copy from )",""],"imagePath":"./dictionary_images/4___p43.png","raw_text":"\\n(Copy from )\\n\\n"},{"page":45,"title":"","content":[""," Taxus sumatrana (Miq.) de Laub."," (Taxus)"," "," :"," :"," "," "," ","",""],"imagePath":"./dictionary_images/4___p44.png","raw_text":"\\n Taxus sumatrana (Miq.) de Laub.\\n (Taxus)\\n \\n :\\n :\\n \\n \\n \\n\\n\\n"},{"page":46,"title":"","content":[""," "," triterpenoidditerpenoid"," 10-DAB(10-deacetylbaccatin III)"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/4___p45.png","raw_text":"\\n \\n triterpenoidditerpenoid\\n 10-DAB(10-deacetylbaccatin III)\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":47,"title":"","content":["","Cephalotaxaceae"],"imagePath":"./dictionary_images/4___p46.png","raw_text":"\\nCephalotaxaceae\\n"},{"page":48,"title":"","content":[""," 17"," ",""," "," -"," "," "],"imagePath":"./dictionary_images/4___p47.png","raw_text":"\\n 17\\n \\n\\n \\n -\\n \\n \\n"},{"page":49,"title":"","content":[""," "," "," "," "," "," 61124",""," ",""," ",""],"imagePath":"./dictionary_images/4___p48.png","raw_text":"\\n \\n \\n \\n \\n \\n 61124\\n\\n \\n\\n \\n\\n"},{"page":50,"title":"","content":[""," Cephalotaxus harringtonia (Knight ex J. Forbes)","K.Koch (=Cephalotaxus wilsoniana Hayata)"," (Cephalotaxus)"," "," :"," -"," -alkaloidflavonoid"," -"," -"," -"],"imagePath":"./dictionary_images/4___p49.png","raw_text":"\\n Cephalotaxus harringtonia (Knight ex J. Forbes) \\nK.Koch (=Cephalotaxus wilsoniana Hayata)\\n (Cephalotaxus)\\n \\n :\\n -\\n -alkaloidflavonoid\\n -\\n -\\n -\\n"},{"page":51,"title":"","content":["","Cupressaceae"],"imagePath":"./dictionary_images/4___p50.png","raw_text":"\\nCupressaceae\\n"},{"page":52,"title":"","content":[""," 27-30130-140"," 17"," "," 70 55","()"," "," "," -"," "," "," -"],"imagePath":"./dictionary_images/4___p51.png","raw_text":"\\n 27-30130-140\\n 17\\n \\n 70 55\\n()\\n \\n \\n -\\n \\n \\n -\\n"},{"page":53,"title":"","content":[""," "," "," 3-4"," "," 3-8"," 3-163-4","1"," ","1"," "," "," ()","2 "],"imagePath":"./dictionary_images/4___p52.png","raw_text":"\\n \\n \\n 3-4\\n \\n 3-8\\n 3-163-4\\n1\\n \\n1\\n \\n \\n ()\\n2 \\n"},{"page":54,"title":"","content":[""," Chamaecyparis formosensis Matsum."," (Chamaecyparis)"," ",""," :"," 1,200~2,800 ",""," "," ",""],"imagePath":"./dictionary_images/4___p53.png","raw_text":"\\n Chamaecyparis formosensis Matsum.\\n (Chamaecyparis)\\n \\n\\n :\\n 1,200~2,800 \\n\\n \\n \\n\\n"},{"page":55,"title":"","content":[""," essential oilstropoloneflavonoid"," "," --"," :"],"imagePath":"./dictionary_images/4___p54.png","raw_text":"\\n essential oilstropoloneflavonoid\\n \\n --\\n :\\n"},{"page":56,"title":"","content":[""," Chamaecyparis obtusa (Siebold & Zucc.) Endl. var.","formosana (Hayata) Hayata"," (Chamaecyparis)"," ",""," ",""," :()"," 1,300~2,700 ",""," "," "],"imagePath":"./dictionary_images/4___p55.png","raw_text":"\\n Chamaecyparis obtusa (Siebold & Zucc.) Endl. var. \\nformosana (Hayata) Hayata\\n (Chamaecyparis)\\n \\n\\n \\n\\n :()\\n 1,300~2,700 \\n\\n \\n \\n"},{"page":57,"title":"","content":[""," "," "," "," : essential oils"," "," "],"imagePath":"./dictionary_images/4___p56.png","raw_text":"\\n \\n \\n \\n : essential oils\\n \\n \\n"},{"page":58,"title":"","content":[""," Platycladus orientalis (L.) Franco"," (Thuja)"," ",""," ",""," :"," :"," "," "," ",""],"imagePath":"./dictionary_images/4___p57.png","raw_text":"\\n Platycladus orientalis (L.) Franco\\n (Thuja)\\n \\n\\n \\n\\n :\\n :\\n \\n \\n \\n\\n"},{"page":59,"title":"","content":[""," "," : essential oilsditerpenoidflavonoid","resin"," "," "," "," "],"imagePath":"./dictionary_images/4___p58.png","raw_text":"\\n \\n : essential oilsditerpenoidflavonoid\\nresin\\n \\n \\n \\n \\n"},{"page":60,"title":"","content":["","Podocarpaceae"],"imagePath":"./dictionary_images/4___p59.png","raw_text":"\\nPodocarpaceae\\n"},{"page":61,"title":"","content":[""," "," 18-19170-200"," "," "," "," "," -"," -"," "],"imagePath":"./dictionary_images/4___p60.png","raw_text":"\\n \\n 18-19170-200\\n \\n \\n \\n \\n -\\n -\\n \\n"},{"page":62,"title":"","content":[""," "," "," "," -"," -"," "," 2 "," "," "," ","2 "],"imagePath":"./dictionary_images/4___p61.png","raw_text":"\\n \\n \\n \\n -\\n -\\n \\n 2 \\n \\n \\n \\n2 \\n"},{"page":63,"title":"","content":[""," (Podocarpus)"," Podocarpus macrophyllus (Thunb.) Swee"," "," 8~13 0.9~1.1 "," 1.5~4 0.3~0.8 "," ()()","()"," :"," 1868 1898 1906 "," :essential oilsditerpenesflavonoids","phenols"],"imagePath":"./dictionary_images/4___p62.png","raw_text":"\\n (Podocarpus)\\n Podocarpus macrophyllus (Thunb.) Swee\\n \\n 8~13 0.9~1.1 \\n 1.5~4 0.3~0.8 \\n ()()\\n()\\n :\\n 1868 1898 1906 \\n :essential oilsditerpenesflavonoids\\nphenols\\n"},{"page":64,"title":"","content":[""," "," "," "," "," "," :"," -"," -"," -"," "," -"," -"],"imagePath":"./dictionary_images/4___p63.png","raw_text":"\\n \\n \\n \\n \\n \\n :\\n -\\n -\\n -\\n \\n -\\n -\\n"},{"page":65,"title":"","content":[""," (Nageia)"," Nageia nagi (Thunb.) Kuntze"," :","","Katutiten-giGetta()Kadopa()"," :"," 1906 "," :"," "," :"," "],"imagePath":"./dictionary_images/4___p64.png","raw_text":"\\n (Nageia)\\n Nageia nagi (Thunb.) Kuntze\\n :\\n\\nKatutiten-giGetta()Kadopa()\\n :\\n 1906 \\n :\\n \\n :\\n \\n"},{"page":66,"title":"","content":["","Ephedraceae"],"imagePath":"./dictionary_images/4___p65.png","raw_text":"\\nEphedraceae\\n"},{"page":67,"title":"","content":[""," "," "," (Ephedra)140"," ",""," "," "," -"," "," "],"imagePath":"./dictionary_images/4___p66.png","raw_text":"\\n \\n \\n (Ephedra)140\\n \\n\\n \\n \\n -\\n \\n \\n"},{"page":68,"title":"","content":[""," "," "," "," 23"," ",""," 351","28"," 13","",""," "],"imagePath":"./dictionary_images/4___p67.png","raw_text":"\\n \\n \\n \\n 23\\n \\n\\n 351\\n28\\n 13\\n\\n\\n \\n"},{"page":69,"title":"","content":[""," Ephedra equisetina Bunge"," (Ephedra)"," :"," :alkaloid"," :"," "," "," Ephedra intermedia Schrenk ex C. A. Mey."," Ephedra sinica Stapf"," "],"imagePath":"./dictionary_images/4___p68.png","raw_text":"\\n Ephedra equisetina Bunge\\n (Ephedra)\\n :\\n :alkaloid\\n :\\n \\n \\n Ephedra intermedia Schrenk ex C. A. Mey.\\n Ephedra sinica Stapf\\n \\n"}]},{"source":"5-0-","pages":[{"page":1,"title":"","content":["","13"],"imagePath":"./dictionary_images/5_0__p0.png","raw_text":"\\n13\\n"},{"page":2,"title":"","content":[""," "," ","1690"," "," "," (",")()",""," ",""],"imagePath":"./dictionary_images/5_0__p1.png","raw_text":"\\n \\n \\n1690\\n \\n \\n (\\n)()\\n\\n \\n\\n"},{"page":3,"title":"","content":[""," 40514000","2540"," 2124300"," "," -()"," APG IV","-"," ",""],"imagePath":"./dictionary_images/5_0__p2.png","raw_text":"\\n 40514000\\n2540\\n 2124300\\n \\n -()\\n APG IV\\n-\\n \\n\\n"},{"page":4,"title":"","content":["","Monocotyledons (Monocots)"],"imagePath":"./dictionary_images/5_0__p3.png","raw_text":"\\nMonocotyledons (Monocots)\\n"},{"page":5,"title":"","content":[""," ",""," "," "," (",")"," "," 3(4","5)"," "],"imagePath":"./dictionary_images/5_0__p4.png","raw_text":"\\n \\n\\n \\n \\n (\\n)\\n \\n 3(4\\n5)\\n \\n"},{"page":6,"title":"","content":[""," (",")"," 6"," :"," "," "," "," "],"imagePath":"./dictionary_images/5_0__p5.png","raw_text":"\\n (\\n)\\n 6\\n :\\n \\n \\n \\n \\n"},{"page":7,"title":"","content":[""," ","()","()","","","","","","","()","","","","","80"],"imagePath":"./dictionary_images/5_0__p6.png","raw_text":"\\n \\n()\\n()\\n\\n\\n\\n\\n\\n\\n()\\n\\n\\n\\n\\n80\\n"},{"page":8,"title":"","content":["","Dicotyledons (Dicots)"],"imagePath":"./dictionary_images/5_0__p7.png","raw_text":"\\nDicotyledons (Dicots)\\n"},{"page":9,"title":"","content":[""," "," "," "," "," "," ()"],"imagePath":"./dictionary_images/5_0__p8.png","raw_text":"\\n \\n \\n \\n \\n \\n ()\\n"},{"page":10,"title":"","content":[""," 19"," "," ",""," :"," ",""," "," "," "," ",""],"imagePath":"./dictionary_images/5_0__p9.png","raw_text":"\\n 19\\n \\n \\n\\n :\\n \\n\\n \\n \\n \\n \\n\\n"},{"page":11,"title":"","content":[""," ","","","","","","","","100"],"imagePath":"./dictionary_images/5_0__p10.png","raw_text":"\\n \\n\\n\\n\\n\\n\\n\\n\\n100\\n"},{"page":12,"title":"","content":["","","Stevens, P.F. (2001 onwards). APW: Family Size","","23,600","","21,950","","19,400","","13,150","","10,035","","7,173","","5,735","",": 5,005","",": 4,625","",": 4,555","","4,350","","4,225","","4,025","",": 3,995","","3,870","","3,780","","3,710","","3,600","","3,500","","2,830","","2,740","","2,625","","2,525","","2,500","","2,460","","2,380","","2,361","","2,220","","2,200","","2,060","","2,050","","2,025","","2,020","","1,815","","1,745","","1,700","","1,650","","1,600","","1,600","","1,580","","1,500","","1,450"],"imagePath":"./dictionary_images/5_0__p11.png","raw_text":"\\n\\nStevens, P.F. (2001 onwards). APW: Family Size \\n\\n23,600\\n\\n21,950\\n\\n19,400\\n\\n13,150\\n\\n10,035\\n\\n7,173\\n\\n5,735\\n\\n: 5,005\\n\\n: 4,625\\n\\n: 4,555\\n\\n4,350\\n\\n4,225\\n\\n4,025\\n\\n: 3,995\\n\\n3,870\\n\\n3,780\\n\\n3,710\\n\\n3,600\\n\\n3,500\\n\\n2,830\\n\\n2,740\\n\\n2,625\\n\\n2,525\\n\\n2,500\\n\\n2,460\\n\\n2,380\\n\\n2,361\\n\\n2,220\\n\\n2,200\\n\\n2,060\\n\\n2,050\\n\\n2,025\\n\\n2,020\\n\\n1,815\\n\\n1,745\\n\\n1,700\\n\\n1,650\\n\\n1,600\\n\\n1,600\\n\\n1,580\\n\\n1,500\\n\\n1,450\\n"}]},{"source":"5-1--1-","pages":[{"page":1,"title":"","content":["","13-P.175-215"],"imagePath":"./dictionary_images/5_1__1__p0.png","raw_text":"\\n13-P.175-215\\n"},{"page":2,"title":"","content":["","Typhaceae","13-P.175"],"imagePath":"./dictionary_images/5_1__1__p1.png","raw_text":"\\nTyphaceae\\n13-P.175\\n"},{"page":3,"title":"","content":[""," 248"," ",""," 2"," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p2.png","raw_text":"\\n 248\\n \\n\\n 2\\n \\n \\n \\n \\n \\n"},{"page":4,"title":"","content":[""," "," "," ",""," 1-3 ",""," ","1"," "],"imagePath":"./dictionary_images/5_1__1__p3.png","raw_text":"\\n \\n \\n \\n\\n 1-3 \\n\\n \\n1\\n \\n"},{"page":5,"title":"","content":[""," Typha angustifolia L."," (Typha)"," ","Tiyahiyaku()"," "," "," :"," flavonoidsteroid"],"imagePath":"./dictionary_images/5_1__1__p4.png","raw_text":"\\n Typha angustifolia L.\\n (Typha)\\n \\nTiyahiyaku()\\n \\n \\n :\\n flavonoidsteroid\\n"},{"page":6,"title":"","content":[""," "," "," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p5.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":7,"title":"","content":["","Pandanaceae","13-P.175"],"imagePath":"./dictionary_images/5_1__1__p6.png","raw_text":"\\nPandanaceae\\n13-P.175\\n"},{"page":8,"title":"","content":[""," 4700"," "," "," "," :"," "," "],"imagePath":"./dictionary_images/5_1__1__p7.png","raw_text":"\\n 4700\\n \\n \\n \\n :\\n \\n \\n"},{"page":9,"title":"","content":[""," "," "," ",""," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p8.png","raw_text":"\\n \\n \\n \\n\\n \\n \\n \\n \\n \\n"},{"page":10,"title":"","content":[""," Pandanus odorifer (Forssk.) Kuntze"," (Pandanus)"," ",""," :"," "," "," steroidbenzaldehydeslignansfuran"],"imagePath":"./dictionary_images/5_1__1__p9.png","raw_text":"\\n Pandanus odorifer (Forssk.) Kuntze\\n (Pandanus)\\n \\n\\n :\\n \\n \\n steroidbenzaldehydeslignansfuran\\n"},{"page":11,"title":"","content":[""," "," "," "," "," "," "," "," -"," -"," -"],"imagePath":"./dictionary_images/5_1__1__p10.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n -\\n -\\n -\\n"},{"page":12,"title":"","content":[""," Pandanus amaryllifolius Roxb."," (Pandanus)"," ",""," :"," "," pyrrolinealkaloid"," pyrroline-2-acetyl-1-pyrroline"],"imagePath":"./dictionary_images/5_1__1__p11.png","raw_text":"\\n Pandanus amaryllifolius Roxb.\\n (Pandanus)\\n \\n\\n :\\n \\n pyrrolinealkaloid\\n pyrroline-2-acetyl-1-pyrroline\\n"},{"page":13,"title":"","content":[""," "," "," -",""," "," "," "],"imagePath":"./dictionary_images/5_1__1__p12.png","raw_text":"\\n \\n \\n -\\n\\n \\n \\n \\n"},{"page":14,"title":"","content":["","Alismataceae"],"imagePath":"./dictionary_images/5_1__1__p13.png","raw_text":"\\nAlismataceae\\n"},{"page":15,"title":"","content":[""," "," 1285-95"," "," "," "," ",""," "," "," "],"imagePath":"./dictionary_images/5_1__1__p14.png","raw_text":"\\n \\n 1285-95\\n \\n \\n \\n \\n\\n \\n \\n \\n"},{"page":16,"title":"","content":[""," "," "," ","",""," "," ",""," "," 3"," 3"," 3"," "," "],"imagePath":"./dictionary_images/5_1__1__p15.png","raw_text":"\\n \\n \\n \\n\\n\\n \\n \\n\\n \\n 3\\n 3\\n 3\\n \\n \\n"},{"page":17,"title":"","content":[""," Alisma plantago-aquatica subsp. orientale (Sam.)","Sam."," (Alisma)"," ","","()",""," :"," ()()"," "],"imagePath":"./dictionary_images/5_1__1__p16.png","raw_text":"\\n Alisma plantago-aquatica subsp. orientale (Sam.) \\nSam.\\n (Alisma)\\n \\n\\n()\\n\\n :\\n ()()\\n \\n"},{"page":18,"title":"","content":[""," "," triterpenoids"," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p17.png","raw_text":"\\n \\n triterpenoids\\n \\n \\n \\n \\n"},{"page":19,"title":"","content":[""," Sagittaria trifolia L."," (Sagittaria)"," ","()","",""," :"," "," vitamin Btrypsin inhibitor"],"imagePath":"./dictionary_images/5_1__1__p18.png","raw_text":"\\n Sagittaria trifolia L.\\n (Sagittaria)\\n \\n()\\n\\n\\n :\\n \\n vitamin Btrypsin inhibitor\\n"},{"page":20,"title":"","content":[""," "," "," -"," "," "," "],"imagePath":"./dictionary_images/5_1__1__p19.png","raw_text":"\\n \\n \\n -\\n \\n \\n \\n"},{"page":21,"title":"","content":["","Gramineae (Poaceae)","13-P.177"],"imagePath":"./dictionary_images/5_1__1__p20.png","raw_text":"\\nGramineae (Poaceae)\\n13-P.177\\n"},{"page":22,"title":"","content":[""," 62010000"," "," "," "," 3"," "," :"," ()"," ()"," "," "," "," "," ()"," "],"imagePath":"./dictionary_images/5_1__1__p21.png","raw_text":"\\n 62010000\\n \\n \\n \\n 3\\n \\n :\\n ()\\n ()\\n \\n \\n \\n \\n ()\\n \\n"},{"page":23,"title":"","content":[""," "," ",""," ","",""," 2()1"," 2()"," 2"," 3"," 23"," "],"imagePath":"./dictionary_images/5_1__1__p22.png","raw_text":"\\n \\n \\n\\n \\n\\n\\n 2()1\\n 2()\\n 2\\n 3\\n 23\\n \\n"},{"page":24,"title":"","content":[""," Coix lacryma-jobi var. ma-yuen (Rom.Caill.) Stapf"," (Coix)"," ()()()(",")()","()()"," -"," :"," "," "," "," ",""],"imagePath":"./dictionary_images/5_1__1__p23.png","raw_text":"\\n Coix lacryma-jobi var. ma-yuen (Rom.Caill.) Stapf\\n (Coix)\\n ()()()(\\n)()\\n()()\\n -\\n :\\n \\n \\n \\n \\n\\n"},{"page":25,"title":"","content":[""," "," lactonespolysaccharidelipidprotein"," "," "," "," ()"," "," WTTC"],"imagePath":"./dictionary_images/5_1__1__p24.png","raw_text":"\\n \\n lactonespolysaccharidelipidprotein\\n \\n \\n \\n ()\\n \\n WTTC\\n"},{"page":26,"title":"","content":[""," Hordeum vulgare L."," (Hordeum)"," "," :"," "," "," enzymealkaloidvitamine DE"],"imagePath":"./dictionary_images/5_1__1__p25.png","raw_text":"\\n Hordeum vulgare L.\\n (Hordeum)\\n \\n :\\n \\n \\n enzymealkaloidvitamine DE\\n"},{"page":27,"title":"","content":[""," "," -"," "," "," "," ()"," "," "],"imagePath":"./dictionary_images/5_1__1__p26.png","raw_text":"\\n \\n -\\n \\n \\n \\n ()\\n \\n \\n"},{"page":28,"title":"","content":[""," Imperata cylindrica (L.) Raeusch."," (Imperata)"," "," -"," :"," "," "," triterpenoidlactonessteroidorganic acid"],"imagePath":"./dictionary_images/5_1__1__p27.png","raw_text":"\\n Imperata cylindrica (L.) Raeusch.\\n (Imperata)\\n \\n -\\n :\\n \\n \\n triterpenoidlactonessteroidorganic acid\\n"},{"page":29,"title":"","content":[""," "," -",""," "," "," -"," "," "," :"," :"],"imagePath":"./dictionary_images/5_1__1__p28.png","raw_text":"\\n \\n -\\n\\n \\n \\n -\\n \\n \\n :\\n :\\n"},{"page":30,"title":"()","content":["()"," Zea mays L."," (Zea)"," ()()","()()"," :"," ",""," 16",""," "," -cryptoxanthinvit.CKsteroidlipid","alkaloidfatty acidsaponinorganic acid"],"imagePath":"./dictionary_images/5_1__1__p29.png","raw_text":"()\\n Zea mays L.\\n (Zea)\\n ()()\\n()()\\n :\\n \\n\\n 16\\n\\n \\n -cryptoxanthinvit.CKsteroidlipid\\nalkaloidfatty acidsaponinorganic acid\\n"},{"page":31,"title":"()","content":["()"," "," :"," "," -"," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_1__1__p30.png","raw_text":"()\\n \\n :\\n \\n -\\n -\\n -\\n -\\n -\\n"},{"page":32,"title":"","content":["","Cyperaceae","13-P.182"],"imagePath":"./dictionary_images/5_1__1__p31.png","raw_text":"\\nCyperaceae\\n13-P.182\\n"},{"page":33,"title":"","content":[""," 704000"," "," "," "," "," "," "," :"," :()()"," :"," :()"],"imagePath":"./dictionary_images/5_1__1__p32.png","raw_text":"\\n 704000\\n \\n \\n \\n \\n \\n \\n :\\n :()()\\n :\\n :()\\n"},{"page":34,"title":"","content":[""," :",""," :3"," :"," "," --"," ()",""," 3"," 3"," 1231"," :"],"imagePath":"./dictionary_images/5_1__1__p33.png","raw_text":"\\n :\\n\\n :3\\n :\\n \\n --\\n ()\\n\\n 3\\n 3\\n 1231\\n :\\n"},{"page":35,"title":"","content":[""," "," "," 32"," ","",""],"imagePath":"./dictionary_images/5_1__1__p34.png","raw_text":"\\n \\n \\n 32\\n \\n\\n\\n"},{"page":36,"title":"","content":[""," Cyperus rotundus L."," (Cyperus)"," ",""," :"," "," "," "," flavonoidvolatile oilstarchsugar"," volatile oil monoterpenesesquiterpene"],"imagePath":"./dictionary_images/5_1__1__p35.png","raw_text":"\\n Cyperus rotundus L. \\n (Cyperus)\\n \\n\\n :\\n \\n \\n \\n flavonoidvolatile oilstarchsugar\\n volatile oil monoterpenesesquiterpene\\n"},{"page":37,"title":"","content":[""," "," -"," "," "," "],"imagePath":"./dictionary_images/5_1__1__p36.png","raw_text":"\\n \\n -\\n \\n \\n \\n"},{"page":38,"title":"","content":[""," Eleocharis dulcis (Burm. f.) Trin. ex Hensch."," (Eleocharis)"," ","","",""," :"," "," "," ()"," "," flavonoidsquinonespuchiinstarches"],"imagePath":"./dictionary_images/5_1__1__p37.png","raw_text":"\\n Eleocharis dulcis (Burm. f.) Trin. ex Hensch.\\n (Eleocharis)\\n \\n\\n\\n\\n :\\n \\n \\n ()\\n \\n flavonoidsquinonespuchiinstarches\\n"},{"page":39,"title":"","content":[""," "," "," -"," -"," "],"imagePath":"./dictionary_images/5_1__1__p38.png","raw_text":"\\n \\n \\n -\\n -\\n \\n"},{"page":40,"title":"","content":[""," Kyllinga brevifolia Rottb."," (Kyllinga)"," , , , , "," :,"," "," :"," volatile oilflavonoid"],"imagePath":"./dictionary_images/5_1__1__p39.png","raw_text":"\\n Kyllinga brevifolia Rottb.\\n (Kyllinga)\\n , , , , \\n :,\\n \\n :\\n volatile oilflavonoid\\n"},{"page":41,"title":"","content":[""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p40.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":42,"title":"","content":["","Palmae(Arecaceae)","13-P.184"],"imagePath":"./dictionary_images/5_1__1__p41.png","raw_text":"\\nPalmae(Arecaceae)\\n13-P.184\\n"},{"page":43,"title":"","content":[""," 2022,800"," "," "," "," -"," "],"imagePath":"./dictionary_images/5_1__1__p42.png","raw_text":"\\n 2022,800\\n \\n \\n \\n -\\n \\n"},{"page":44,"title":"","content":[""," "," ",""," ",""," 3 "," 6 2"," 3 6 "," 3 3 ","1-3 "," "],"imagePath":"./dictionary_images/5_1__1__p43.png","raw_text":"\\n \\n \\n\\n \\n\\n 3 \\n 6 2\\n 3 6 \\n 3 3 \\n1-3 \\n \\n"},{"page":45,"title":"","content":[""," Areca catechu Linn."," (Areca)"," ()(",")",""," "," "," "," alkaloidtanninfatty acidamino acid"],"imagePath":"./dictionary_images/5_1__1__p44.png","raw_text":"\\n Areca catechu Linn.\\n (Areca)\\n ()(\\n)\\n\\n \\n \\n \\n alkaloidtanninfatty acidamino acid\\n"},{"page":46,"title":"","content":[""," "," -"," -"," ()"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p45.png","raw_text":"\\n \\n -\\n -\\n ()\\n \\n \\n \\n \\n \\n \\n"},{"page":47,"title":"","content":[""," Cocos nucifera L."," (Cocos)"," ","Dodo()","Anniyoo()"," ()",""," 20"," 1645 "," "," :"],"imagePath":"./dictionary_images/5_1__1__p46.png","raw_text":"\\n Cocos nucifera L.\\n (Cocos)\\n \\nDodo()\\nAnniyoo()\\n ()\\n\\n 20\\n 1645 \\n \\n :\\n"},{"page":48,"title":"","content":[""," "," -"," ",""," -",""," "," "," ()"," "," "," "],"imagePath":"./dictionary_images/5_1__1__p47.png","raw_text":"\\n \\n -\\n \\n\\n -\\n\\n \\n \\n ()\\n \\n \\n \\n"},{"page":49,"title":"","content":[""," Livistona chinensis (Jacq.) R.Br. ex Mart."," (Livistona)"," ()","",""," "," "," phenoltannintriglycerideamino acid"],"imagePath":"./dictionary_images/5_1__1__p48.png","raw_text":"\\n Livistona chinensis (Jacq.) R.Br. ex Mart.\\n (Livistona)\\n ()\\n\\n\\n \\n \\n phenoltannintriglycerideamino acid\\n"},{"page":50,"title":"","content":[""," "," "," "," -"," "," "," "," "," ()"],"imagePath":"./dictionary_images/5_1__1__p49.png","raw_text":"\\n \\n \\n \\n -\\n \\n \\n \\n \\n ()\\n"},{"page":51,"title":"","content":["","Araceae","13-P.186"],"imagePath":"./dictionary_images/5_1__1__p50.png","raw_text":"\\nAraceae\\n13-P.186\\n"},{"page":52,"title":"","content":[""," 1081103000"," ()"," 1428"," "," "," "," "," "," "," "," "," "," "," ()"],"imagePath":"./dictionary_images/5_1__1__p51.png","raw_text":"\\n 1081103000\\n ()\\n 1428\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n ()\\n"},{"page":53,"title":"","content":[""," "," "," ()"," "," "," "," "," ()"," "," "," "," "," ()"," "],"imagePath":"./dictionary_images/5_1__1__p52.png","raw_text":"\\n \\n \\n ()\\n \\n \\n \\n \\n ()\\n \\n \\n \\n \\n ()\\n \\n"},{"page":54,"title":"","content":[""," ",""," ()"," "," "," 4-6"," 2"," 2"," ()"," 1~3"," "," "," 1"," "," "," "],"imagePath":"./dictionary_images/5_1__1__p53.png","raw_text":"\\n \\n\\n ()\\n \\n \\n 4-6\\n 2\\n 2\\n ()\\n 1~3\\n \\n \\n 1\\n \\n \\n \\n"},{"page":55,"title":"","content":[""," Acorus gramineus Aiton"," (Acorus)"," 20~30 < 0.6 "," "," -"," "," "," :"," volatile oil-phenylpropanoid"," -asarone-asarone"," "," "," -",""],"imagePath":"./dictionary_images/5_1__1__p54.png","raw_text":"\\n Acorus gramineus Aiton\\n (Acorus)\\n 20~30 < 0.6 \\n \\n -\\n \\n \\n :\\n volatile oil-phenylpropanoid\\n -asarone-asarone\\n \\n \\n -\\n\\n"},{"page":56,"title":"","content":[""," Acorus calamus Linn."," (Acorus)"," 90~1501~3"," "," -"," "," :"," volatile oil-phenylpropanoidsesquiterpenoid"," cis-methylisoeugenolacoragermacroneisocalamendiol"," "," "," -()"],"imagePath":"./dictionary_images/5_1__1__p55.png","raw_text":"\\n Acorus calamus Linn.\\n (Acorus)\\n 90~1501~3\\n \\n -\\n \\n :\\n volatile oil-phenylpropanoidsesquiterpenoid\\n cis-methylisoeugenolacoragermacroneisocalamendiol\\n \\n \\n -()\\n"},{"page":57,"title":"","content":[""," Alocasia odora (G. Lodd.) Spach"," (Alocasia)"," :() ","Bagaiyau()Kaiguwai()"," :"," :"," alkaloidsaponincalcium oxalate"," "," "," "," :()"," "],"imagePath":"./dictionary_images/5_1__1__p56.png","raw_text":"\\n Alocasia odora (G. Lodd.) Spach\\n (Alocasia)\\n :() \\nBagaiyau()Kaiguwai()\\n :\\n :\\n alkaloidsaponincalcium oxalate\\n \\n \\n \\n :()\\n \\n"},{"page":58,"title":"","content":[""," Colocasia esculenta (L.) Schott"," (Colocasia)"," :"," :"," :(",")"," :()"," :"," starchvitamindietary fibermineral"],"imagePath":"./dictionary_images/5_1__1__p57.png","raw_text":"\\n Colocasia esculenta (L.) Schott\\n (Colocasia)\\n :\\n :\\n :(\\n)\\n :()\\n :\\n starchvitamindietary fibermineral\\n"},{"page":59,"title":"","content":[""," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p58.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":60,"title":"","content":[""," (Pinellia)"," Pinellia ternata (Thunb.) Makino"," :()"," :"," "," :"," starchessential oilsalkaloidsterols"," "," "," :()"," "],"imagePath":"./dictionary_images/5_1__1__p59.png","raw_text":"\\n (Pinellia)\\n Pinellia ternata (Thunb.) Makino\\n :()\\n :\\n \\n :\\n starchessential oilsalkaloidsterols\\n \\n \\n :()\\n \\n"},{"page":61,"title":"","content":["","Liliaceae","13-P.189"],"imagePath":"./dictionary_images/5_1__1__p60.png","raw_text":"\\nLiliaceae\\n13-P.189\\n"},{"page":62,"title":"","content":[""," 2303500"," "," "," (Lilium spp.) 96","",""," "," "," -"," "],"imagePath":"./dictionary_images/5_1__1__p61.png","raw_text":"\\n 2303500\\n \\n \\n (Lilium spp.) 96\\n\\n\\n \\n \\n -\\n \\n"},{"page":63,"title":"","content":[""," "," "," "," "," "," 3"," :"," 62"," 6"," 3"," "],"imagePath":"./dictionary_images/5_1__1__p62.png","raw_text":"\\n \\n \\n \\n \\n \\n 3\\n :\\n 62\\n 6\\n 3\\n \\n"},{"page":64,"title":"","content":[""," Allium cepa L."," (Allium)"," "," :"," :"," sulfur compoundsflavonoidorganic acidamino","acid"],"imagePath":"./dictionary_images/5_1__1__p63.png","raw_text":"\\n Allium cepa L.\\n (Allium)\\n \\n :\\n :\\n sulfur compoundsflavonoidorganic acidamino \\nacid\\n"},{"page":65,"title":"","content":[""," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p64.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":66,"title":"()","content":["()"," Allium chinense G.Don"," (Allium)"," ()(","())","","()"," :"," "," sulfur compoundflavonoid"],"imagePath":"./dictionary_images/5_1__1__p65.png","raw_text":"()\\n Allium chinense G.Don\\n (Allium)\\n ()(\\n())\\n\\n()\\n :\\n \\n sulfur compoundflavonoid\\n"},{"page":67,"title":"","content":[""," "," "," "," ()"," "],"imagePath":"./dictionary_images/5_1__1__p66.png","raw_text":"\\n \\n \\n \\n ()\\n \\n"},{"page":68,"title":"","content":[""," Allium fistulosum L."," (Allium)"," ",""," :"," "," :"," vitaminsulfur compound"],"imagePath":"./dictionary_images/5_1__1__p67.png","raw_text":"\\n Allium fistulosum L.\\n (Allium)\\n \\n\\n :\\n \\n :\\n vitaminsulfur compound\\n"},{"page":69,"title":"","content":[""," "," "," "," () "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p68.png","raw_text":"\\n \\n \\n \\n () \\n \\n \\n \\n \\n"},{"page":70,"title":"","content":[""," Aloe vera (L.) Burm.f."," (Aloe)"," ","()"," :"," :"," anthracenesanthraquinonesorganic acid","chromones"],"imagePath":"./dictionary_images/5_1__1__p69.png","raw_text":"\\n Aloe vera (L.) Burm.f. \\n (Aloe)\\n \\n()\\n :\\n :\\n anthracenesanthraquinonesorganic acid\\nchromones\\n"},{"page":71,"title":"","content":[""," "," "," "," "," "," 300",""],"imagePath":"./dictionary_images/5_1__1__p70.png","raw_text":"\\n \\n \\n \\n \\n \\n 300\\n\\n"},{"page":72,"title":"","content":[""," Asparagus cochinchinensis (Lour.) Merr."," (Asparagus)"," ()",""," :"," :"," steroid saponinamino acidpolysaccharide"],"imagePath":"./dictionary_images/5_1__1__p71.png","raw_text":"\\n Asparagus cochinchinensis (Lour.) Merr.\\n (Asparagus)\\n ()\\n\\n :\\n :\\n steroid saponinamino acidpolysaccharide\\n"},{"page":73,"title":"","content":[""," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p72.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n"},{"page":74,"title":"","content":[""," Hemerocallis fulva (L.) L."," "," "," -"," :"," 1661"," :"," vitamin Aanthraquinonealkaloidflavonoid"," "," "," :"," "],"imagePath":"./dictionary_images/5_1__1__p73.png","raw_text":"\\n Hemerocallis fulva (L.) L.\\n \\n \\n -\\n :\\n 1661\\n :\\n vitamin Aanthraquinonealkaloidflavonoid\\n \\n \\n :\\n \\n"},{"page":75,"title":" Liriope spicata Lour.","content":[" Liriope spicata Lour."," Liriope muscari (Decne.) L.H. Bailey"," (Liriope)"," "," :"," :"," saponinflavonoidmucilage",""],"imagePath":"./dictionary_images/5_1__1__p74.png","raw_text":" Liriope spicata Lour.\\n Liriope muscari (Decne.) L.H. Bailey\\n (Liriope)\\n \\n :\\n :\\n saponinflavonoidmucilage\\n\\n"},{"page":76,"title":"","content":[""," "," "," "," "," :"," "],"imagePath":"./dictionary_images/5_1__1__p75.png","raw_text":"\\n \\n \\n \\n \\n :\\n \\n"},{"page":77,"title":"","content":[""," "," Tricyrtis formosana Baker"," "," -"," :"," :"," phenylpropanoidssteroidscoumarinslignans","alkaloids"," "," :"," "," "," "],"imagePath":"./dictionary_images/5_1__1__p76.png","raw_text":"\\n \\n Tricyrtis formosana Baker\\n \\n -\\n :\\n :\\n phenylpropanoidssteroidscoumarinslignans\\nalkaloids\\n \\n :\\n \\n \\n \\n"},{"page":78,"title":"","content":["","Stemonaceae","13-P.197"],"imagePath":"./dictionary_images/5_1__1__p77.png","raw_text":"\\nStemonaceae\\n13-P.197\\n"},{"page":79,"title":"","content":[""," 425-35"," ",""," "],"imagePath":"./dictionary_images/5_1__1__p78.png","raw_text":"\\n 425-35\\n \\n\\n \\n"},{"page":80,"title":"","content":[""," "," "," "," ",""," 4"," 44",""," 12"," 2"],"imagePath":"./dictionary_images/5_1__1__p79.png","raw_text":"\\n \\n \\n \\n \\n\\n 4\\n 44\\n\\n 12\\n 2\\n"},{"page":81,"title":"","content":[""," "," Stemona tuberosa Lour."," ","",""," :"," "," :"," alkaloid"],"imagePath":"./dictionary_images/5_1__1__p80.png","raw_text":"\\n \\n Stemona tuberosa Lour.\\n \\n\\n\\n :\\n \\n :\\n alkaloid\\n"},{"page":82,"title":"","content":[""," "," "," "," "," "," "," :S. japonica (Blume) Miq."," "," :S. sessilifolia (Miq.) Miq."," "," alkaloidsessilistemonamines A, B"],"imagePath":"./dictionary_images/5_1__1__p81.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n :S. japonica (Blume) Miq.\\n \\n :S. sessilifolia (Miq.) Miq.\\n \\n alkaloidsessilistemonamines A, B\\n"},{"page":83,"title":"","content":["","Dioscoreaceae","13-P.200"],"imagePath":"./dictionary_images/5_1__1__p82.png","raw_text":"\\nDioscoreaceae\\n13-P.200\\n"},{"page":84,"title":"","content":[""," 9750"," "," "," "," "," -"," -"," -progesterone17-Methyltestosterone"," -budesonide"," "],"imagePath":"./dictionary_images/5_1__1__p83.png","raw_text":"\\n 9750\\n \\n \\n \\n \\n -\\n -\\n -progesterone17-Methyltestosterone\\n -budesonide\\n \\n"},{"page":85,"title":"","content":[""," "," ","()"," "," "," 3-13"," ",""," ()626","3"," 32","3"," "," "],"imagePath":"./dictionary_images/5_1__1__p84.png","raw_text":"\\n \\n \\n()\\n \\n \\n 3-13\\n \\n\\n ()626\\n3\\n 32\\n3\\n \\n \\n"},{"page":86,"title":"","content":[""," Dioscorea bulbifera L."," (Dioscorea)"," ()()",""," :"," "," :"," diterpenealkaloidfuranoid"," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p85.png","raw_text":"\\n Dioscorea bulbifera L.\\n (Dioscorea)\\n ()()\\n\\n :\\n \\n :\\n diterpenealkaloidfuranoid\\n \\n \\n \\n \\n"},{"page":87,"title":"","content":[""," Dioscorea japonica Thunb."," (Dioscorea)"," ","()"," :"," :"," triterpenoid saponincholinepolysaccharide"," "," "," "," -"],"imagePath":"./dictionary_images/5_1__1__p86.png","raw_text":"\\n Dioscorea japonica Thunb.\\n (Dioscorea)\\n \\n()\\n :\\n :\\n triterpenoid saponincholinepolysaccharide\\n \\n \\n \\n -\\n"},{"page":88,"title":"","content":[""," Dioscorea polystachya Turcz."," (Dioscorea)"," ","",""," :"," steroidpolysaccharide"," "," "," -"," "],"imagePath":"./dictionary_images/5_1__1__p87.png","raw_text":"\\n Dioscorea polystachya Turcz.\\n (Dioscorea)\\n \\n\\n\\n :\\n steroidpolysaccharide\\n \\n \\n -\\n \\n"},{"page":89,"title":"","content":["","Iridaceae","13-P.202"],"imagePath":"./dictionary_images/5_1__1__p88.png","raw_text":"\\nIridaceae\\n13-P.202\\n"},{"page":90,"title":"","content":[""," 1"," 710902000"," "," "," 1000"," ",""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__1__p89.png","raw_text":"\\n 1\\n 710902000\\n \\n \\n 1000\\n \\n\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":91,"title":"","content":[""," "," "," ",""," ",""," "," 6"," 3"," 363"," "],"imagePath":"./dictionary_images/5_1__1__p90.png","raw_text":"\\n \\n \\n \\n\\n \\n\\n \\n 6\\n 3\\n 363\\n \\n"},{"page":92,"title":"","content":[""," Crocus sativus L."," (Crocus)"," ()"," :"," :"," carotenoidssteroidstriterpenoid fatty acid","monoterpene glycosidesessential oils"],"imagePath":"./dictionary_images/5_1__1__p91.png","raw_text":"\\n Crocus sativus L.\\n (Crocus)\\n ()\\n :\\n :\\n carotenoidssteroidstriterpenoid fatty acid\\nmonoterpene glycosidesessential oils\\n"},{"page":93,"title":"","content":[""," "," "," :"," :"," :"," "],"imagePath":"./dictionary_images/5_1__1__p92.png","raw_text":"\\n \\n \\n :\\n :\\n :\\n \\n"},{"page":94,"title":"","content":[""," Iris domestica (L.) Goldblatt & Mabb."," (Belamcanda)"," :"," ","",""," :"," isoflavonoid"],"imagePath":"./dictionary_images/5_1__1__p93.png","raw_text":"\\n Iris domestica (L.) Goldblatt & Mabb.\\n (Belamcanda)\\n :\\n \\n\\n\\n :\\n isoflavonoid\\n"},{"page":95,"title":"","content":[""," "," "," :"," "," "],"imagePath":"./dictionary_images/5_1__1__p94.png","raw_text":"\\n \\n \\n :\\n \\n \\n"}]},{"source":"5-1--2-","pages":[{"page":1,"title":"","content":["","13-P.175-215"],"imagePath":"./dictionary_images/5_1__2__p0.png","raw_text":"\\n13-P.175-215\\n"},{"page":2,"title":"","content":["","Commelinaceae","13-P.204"],"imagePath":"./dictionary_images/5_1__2__p1.png","raw_text":"\\nCommelinaceae\\n13-P.204\\n"},{"page":3,"title":"","content":[""," "," 40652"," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p2.png","raw_text":"\\n \\n 40652\\n \\n \\n \\n \\n \\n"},{"page":4,"title":"","content":[""," "," "," "," ",""," 3 "," 3 "," 6 3 2",""," 3 2 3 ",""," "],"imagePath":"./dictionary_images/5_1__2__p3.png","raw_text":"\\n \\n \\n \\n \\n\\n 3 \\n 3 \\n 6 3 2 \\n\\n 3 2 3 \\n\\n \\n"},{"page":5,"title":"","content":[""," Tradescantia spathacea Sw."," (Rhoeo)"," ","",""," :",""," 1909 "," :"," phenolic acid"],"imagePath":"./dictionary_images/5_1__2__p4.png","raw_text":"\\n Tradescantia spathacea Sw.\\n (Rhoeo)\\n \\n\\n\\n :\\n\\n 1909 \\n :\\n phenolic acid\\n"},{"page":6,"title":"","content":[""," "," "," :"," "," "],"imagePath":"./dictionary_images/5_1__2__p5.png","raw_text":"\\n \\n \\n :\\n \\n \\n"},{"page":7,"title":"","content":[""," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p6.png","raw_text":"\\n \\n \\n \\n \\n"},{"page":8,"title":"","content":["","Zingiberaceae","13-P.206"],"imagePath":"./dictionary_images/5_1__2__p7.png","raw_text":"\\nZingiberaceae\\n13-P.206\\n"},{"page":9,"title":"","content":[""," 23491,500"," 6 26"," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p8.png","raw_text":"\\n 23491,500\\n 6 26\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":10,"title":"","content":[""," "," "," "," ","",""," 3 "," 1 ",""," 3 1 3 ",""," "],"imagePath":"./dictionary_images/5_1__2__p9.png","raw_text":"\\n \\n \\n \\n \\n\\n\\n 3 \\n 1 \\n\\n 3 1 3 \\n\\n \\n"},{"page":11,"title":"","content":[""," Alpinia galanga (L.) Willd."," (Alpinia)"," ",""," :"," :"," essential oilsphenol"],"imagePath":"./dictionary_images/5_1__2__p10.png","raw_text":"\\n Alpinia galanga (L.) Willd.\\n (Alpinia)\\n \\n\\n :\\n :\\n essential oilsphenol\\n"},{"page":12,"title":"","content":[""," "," "," "," "," :"," "],"imagePath":"./dictionary_images/5_1__2__p11.png","raw_text":"\\n \\n \\n \\n \\n :\\n \\n"},{"page":13,"title":"","content":[""," Alpinia zerumbet (Persoon) B. L. Burtt & R. M. Sm."," (Alpinia)"," ()","Bassiyan()Garto()"," :"," :"," volatile oilflavonoidorganic acidchalcone","kawain"],"imagePath":"./dictionary_images/5_1__2__p12.png","raw_text":"\\n Alpinia zerumbet (Persoon) B. L. Burtt & R. M. Sm.\\n (Alpinia)\\n ()\\nBassiyan()Garto()\\n :\\n :\\n volatile oilflavonoidorganic acidchalcone\\nkawain\\n"},{"page":14,"title":"","content":[""," "," "," "," "," -",""," -"," "," ()"],"imagePath":"./dictionary_images/5_1__2__p13.png","raw_text":"\\n \\n \\n \\n \\n -\\n\\n -\\n \\n ()\\n"},{"page":15,"title":"","content":[""," Curcuma longa L."," (Curcuma)"," ","()"," :"," "," :"," curcuminoidsesquiterpenoidpolysaccharide","volatile oilsteroid"],"imagePath":"./dictionary_images/5_1__2__p14.png","raw_text":"\\n Curcuma longa L.\\n (Curcuma)\\n \\n()\\n :\\n \\n :\\n curcuminoidsesquiterpenoidpolysaccharide\\nvolatile oilsteroid\\n"},{"page":16,"title":"","content":[""," "," "," -"," "," "],"imagePath":"./dictionary_images/5_1__2__p15.png","raw_text":"\\n \\n \\n -\\n \\n \\n"},{"page":17,"title":"","content":[""," Hedychium coronarium J.Koenig"," (Hedychium)"," ","Bazigga'tto()"," :"," "," :"," monoterpenoidsditerpenoids"],"imagePath":"./dictionary_images/5_1__2__p16.png","raw_text":"\\n Hedychium coronarium J.Koenig\\n (Hedychium)\\n \\nBazigga'tto()\\n :\\n \\n :\\n monoterpenoidsditerpenoids\\n"},{"page":18,"title":"","content":[""," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p17.png","raw_text":"\\n \\n \\n \\n \\n \\n"},{"page":19,"title":"","content":[""," Zingiber officinale Roscoe"," (Zingiber)"," ()","","Kooreppu()Damudamu()"," :"," ",""," ",""],"imagePath":"./dictionary_images/5_1__2__p18.png","raw_text":"\\n Zingiber officinale Roscoe\\n (Zingiber)\\n ()\\n\\nKooreppu()Damudamu()\\n :\\n \\n\\n \\n\\n"},{"page":20,"title":"","content":[""," "," volatile oil"," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p19.png","raw_text":"\\n \\n volatile oil\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":21,"title":"","content":["","Cannaceae","13-P.210"],"imagePath":"./dictionary_images/5_1__2__p20.png","raw_text":"\\nCannaceae\\n13-P.210\\n"},{"page":22,"title":"","content":[""," "," (Canna)55",""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p21.png","raw_text":"\\n \\n (Canna)55\\n\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":23,"title":"","content":[""," "," 3"," ",""," 3"," 3"," 3"," 451"," 3 13"," "],"imagePath":"./dictionary_images/5_1__2__p22.png","raw_text":"\\n \\n 3\\n \\n\\n 3\\n 3\\n 3\\n 451\\n 3 13\\n \\n"},{"page":24,"title":"","content":[""," Canna indica L.( syn. C. dulis Ker Gawl.)"," (Canna)"," ",""," :"," 1661 "," :"," -lectins"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p23.png","raw_text":"\\n Canna indica L.( syn. C. dulis Ker Gawl.)\\n (Canna)\\n \\n\\n :\\n 1661 \\n :\\n -lectins\\n \\n \\n \\n \\n \\n \\n"},{"page":25,"title":"","content":["","Orchidaceae","12-P.211"],"imagePath":"./dictionary_images/5_1__2__p24.png","raw_text":"\\nOrchidaceae\\n12-P.211\\n"},{"page":26,"title":"","content":[""," 73628,000"," 100,000"," "," "," "," ","",""," "," ",""," ","(CITES)"],"imagePath":"./dictionary_images/5_1__2__p25.png","raw_text":"\\n 73628,000\\n 100,000\\n \\n \\n \\n \\n\\n\\n \\n \\n\\n \\n(CITES)\\n"},{"page":27,"title":"","content":[""," "," "," "," "," "],"imagePath":"./dictionary_images/5_1__2__p26.png","raw_text":"\\n \\n \\n \\n \\n \\n"},{"page":28,"title":"","content":[""," "," "," ()"," ",""," "," ()"," ","",""],"imagePath":"./dictionary_images/5_1__2__p27.png","raw_text":"\\n \\n \\n ()\\n \\n\\n \\n ()\\n \\n\\n\\n"},{"page":29,"title":"","content":[""," ",""," "," 3"," 33 ","()"," 12 ","",""," 1 3",""," 3 6 "],"imagePath":"./dictionary_images/5_1__2__p28.png","raw_text":"\\n \\n\\n \\n 3\\n 33 \\n()\\n 12 \\n\\n\\n 1 3\\n\\n 3 6 \\n"},{"page":30,"title":"","content":[""," Anoectochilus formosanus Hayata"," (Anoectochilus)"," ",""," :"," 1,500"," :"," pheophytin alinoleic acidtrans--carotene"],"imagePath":"./dictionary_images/5_1__2__p29.png","raw_text":"\\n Anoectochilus formosanus Hayata\\n (Anoectochilus)\\n \\n\\n :\\n 1,500\\n :\\n pheophytin alinoleic acidtrans--carotene\\n"},{"page":31,"title":"","content":[""," "," "," "," A. koshunensis Hayata"," "],"imagePath":"./dictionary_images/5_1__2__p30.png","raw_text":"\\n \\n \\n \\n A. koshunensis Hayata\\n \\n"},{"page":32,"title":"","content":[""," Dendrobium officinale Kimura et Migo"," (Dendrobium)"," "," "," "," :"," ",""," :"," alkaloidpolysaccharidephenolsessential oils"],"imagePath":"./dictionary_images/5_1__2__p31.png","raw_text":"\\n Dendrobium officinale Kimura et Migo\\n (Dendrobium)\\n \\n \\n \\n :\\n \\n\\n :\\n alkaloidpolysaccharidephenolsessential oils\\n"},{"page":33,"title":"","content":[""," "," "," :"," "," "," Dendrobium nobile Lindl."," ",""," :"," alkaloid polysaccharide"," :-"],"imagePath":"./dictionary_images/5_1__2__p32.png","raw_text":"\\n \\n \\n :\\n \\n \\n Dendrobium nobile Lindl. \\n \\n\\n :\\n alkaloid polysaccharide\\n :-\\n"},{"page":34,"title":"","content":[""," Gastrodia elata Blume"," (Gastrodia)"," ",""," :"," "," "," :"," glycoside organic acidvanillin"],"imagePath":"./dictionary_images/5_1__2__p33.png","raw_text":"\\n Gastrodia elata Blume\\n (Gastrodia)\\n \\n\\n :\\n \\n \\n :\\n glycoside organic acidvanillin\\n"},{"page":35,"title":"","content":[""," "," :"," "," (<40g)"],"imagePath":"./dictionary_images/5_1__2__p34.png","raw_text":"\\n \\n :\\n \\n (<40g)\\n"},{"page":36,"title":"","content":[""," Spiranthes sinensis (Per.) Ames"," (Spiranthes)"," ",""," :",""," :"," dihydrophenanthrenecoumarinsteroid","benzaldehyde"],"imagePath":"./dictionary_images/5_1__2__p35.png","raw_text":"\\n Spiranthes sinensis (Per.) Ames\\n (Spiranthes)\\n \\n\\n :\\n\\n :\\n dihydrophenanthrenecoumarinsteroid\\nbenzaldehyde\\n"},{"page":37,"title":"","content":[""," "," "," "," :"," "," "],"imagePath":"./dictionary_images/5_1__2__p36.png","raw_text":"\\n \\n \\n \\n :\\n \\n \\n"}]},{"source":"5-2--1--1-","pages":[{"page":1,"title":"-","content":["-","13"],"imagePath":"./dictionary_images/5_2__1__1__p0.png","raw_text":"-\\n13\\n"},{"page":2,"title":"","content":[""," ()"," ",""," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p1.png","raw_text":"\\n ()\\n \\n\\n \\n \\n \\n"},{"page":3,"title":"","content":["","Ranunculaceae","13-P.34"],"imagePath":"./dictionary_images/5_2__1__1__p2.png","raw_text":"\\nRanunculaceae\\n13-P.34\\n"},{"page":4,"title":"","content":[""," 502000"," "," "," :"," (1979) "," (Paeonioideae)"," (Helleboroideae)"," (Thalictroideae)"," (Ranunculoideae)"," 1995"," (Helleboroideae)"," (Ranunculoideae)"," (Isopyroideae)"," (Hydrastidoideae)"],"imagePath":"./dictionary_images/5_2__1__1__p3.png","raw_text":"\\n 502000\\n \\n \\n :\\n (1979) \\n (Paeonioideae)\\n (Helleboroideae)\\n (Thalictroideae)\\n (Ranunculoideae)\\n 1995\\n (Helleboroideae)\\n (Ranunculoideae)\\n (Isopyroideae)\\n (Hydrastidoideae)\\n"},{"page":5,"title":"","content":[""," "," :"," "," :"," "],"imagePath":"./dictionary_images/5_2__1__1__p4.png","raw_text":"\\n \\n :\\n \\n :\\n \\n"},{"page":6,"title":"","content":[""," "," "," "," "," "," -"," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p5.png","raw_text":"\\n \\n \\n \\n \\n \\n -\\n \\n \\n \\n \\n"},{"page":7,"title":"","content":[""," (Paeonia)"," Paeonia suffruticosa Andrews"," "," ()()","()()","()()"," :"," -"," "],"imagePath":"./dictionary_images/5_2__1__1__p6.png","raw_text":"\\n (Paeonia)\\n Paeonia suffruticosa Andrews \\n \\n ()()\\n()()\\n()()\\n :\\n -\\n \\n"},{"page":8,"title":"","content":[""," :"," monoterpenoid glycosideacetophenoneflavonoid","glycoside"," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p7.png","raw_text":"\\n :\\n monoterpenoid glycosideacetophenoneflavonoid \\nglycoside\\n \\n \\n \\n \\n"},{"page":9,"title":"","content":[""," (Paeonia)"," Paeonia lactiflora Pall."," ",""," :"," :"," monoterpenoid glycosidesteroidtanninphenol","organic acid"," "," "," "," - "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p8.png","raw_text":"\\n (Paeonia)\\n Paeonia lactiflora Pall.\\n \\n\\n :\\n :\\n monoterpenoid glycosidesteroidtanninphenol\\norganic acid\\n \\n \\n \\n - \\n \\n \\n"},{"page":10,"title":"","content":[""," (Coptis)"," Coptis chinensis Franch."," ()()(",")"," :"," :"," alkaloid"," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p9.png","raw_text":"\\n (Coptis)\\n Coptis chinensis Franch.\\n ()()(\\n)\\n :\\n :\\n alkaloid\\n \\n \\n \\n"},{"page":11,"title":"","content":["","Menispermaceae","13-P.36"],"imagePath":"./dictionary_images/5_2__1__1__p10.png","raw_text":"\\nMenispermaceae\\n13-P.36\\n"},{"page":12,"title":"","content":[""," 71450"," "," "," "," -"," :"," "],"imagePath":"./dictionary_images/5_2__1__1__p11.png","raw_text":"\\n 71450\\n \\n \\n \\n -\\n :\\n \\n"},{"page":13,"title":"","content":[""," "," "," ",""," 3"," 62"," 62"," 3-12",""," 13",""," "],"imagePath":"./dictionary_images/5_2__1__1__p12.png","raw_text":"\\n \\n \\n \\n\\n 3\\n 62\\n 62\\n 3-12\\n\\n 13\\n\\n \\n"},{"page":14,"title":"","content":[""," "," Cocculus orbiculatus (L.) DC."," ","",""," :"," :"," alkaloid"," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p13.png","raw_text":"\\n \\n Cocculus orbiculatus (L.) DC.\\n \\n\\n\\n :\\n :\\n alkaloid\\n \\n \\n \\n \\n"},{"page":15,"title":"","content":[""," (Stephania)"," Stephania cephalantha Hayata"," ","()","()"," :"," :alkaloid"," "," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p14.png","raw_text":"\\n (Stephania)\\n Stephania cephalantha Hayata\\n \\n()\\n()\\n :\\n :alkaloid\\n \\n \\n -\\n \\n \\n \\n"},{"page":16,"title":"","content":[""," (Stephania)"," Stephania japonica (Thunb.) Miers"," ","","Sigaru()"," :"," :alkaloid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p15.png","raw_text":"\\n (Stephania)\\n Stephania japonica (Thunb.) Miers\\n \\n\\nSigaru()\\n :\\n :alkaloid\\n \\n \\n \\n \\n \\n"},{"page":17,"title":"","content":["","Berberidaceae"],"imagePath":"./dictionary_images/5_2__1__1__p16.png","raw_text":"\\nBerberidaceae\\n"},{"page":18,"title":"","content":[""," 15~19570"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p17.png","raw_text":"\\n 15~19570\\n \\n \\n \\n \\n \\n \\n"},{"page":19,"title":"","content":[""," "," "," "," ",""," 6-92-3"," 6"," 2"," 1",""," "],"imagePath":"./dictionary_images/5_2__1__1__p18.png","raw_text":"\\n \\n \\n \\n \\n\\n 6-92-3\\n 6\\n 2\\n 1\\n\\n \\n"},{"page":20,"title":"","content":[""," (Dysosma)"," Dysosma pleiantha (Hance) Woodson"," ",""," :"," :"," lignanflavonoid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p19.png","raw_text":"\\n (Dysosma)\\n Dysosma pleiantha (Hance) Woodson\\n \\n\\n :\\n :\\n lignanflavonoid\\n \\n \\n \\n \\n \\n"},{"page":21,"title":"","content":[""," (Epimedium)"," Epimedium brevicornu Maxim."," ","",""," :"," :"," flavonoid"," ",""," "," "],"imagePath":"./dictionary_images/5_2__1__1__p20.png","raw_text":"\\n (Epimedium)\\n Epimedium brevicornu Maxim.\\n \\n\\n\\n :\\n :\\n flavonoid\\n \\n\\n \\n \\n"},{"page":22,"title":"","content":["","Aristolochiaceae","13-P.41"],"imagePath":"./dictionary_images/5_2__1__1__p21.png","raw_text":"\\nAristolochiaceae\\n13-P.41\\n"},{"page":23,"title":"","content":[""," 2412600"," "," "," "," "," "," "," ","",""," "],"imagePath":"./dictionary_images/5_2__1__1__p22.png","raw_text":"\\n 2412600\\n \\n \\n \\n \\n \\n \\n \\n\\n\\n \\n"},{"page":24,"title":"","content":[""," ",""," ",""," ",""," "," ","3 "," 6 1-2 ","2 "," 4-6 3-8 4-6 "," ()()"],"imagePath":"./dictionary_images/5_2__1__1__p23.png","raw_text":"\\n \\n\\n \\n\\n \\n\\n \\n \\n3 \\n 6 1-2 \\n2 \\n 4-6 3-8 4-6 \\n ()()\\n"},{"page":25,"title":"","content":[""," (Aristolochia)"," Aristolochia cucurbitifolia Hayata"," "," :()"," "," :"," aristolochic acidalkaloid"," aristolochic acid"," -"," "," -",""," -",""," ",""],"imagePath":"./dictionary_images/5_2__1__1__p24.png","raw_text":"\\n (Aristolochia)\\n Aristolochia cucurbitifolia Hayata\\n \\n :()\\n \\n :\\n aristolochic acidalkaloid\\n aristolochic acid\\n -\\n \\n -\\n\\n -\\n\\n \\n\\n"},{"page":26,"title":"","content":["","Magnoliaceae"],"imagePath":"./dictionary_images/5_2__1__1__p25.png","raw_text":"\\nMagnoliaceae\\n"},{"page":27,"title":"","content":[""," "," 17219"," 2 2 "," "," "," "," --"," "],"imagePath":"./dictionary_images/5_2__1__1__p26.png","raw_text":"\\n \\n 17219\\n 2 2 \\n \\n \\n \\n --\\n \\n"},{"page":28,"title":"","content":[""," "," "," "," 63 ",""," "," 1","2 "," ",""," ","","",""],"imagePath":"./dictionary_images/5_2__1__1__p27.png","raw_text":"\\n \\n \\n \\n 63 \\n\\n \\n 1\\n2 \\n \\n\\n \\n\\n\\n\\n"},{"page":29,"title":"","content":[""," (Michelia)"," Magnolis alba (D.C) Figlar (Michelia alba D.C)"," :()",""," :"," :essential oilalkaloid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p28.png","raw_text":"\\n (Michelia)\\n Magnolis alba (D.C) Figlar (Michelia alba D.C)\\n :()\\n\\n :\\n :essential oilalkaloid\\n \\n \\n \\n \\n \\n"},{"page":30,"title":"","content":["","Lauraceae"],"imagePath":"./dictionary_images/5_2__1__1__p29.png","raw_text":"\\nLauraceae\\n"},{"page":31,"title":"","content":[""," 502500"," "," "," "," "," "," "," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_2__1__1__p30.png","raw_text":"\\n 502500\\n \\n \\n \\n \\n \\n \\n -\\n -\\n -\\n -\\n"},{"page":32,"title":"","content":[""," "," ","3 ()"," ()",""," 6 "," 3~12 4 3 ","2 4 3 ",""," 1 2 3 1 ",""," "],"imagePath":"./dictionary_images/5_2__1__1__p31.png","raw_text":"\\n \\n \\n3 ()\\n ()\\n\\n 6 \\n 3~12 4 3 \\n2 4 3 \\n\\n 1 2 3 1 \\n\\n \\n"},{"page":33,"title":"","content":[""," (Camphora)"," Cinnamomum camphora (L.) J. Presl"," () ","","Sakkusi()Rakumusu()"," "," :monoterpenesesquiterpenephenylpropanane"," "," -"," -"," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p32.png","raw_text":"\\n (Camphora)\\n Cinnamomum camphora (L.) J. Presl\\n () \\n\\nSakkusi()Rakumusu()\\n \\n :monoterpenesesquiterpenephenylpropanane\\n \\n -\\n -\\n \\n \\n \\n"},{"page":34,"title":"","content":[""," (Camphora)(Cinnamomum)"," Cinnamomum cassia (L.) J.Presl"," ()()",""," "," ()-"," :"," phenylpropanane"," "," "," ()"," "],"imagePath":"./dictionary_images/5_2__1__1__p33.png","raw_text":"\\n (Camphora)(Cinnamomum)\\n Cinnamomum cassia (L.) J.Presl\\n ()()\\n\\n \\n ()-\\n : \\n phenylpropanane\\n \\n \\n ()\\n \\n"},{"page":35,"title":"","content":[""," (Camphora)"," Cinnamomum kanehirae (Hayata) Hayata"," ()"," "," "," : monoterpene"," "," "," "," ",""],"imagePath":"./dictionary_images/5_2__1__1__p34.png","raw_text":"\\n (Camphora)\\n Cinnamomum kanehirae (Hayata) Hayata\\n ()\\n \\n \\n : monoterpene\\n \\n \\n \\n \\n\\n"},{"page":36,"title":"","content":[""," (Persea)"," Persea americana Miller"," "," "," 1918 "," :"," -terpenesteroid"," -steroidcoumarin"," -terpenesteroidflavonoid"," - flavonoid"," -steroidcoumarinterpene"," "],"imagePath":"./dictionary_images/5_2__1__1__p35.png","raw_text":"\\n (Persea)\\n Persea americana Miller\\n \\n \\n 1918 \\n :\\n -terpenesteroid\\n -steroidcoumarin\\n -terpenesteroidflavonoid\\n - flavonoid\\n -steroidcoumarinterpene\\n \\n"},{"page":37,"title":"","content":[""," ",""," ",""," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p36.png","raw_text":"\\n \\n\\n \\n\\n \\n \\n \\n \\n \\n \\n"},{"page":38,"title":"","content":["","Cruciferae(Brassicaceae)","13-P.58"],"imagePath":"./dictionary_images/5_2__1__1__p37.png","raw_text":"\\nCruciferae(Brassicaceae)\\n13-P.58\\n"},{"page":39,"title":"","content":[""," 3383700"," "," "," "," /"," (glucosinolates)","(myrosinase)(Isothiocyanate ITCS) ",""," "," :"," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p38.png","raw_text":"\\n 3383700\\n \\n \\n \\n /\\n (glucosinolates)\\n(myrosinase)(Isothiocyanate ITCS) \\n\\n \\n :\\n \\n \\n \\n"},{"page":40,"title":"","content":[""," "," ",""," ",""," 4"," "," 4"," 642 "," 22 2",""," 2 "," "],"imagePath":"./dictionary_images/5_2__1__1__p39.png","raw_text":"\\n \\n \\n\\n \\n\\n 4\\n \\n 4\\n 642 \\n 22 2 \\n\\n 2 \\n \\n"},{"page":41,"title":"","content":[""," "," Brassica juncea (L.) Czern."," ()()"," "," : thioglucoside()flavonoid","triterpenealkaloidorganic acidenzyme"," "," "," "," "," "," :"],"imagePath":"./dictionary_images/5_2__1__1__p40.png","raw_text":"\\n \\n Brassica juncea (L.) Czern.\\n ()()\\n \\n : thioglucoside()flavonoid\\ntriterpenealkaloidorganic acidenzyme\\n \\n \\n \\n \\n \\n :\\n"},{"page":42,"title":"","content":[""," "," Eutrema japonica (Miq.) Koidz."," "," :()"," 1914"," : thioglucoside()"," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p41.png","raw_text":"\\n \\n Eutrema japonica (Miq.) Koidz.\\n \\n :()\\n 1914\\n : thioglucoside()\\n \\n \\n \\n"},{"page":43,"title":"","content":["","Hammelidaceae"],"imagePath":"./dictionary_images/5_2__1__1__p42.png","raw_text":"\\nHammelidaceae\\n"},{"page":44,"title":"","content":[""," 27130"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p43.png","raw_text":"\\n 27130\\n \\n \\n \\n \\n \\n \\n"},{"page":45,"title":"","content":[""," "," "," ","1~2 "," "," 4~5 "," 4~5 "," 2~14 2"," 22",""," "],"imagePath":"./dictionary_images/5_2__1__1__p44.png","raw_text":"\\n \\n \\n \\n1~2 \\n \\n 4~5 \\n 4~5 \\n 2~14 2\\n 22\\n\\n \\n"},{"page":46,"title":"","content":[""," (Liquidambar)"," Liquidambar formosana Hance"," ","","()",""," "," "," essential oiltriterpenoidflavonoidiridoid","glycosideresintannin"," "],"imagePath":"./dictionary_images/5_2__1__1__p45.png","raw_text":"\\n (Liquidambar)\\n Liquidambar formosana Hance\\n \\n\\n()\\n\\n \\n \\n essential oiltriterpenoidflavonoidiridoid \\nglycosideresintannin\\n \\n"},{"page":47,"title":"","content":[""," "," "," "," ",""," "," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_2__1__1__p46.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n -\\n -\\n -\\n -\\n"},{"page":48,"title":"","content":["","Rosaceae","13-P.64"],"imagePath":"./dictionary_images/5_2__1__1__p47.png","raw_text":"\\nRosaceae\\n13-P.64\\n"},{"page":49,"title":"","content":[""," 4151243300"," ",""," "," "," "," :"," :"," :"," :"," :"],"imagePath":"./dictionary_images/5_2__1__1__p48.png","raw_text":"\\n 4151243300\\n \\n\\n \\n \\n \\n :\\n :\\n :\\n :\\n :\\n"},{"page":50,"title":"","content":[""," "," "," "," "," "," "," ",""," ","1"," 55"," 3"," 11","1",""],"imagePath":"./dictionary_images/5_2__1__1__p49.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n\\n \\n1\\n 55\\n 3\\n 11\\n1\\n\\n"},{"page":51,"title":"","content":[""," "," ",""," "," ",""," ",""," ",""," "],"imagePath":"./dictionary_images/5_2__1__1__p50.png","raw_text":"\\n \\n \\n\\n \\n \\n\\n \\n\\n \\n\\n \\n"},{"page":52,"title":"","content":[""," (Duchsnea)"," Duchesnea indica (Jacks.) Focke"," ()","",""," ",""," flavonoidtannintriterpenoid"," "," "," :"," "," "],"imagePath":"./dictionary_images/5_2__1__1__p51.png","raw_text":"\\n (Duchsnea)\\n Duchesnea indica (Jacks.) Focke\\n ()\\n\\n\\n \\n\\n flavonoidtannintriterpenoid\\n \\n \\n :\\n \\n \\n"},{"page":53,"title":"","content":[""," (Eriobotrya)"," Eriobotrya japonica (Thunb.) Lindley"," "," "," "," essential oilorganic acidtannincyanoglycoside"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__1__p52.png","raw_text":"\\n (Eriobotrya)\\n Eriobotrya japonica (Thunb.) Lindley\\n \\n \\n \\n essential oilorganic acidtannincyanoglycoside\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":54,"title":"","content":[""," (Prunus)"," Prunus armeniaca L."," ()()()","()"," :(-)"," "," flavonoidtannintriterpenoidnitrilosides","(cyanophoric glycoside)"," "," "," "," "," -"," -"],"imagePath":"./dictionary_images/5_2__1__1__p53.png","raw_text":"\\n (Prunus)\\n Prunus armeniaca L.\\n ()()()\\n()\\n :(-)\\n \\n flavonoidtannintriterpenoidnitrilosides\\n(cyanophoric glycoside)\\n \\n \\n \\n \\n -\\n -\\n"}]},{"source":"5-2--1--2-","pages":[{"page":1,"title":"-","content":["-","13"],"imagePath":"./dictionary_images/5_2__1__2__p0.png","raw_text":"-\\n13\\n"},{"page":2,"title":"","content":["","Fabaceae(Leguminosea)","13-P.66"],"imagePath":"./dictionary_images/5_2__1__2__p1.png","raw_text":"\\nFabaceae(Leguminosea)\\n13-P.66\\n"},{"page":3,"title":"","content":[""," Faba"," 676519,500"," 7%"," "," (3,000)(1000)(700)","(700)(500)"," "," "," "," ",""],"imagePath":"./dictionary_images/5_2__1__2__p2.png","raw_text":"\\n Faba\\n 676519,500\\n 7%\\n \\n (3,000)(1000)(700)\\n(700)(500)\\n \\n \\n \\n \\n\\n"},{"page":4,"title":"","content":[""," ",""," ",""," "," "," "," "," -"," "],"imagePath":"./dictionary_images/5_2__1__2__p3.png","raw_text":"\\n \\n\\n \\n\\n \\n \\n \\n \\n -\\n \\n"},{"page":5,"title":"","content":[""," "," "," "," 3"," ",""," 2"," 5"," 5"," "," 102"," 5()"," 12",""," "],"imagePath":"./dictionary_images/5_2__1__2__p4.png","raw_text":"\\n \\n \\n \\n 3\\n \\n\\n 2\\n 5\\n 5\\n \\n 102\\n 5()\\n 12\\n\\n \\n"},{"page":6,"title":"","content":[""," (Abrus)"," Abrus precatorius L."," ()","Kanadomu()","Raranigo()"," "," "," toxalbuminalkaloid"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p5.png","raw_text":"\\n (Abrus)\\n Abrus precatorius L.\\n ()\\nKanadomu()\\nRaranigo()\\n \\n \\n toxalbuminalkaloid\\n \\n \\n \\n \\n \\n \\n"},{"page":7,"title":"","content":[""," ( Derris)"," Millettia pachycarpa Benth."," ",""," :"," "," heteropentacyclic compound"," "," ",""," "," -"," "],"imagePath":"./dictionary_images/5_2__1__2__p6.png","raw_text":"\\n ( Derris)\\n Millettia pachycarpa Benth.\\n \\n\\n :\\n \\n heteropentacyclic compound\\n \\n \\n\\n \\n -\\n \\n"},{"page":8,"title":"","content":[""," (Senna)"," Senna tora (Linn.) Roxb."," ()",""," :"," "," "," anthraquinone"," ",""," :"," :"," "," "],"imagePath":"./dictionary_images/5_2__1__2__p7.png","raw_text":"\\n (Senna)\\n Senna tora (Linn.) Roxb.\\n ()\\n\\n :\\n \\n \\n anthraquinone\\n \\n\\n :\\n :\\n \\n \\n"},{"page":9,"title":"","content":["","Malvaceae"],"imagePath":"./dictionary_images/5_2__1__2__p8.png","raw_text":"\\nMalvaceae\\n"},{"page":10,"title":"","content":[""," 751000~1500"," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p9.png","raw_text":"\\n 751000~1500\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":11,"title":"","content":[""," "," "," "," 5 ()"," 5"," 1"," 5 2-5","1-","2"," "],"imagePath":"./dictionary_images/5_2__1__2__p10.png","raw_text":"\\n \\n \\n \\n 5 ()\\n 5\\n 1\\n 5 2-5\\n1-\\n2\\n \\n"},{"page":12,"title":"","content":[""," (Abutilon)"," "," :"," "," sesquiterpenephenolic acidflavonoid"," ",""," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p11.png","raw_text":"\\n (Abutilon)\\n \\n :\\n \\n sesquiterpenephenolic acidflavonoid\\n \\n\\n \\n \\n \\n \\n"},{"page":13,"title":"","content":[""," (Gossypium)"," Gossypium herbaceum L."," "," :",""," 1910"," "," fatty acidflavonoidalkaloidphenypropanoid"," "," "," "," :"," -"," ()-"],"imagePath":"./dictionary_images/5_2__1__2__p12.png","raw_text":"\\n (Gossypium)\\n Gossypium herbaceum L.\\n \\n :\\n\\n 1910\\n \\n fatty acidflavonoidalkaloidphenypropanoid\\n \\n \\n \\n :\\n -\\n ()-\\n"},{"page":14,"title":"","content":[""," (Hibiscus)"," Hibiscus rosa-sinensis L."," () () ","()"," :",""," "," "," flavonoidtanninsteroidmonoterpene"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p13.png","raw_text":"\\n (Hibiscus)\\n Hibiscus rosa-sinensis L.\\n () () \\n()\\n :\\n\\n \\n \\n flavonoidtanninsteroidmonoterpene\\n \\n \\n \\n \\n \\n \\n"},{"page":15,"title":"","content":[""," (Hibiscus)"," Hibiscus taiwanensis S.Y. Hu"," ",""," :()"," "," lignanphenylpropanoidnucleoside"," "," ",""," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p14.png","raw_text":"\\n (Hibiscus)\\n Hibiscus taiwanensis S.Y. Hu \\n \\n\\n :()\\n \\n lignanphenylpropanoidnucleoside\\n \\n \\n\\n \\n \\n \\n \\n"},{"page":16,"title":"","content":["","Sapindaceae"],"imagePath":"./dictionary_images/5_2__1__2__p15.png","raw_text":"\\nSapindaceae\\n"},{"page":17,"title":"","content":[""," 140-1501400-2000"," ","\\"\\""," Sapindus=Soap Indicus()"," "," "," :"," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p16.png","raw_text":"\\n 140-1501400-2000\\n \\n\\"\\"\\n Sapindus=Soap Indicus()\\n \\n \\n :\\n \\n \\n \\n"},{"page":18,"title":"","content":[""," "," 3 ",""," "," "," "," 4-5"," 4-5",""," 8-10"," 233","2-4"," "],"imagePath":"./dictionary_images/5_2__1__2__p17.png","raw_text":"\\n \\n 3 \\n\\n \\n \\n \\n 4-5\\n 4-5\\n\\n 8-10\\n 233\\n2-4\\n \\n"},{"page":19,"title":"","content":[""," (Koelreuteria)"," Koelreuteria elegans subsp. formosana (Hayata)","F.G.Mey."," ",""," :()"," "," lignanphenolflavonoid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p18.png","raw_text":"\\n (Koelreuteria)\\n Koelreuteria elegans subsp. formosana (Hayata) \\nF.G.Mey.\\n \\n\\n :()\\n \\n lignanphenolflavonoid\\n \\n \\n \\n \\n \\n"},{"page":20,"title":"","content":[""," (Euphoria)"," Dimocarpus longan Lour."," ","Hinhin()"," :"," :"," triterpenesteroidcoumarinphenolflavonoid"," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p19.png","raw_text":"\\n (Euphoria)\\n Dimocarpus longan Lour.\\n \\nHinhin()\\n :\\n :\\n triterpenesteroidcoumarinphenolflavonoid\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":21,"title":"","content":["","Rutaceae"],"imagePath":"./dictionary_images/5_2__1__2__p20.png","raw_text":"\\nRutaceae\\n"},{"page":22,"title":"","content":[""," 41601700"," "," "," "," :"," :"," "],"imagePath":"./dictionary_images/5_2__1__2__p21.png","raw_text":"\\n 41601700\\n \\n \\n \\n :\\n :\\n \\n"},{"page":23,"title":"","content":[""," "," "," "," 4~ 5"," 4~ 5"," 2 ",""," 4~ 5","4~5 "," (",")"],"imagePath":"./dictionary_images/5_2__1__2__p22.png","raw_text":"\\n \\n \\n \\n 4~ 5\\n 4~ 5\\n 2 \\n\\n 4~ 5\\n4~5 \\n (\\n)\\n"},{"page":24,"title":"","content":[""," (Citrus)"," Citrus limon (L.) Osbeck"," "," :"," "," vitamin C"," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p23.png","raw_text":"\\n (Citrus)\\n Citrus limon (L.) Osbeck\\n \\n :\\n \\n vitamin C\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":25,"title":"","content":[""," (Murraya)"," Murraya paniculata (L.) Jack"," ()","()()","Kazapan()"," :"," "," alkaloidflavonoidcoumarinessential oil"," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p24.png","raw_text":"\\n (Murraya)\\n Murraya paniculata (L.) Jack\\n ()\\n()()\\nKazapan()\\n :\\n \\n alkaloidflavonoidcoumarinessential oil\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":26,"title":"","content":[""," (Toddalia)"," Toddalia asiatica (L.) Lam."," () ","","Tatukao()"," :30"," "," alkaloidcoumarinessential oiltriterpene"," "],"imagePath":"./dictionary_images/5_2__1__2__p25.png","raw_text":"\\n (Toddalia)\\n Toddalia asiatica (L.) Lam.\\n () \\n\\nTatukao()\\n :30\\n \\n alkaloidcoumarinessential oiltriterpene\\n \\n"},{"page":27,"title":"","content":[""," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p26.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n"},{"page":28,"title":"","content":[""," (Zanthoxylum)"," Zanthoxylum ailanthoides Siebold & Zucc."," ","()","()Tana()Kyana'kk(",")"," :"," "," lignanphenylpropanoidcoumarinalkaloid","quinolinesteroid"," "],"imagePath":"./dictionary_images/5_2__1__2__p27.png","raw_text":"\\n (Zanthoxylum)\\n Zanthoxylum ailanthoides Siebold & Zucc.\\n \\n()\\n()Tana()Kyana'kk(\\n)\\n :\\n \\n lignanphenylpropanoidcoumarinalkaloid\\nquinolinesteroid\\n \\n"},{"page":29,"title":"","content":[""," "," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p28.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":30,"title":"","content":[""," :(Fortunella japanica)(Citrus","reticulata)1960",""," :"," ():",""," ():1906 ",""," :",""],"imagePath":"./dictionary_images/5_2__1__2__p29.png","raw_text":"\\n :(Fortunella japanica)(Citrus \\nreticulata)1960\\n\\n :\\n ():\\n\\n ():1906 \\n\\n :\\n\\n"},{"page":31,"title":"","content":[""," :","","60"," :"," ():","200~900"," ():",""," :Citrus maxima Citrus sinensis ","1950 ",""],"imagePath":"./dictionary_images/5_2__1__2__p30.png","raw_text":"\\n :\\n\\n60\\n :\\n ():\\n200~900\\n ():\\n\\n :Citrus maxima Citrus sinensis \\n1950 \\n\\n"},{"page":32,"title":" ","content":[" "," "," 1906"," "," -"," "," "," -"," -"," "," "," 300"," -","",""],"imagePath":"./dictionary_images/5_2__1__2__p31.png","raw_text":" \\n \\n 1906\\n \\n -\\n \\n \\n -\\n -\\n \\n \\n 300\\n -\\n\\n\\n"},{"page":33,"title":"","content":["","Euphorbiaceae","13-P.92"],"imagePath":"./dictionary_images/5_2__1__2__p32.png","raw_text":"\\nEuphorbiaceae\\n13-P.92\\n"},{"page":34,"title":"","content":[""," 53008,000"," "," "," ",""," "," "," "," "," "," -"],"imagePath":"./dictionary_images/5_2__1__2__p33.png","raw_text":"\\n 53008,000\\n \\n \\n \\n\\n \\n \\n \\n \\n \\n -\\n"},{"page":35,"title":"","content":[""," "," "," ",""," "," 2~6"," 12"," 33 ~ 63",""," "],"imagePath":"./dictionary_images/5_2__1__2__p34.png","raw_text":"\\n \\n \\n \\n\\n \\n 2~6\\n 12\\n 33 ~ 63\\n\\n \\n"},{"page":36,"title":"","content":[""," (Macaranga)"," Macaranga tanarius (L.) Muelll. Arg."," ","Bau(",")"," :",""," "," diterpenetriterpeneflavonoidglycoside","stilbene"," "," "],"imagePath":"./dictionary_images/5_2__1__2__p35.png","raw_text":"\\n (Macaranga)\\n Macaranga tanarius (L.) Muelll. Arg.\\n \\nBau(\\n)\\n :\\n\\n \\n diterpenetriterpeneflavonoidglycoside\\nstilbene\\n \\n \\n"},{"page":37,"title":"","content":[""," "," "," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p36.png","raw_text":"\\n \\n \\n \\n -\\n \\n \\n \\n"},{"page":38,"title":"","content":[""," (Mallotus)"," Mallotus paniculatus (Lamm.) Mull. Arg"," ","Ruhanparakoi()Tikkau()"," :"," "," flavonoidcoumarintriterpene"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p37.png","raw_text":"\\n (Mallotus)\\n Mallotus paniculatus (Lamm.) Mull. Arg\\n \\nRuhanparakoi()Tikkau()\\n :\\n \\n flavonoidcoumarintriterpene\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":39,"title":"","content":[""," (Ricinus)"," Ricinus communis L."," ","Pizoazoa()"," "," flavonoidphenylpropanoidalkaloidfatty acid","protein"," "],"imagePath":"./dictionary_images/5_2__1__2__p38.png","raw_text":"\\n (Ricinus)\\n Ricinus communis L.\\n \\nPizoazoa()\\n \\n flavonoidphenylpropanoidalkaloidfatty acid\\nprotein\\n \\n"},{"page":40,"title":"","content":[""," "," "," "," "," "," "," (ricin)(ricinine)(2~7","20 )"],"imagePath":"./dictionary_images/5_2__1__2__p39.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n (ricin)(ricinine)(2~7 \\n20 )\\n"},{"page":41,"title":"","content":[""," (Phyllanthus)"," Phyllanthus urinaria L."," ",""," "," "," lignanflavonoidtanninphenol"," B"," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p40.png","raw_text":"\\n (Phyllanthus)\\n Phyllanthus urinaria L.\\n \\n\\n \\n \\n lignanflavonoidtanninphenol\\n B\\n \\n \\n \\n"},{"page":42,"title":"","content":["","Rhamnaceae"],"imagePath":"./dictionary_images/5_2__1__2__p41.png","raw_text":"\\nRhamnaceae\\n"},{"page":43,"title":"","content":[""," 58900"," ",""," (","())"," "," "," -"," "," -"," "],"imagePath":"./dictionary_images/5_2__1__2__p42.png","raw_text":"\\n 58900\\n \\n\\n (\\n())\\n \\n \\n -\\n \\n -\\n \\n"},{"page":44,"title":"","content":[""," "," "," ()"," 4-5 "," 4-5"," 4-5 ",""," 2-4 "," "],"imagePath":"./dictionary_images/5_2__1__2__p43.png","raw_text":"\\n \\n \\n ()\\n 4-5 \\n 4-5\\n 4-5 \\n\\n 2-4 \\n \\n"},{"page":45,"title":"","content":[""," (Zizyphus)"," Ziziphus jujuba Mill."," ()()"," "," "," "," alkaloid triterpene saponin polysaccharide lipid ","vitamine"," "," "," "," "," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_2__1__2__p44.png","raw_text":"\\n (Zizyphus)\\n Ziziphus jujuba Mill.\\n ()()\\n \\n \\n \\n alkaloid triterpene saponin polysaccharide lipid \\nvitamine\\n \\n \\n \\n \\n -\\n -\\n -\\n -\\n"},{"page":46,"title":"()","content":["()","Cucurbitaceae"],"imagePath":"./dictionary_images/5_2__1__2__p45.png","raw_text":"()\\nCucurbitaceae\\n"},{"page":47,"title":"","content":[""," 118825"," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p46.png","raw_text":"\\n 118825\\n \\n \\n \\n \\n"},{"page":48,"title":"","content":[""," "," ","90 "," "," 5 "," 52","1"," 31","13"," "],"imagePath":"./dictionary_images/5_2__1__2__p47.png","raw_text":"\\n \\n \\n90 \\n \\n 5 \\n 52\\n1\\n 31\\n13\\n \\n"},{"page":49,"title":"","content":[""," (Gynostemma)"," Gynostemma pentaphyllum (Thunb.) Makino"," ","",""," "," "," triterpenoid saponinflavonoidvitaminsteroid","amino acidpolysaccharide"," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p48.png","raw_text":"\\n (Gynostemma)\\n Gynostemma pentaphyllum (Thunb.) Makino\\n \\n\\n\\n \\n \\n triterpenoid saponinflavonoidvitaminsteroid\\namino acidpolysaccharide\\n \\n \\n \\n \\n"},{"page":50,"title":"","content":[""," (Momordica)"," Momordica cochinchinensis (Lour.) Spreng."," ","()Zyazyai(",")"," "," "," triterpenesaponinfatty acidsesquiterpeneamino acid","steroid"," "," "," "," -"," -"],"imagePath":"./dictionary_images/5_2__1__2__p49.png","raw_text":"\\n (Momordica)\\n Momordica cochinchinensis (Lour.) Spreng.\\n \\n()Zyazyai(\\n)\\n \\n \\n triterpenesaponinfatty acidsesquiterpeneamino acid\\nsteroid\\n \\n \\n \\n -\\n -\\n"},{"page":51,"title":"","content":["","Myrtaceae"],"imagePath":"./dictionary_images/5_2__1__2__p50.png","raw_text":"\\nMyrtaceae\\n"},{"page":52,"title":"","content":[""," 1003000"," "," "," ",""," "," :"," :"," "],"imagePath":"./dictionary_images/5_2__1__2__p51.png","raw_text":"\\n 1003000\\n \\n \\n \\n\\n \\n :\\n :\\n \\n"},{"page":53,"title":"","content":[""," "," ()",""," "," 4~5"," 4~5 "," ",""," 1 "," "],"imagePath":"./dictionary_images/5_2__1__2__p52.png","raw_text":"\\n \\n ()\\n\\n \\n 4~5\\n 4~5 \\n \\n\\n 1 \\n \\n"},{"page":54,"title":"","content":[""," (Melaleuca)"," Melaleuca leucadendra (L.) L."," ()",""," "," 1896 "," "," essential oil lignan triterpene"," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p53.png","raw_text":"\\n (Melaleuca)\\n Melaleuca leucadendra (L.) L.\\n ()\\n\\n \\n 1896 \\n \\n essential oil lignan triterpene\\n \\n \\n \\n"},{"page":55,"title":"","content":[""," (Psidium)"," Psidium guajava L."," "," "," "," flavonoidtriterpenephenylpropanoidtannin","essential oil"," ",""],"imagePath":"./dictionary_images/5_2__1__2__p54.png","raw_text":"\\n (Psidium)\\n Psidium guajava L.\\n \\n \\n \\n flavonoidtriterpenephenylpropanoidtannin\\nessential oil\\n \\n\\n"},{"page":56,"title":"","content":[""," -"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p55.png","raw_text":"\\n -\\n \\n \\n \\n \\n \\n \\n"},{"page":57,"title":"","content":["","Araliaceae"],"imagePath":"./dictionary_images/5_2__1__2__p56.png","raw_text":"\\nAraliaceae\\n"},{"page":58,"title":"","content":[""," 60-80900"," "," "," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p57.png","raw_text":"\\n 60-80900\\n \\n \\n \\n -\\n \\n \\n \\n"},{"page":59,"title":"","content":[""," "," "," ",""," ",""," "," "," 5-10"," "," 2151"," "],"imagePath":"./dictionary_images/5_2__1__2__p58.png","raw_text":"\\n \\n \\n \\n\\n \\n\\n \\n \\n 5-10\\n \\n 2151\\n \\n"},{"page":60,"title":"","content":[""," (Eleutherococcus)"," Eleutherococcus senticosus (Rupr. & Maxim)","Maxim."," "," "," "," steroidphenylpropanoidpolysaccharide","flavonoidamino acidvitamin A,B1,B2","superoxide dismutase(SOD)lignan"," ",""," "," "],"imagePath":"./dictionary_images/5_2__1__2__p59.png","raw_text":"\\n (Eleutherococcus)\\n Eleutherococcus senticosus (Rupr. & Maxim)\\nMaxim.\\n \\n \\n \\n steroidphenylpropanoidpolysaccharide\\nflavonoidamino acidvitamin A,B1,B2\\nsuperoxide dismutase(SOD)lignan\\n \\n\\n \\n \\n"},{"page":61,"title":"","content":[""," (Eleutherococcus)"," Eleutherococcus trifoliatus (L.) S. Y. Hu"," ","(",")"," "," "," lignanpolysaccharidetriterpeneflavonoid","steroid"," "," ",""," "," "],"imagePath":"./dictionary_images/5_2__1__2__p60.png","raw_text":"\\n (Eleutherococcus)\\n Eleutherococcus trifoliatus (L.) S. Y. Hu\\n \\n(\\n)\\n \\n \\n lignanpolysaccharidetriterpeneflavonoid\\nsteroid\\n \\n \\n\\n \\n \\n"},{"page":62,"title":"","content":["","Umbelliferae(Apiaceae)"],"imagePath":"./dictionary_images/5_2__1__2__p61.png","raw_text":"\\nUmbelliferae(Apiaceae)\\n"},{"page":63,"title":"","content":[""," 4343780"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__1__2__p62.png","raw_text":"\\n 4343780\\n \\n \\n \\n \\n \\n \\n"},{"page":64,"title":"","content":[""," "," "," ",""," "," "," 5"," 5"," 2","1"," "],"imagePath":"./dictionary_images/5_2__1__2__p63.png","raw_text":"\\n \\n \\n \\n\\n \\n \\n 5\\n 5\\n 2\\n1\\n \\n"},{"page":65,"title":"","content":[""," (Centella)"," Centella asiatica (L.) Urb."," ","Pakkaitu()","Tyaboryaryai()"," "," "," saponintriterpenelipopolysaccharideessential oilsteroid"," "," "," "," "," ",""],"imagePath":"./dictionary_images/5_2__1__2__p64.png","raw_text":"\\n (Centella)\\n Centella asiatica (L.) Urb.\\n \\nPakkaitu()\\nTyaboryaryai()\\n \\n \\n saponintriterpenelipopolysaccharideessential oilsteroid\\n \\n \\n \\n \\n \\n\\n"},{"page":66,"title":"","content":[""," (Angelica)"," Angelica sinensis (Oliv.) Diels"," "," "," "," "," essential oilphenylpropanoidpolysaccharide"," ",""," "," "],"imagePath":"./dictionary_images/5_2__1__2__p65.png","raw_text":"\\n (Angelica)\\n Angelica sinensis (Oliv.) Diels\\n \\n \\n \\n \\n essential oilphenylpropanoidpolysaccharide\\n \\n\\n \\n \\n"}]},{"source":"5-2--2--1-","pages":[{"page":1,"title":"","content":["","","13-P.119-174"],"imagePath":"./dictionary_images/5_2__2__1__p0.png","raw_text":"\\n\\n13-P.119-174\\n"},{"page":2,"title":"","content":[""," ","",""," ",""," ",""," 54"," "," 1"],"imagePath":"./dictionary_images/5_2__2__1__p1.png","raw_text":"\\n \\n\\n\\n \\n\\n \\n\\n 54\\n \\n 1\\n"},{"page":3,"title":"","content":["","Ericaceae","13-P.119"],"imagePath":"./dictionary_images/5_2__2__1__p2.png","raw_text":"\\nEricaceae\\n13-P.119\\n"},{"page":4,"title":"","content":[""," 751350"," "," "," ",""," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p3.png","raw_text":"\\n 751350\\n \\n \\n \\n\\n \\n \\n \\n \\n \\n"},{"page":5,"title":"","content":[""," "," "," ",""," 4~7 "," 4~7 "," 2 2 ",""," 5 "," "],"imagePath":"./dictionary_images/5_2__2__1__p4.png","raw_text":"\\n \\n \\n \\n\\n 4~7 \\n 4~7 \\n 2 2 \\n\\n 5 \\n \\n"},{"page":6,"title":"","content":[""," (Gaultheria)"," Gaultheria cumingiana Vidal"," ",""," "," :essential oil"," "," "],"imagePath":"./dictionary_images/5_2__2__1__p5.png","raw_text":"\\n (Gaultheria)\\n Gaultheria cumingiana Vidal\\n \\n\\n \\n :essential oil\\n \\n \\n"},{"page":7,"title":"","content":[""," (Pieris)"," Pieris japonica (Thunb.) D. Don ex G. Don"," "," :()"," :"," diterpenoids"," "],"imagePath":"./dictionary_images/5_2__2__1__p6.png","raw_text":"\\n (Pieris)\\n Pieris japonica (Thunb.) D. Don ex G. Don\\n \\n :()\\n :\\n diterpenoids\\n \\n"},{"page":8,"title":"","content":[""," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p7.png","raw_text":"\\n \\n \\n \\n \\n \\n"},{"page":9,"title":"","content":["","Ebenaceae"],"imagePath":"./dictionary_images/5_2__2__1__p8.png","raw_text":"\\nEbenaceae\\n"},{"page":10,"title":"","content":[""," 2500"," "," "," 20"," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p9.png","raw_text":"\\n 2500\\n \\n \\n 20\\n \\n -\\n \\n \\n \\n"},{"page":11,"title":"","content":[""," "," ",""," "," 3~5"," 3~5 "," 2~3 ",""," 82~8 "," "],"imagePath":"./dictionary_images/5_2__2__1__p10.png","raw_text":"\\n \\n \\n\\n \\n 3~5\\n 3~5 \\n 2~3 \\n\\n 82~8 \\n \\n"},{"page":12,"title":"","content":[""," (Diospyros)"," Diospyros kaki L. f."," :"," "," :flavonoidlignanphenylpropanane"," "," "," "," "," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p11.png","raw_text":"\\n (Diospyros)\\n Diospyros kaki L. f.\\n :\\n \\n :flavonoidlignanphenylpropanane\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":13,"title":"","content":["","Oleaceae","13-P.126"],"imagePath":"./dictionary_images/5_2__2__1__p12.png","raw_text":"\\nOleaceae\\n13-P.126\\n"},{"page":14,"title":"","content":[""," 27400"," 526"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p13.png","raw_text":"\\n 27400\\n 526\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":15,"title":"","content":[""," "," "," ",""," 4"," 4~9"," 235"," 213"," "],"imagePath":"./dictionary_images/5_2__2__1__p14.png","raw_text":"\\n \\n \\n \\n\\n 4\\n 4~9\\n 235\\n 213\\n \\n"},{"page":16,"title":"","content":[""," (Forsythia)"," Forsythia suspensa (Thunb.) Vahl."," ()","",""," "," "," phenylethanoid glycosides lignans flavonoids"," "],"imagePath":"./dictionary_images/5_2__2__1__p15.png","raw_text":"\\n (Forsythia)\\n Forsythia suspensa (Thunb.) Vahl.\\n ()\\n\\n\\n \\n \\n phenylethanoid glycosides lignans flavonoids\\n \\n"},{"page":17,"title":"","content":[""," "," "," "," -"," -"," -"],"imagePath":"./dictionary_images/5_2__2__1__p16.png","raw_text":"\\n \\n \\n \\n -\\n -\\n -\\n"},{"page":18,"title":"","content":[""," (Jasminum)"," Jasminum sambac (L.) Ait."," ()()","",""," "," essential oil"," "," "],"imagePath":"./dictionary_images/5_2__2__1__p17.png","raw_text":"\\n (Jasminum)\\n Jasminum sambac (L.) Ait.\\n ()()\\n\\n\\n \\n essential oil\\n \\n \\n"},{"page":19,"title":"","content":[""," "," :"," :"," :"],"imagePath":"./dictionary_images/5_2__2__1__p18.png","raw_text":"\\n \\n :\\n :\\n :\\n"},{"page":20,"title":"","content":[""," (Ligustrum)"," Ligustrum lucidum W.T. Aiton"," ","",""," "," "," triterpeneiridoids"," "],"imagePath":"./dictionary_images/5_2__2__1__p19.png","raw_text":"\\n (Ligustrum)\\n Ligustrum lucidum W.T. Aiton\\n \\n\\n\\n \\n \\n triterpeneiridoids\\n \\n"},{"page":21,"title":"","content":[""," -"," -",""," "," :"," :"," ",""],"imagePath":"./dictionary_images/5_2__2__1__p20.png","raw_text":"\\n -\\n -\\n\\n \\n :\\n :\\n \\n\\n"},{"page":22,"title":"","content":["","Loganiaceae"],"imagePath":"./dictionary_images/5_2__2__1__p21.png","raw_text":"\\nLoganiaceae\\n"},{"page":23,"title":"","content":[""," 29470"," "," "," Logania"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__1__p22.png","raw_text":"\\n 29470\\n \\n \\n Logania\\n \\n \\n \\n \\n \\n"},{"page":24,"title":"","content":[""," ",""," ",""," ",""," "," 4-5"," 4~5 "," ","2 "," 2 2 "," "],"imagePath":"./dictionary_images/5_2__2__1__p23.png","raw_text":"\\n \\n\\n \\n\\n \\n\\n \\n 4-5\\n 4~5 \\n \\n2 \\n 2 2 \\n \\n"},{"page":25,"title":"","content":[""," (Buddleja)"," Buddleja asiatica Lour."," ",""," "," "," benzoate(benzoic acid)"," "," "," "," -"," "],"imagePath":"./dictionary_images/5_2__2__1__p24.png","raw_text":"\\n (Buddleja)\\n Buddleja asiatica Lour.\\n \\n\\n \\n \\n benzoate(benzoic acid)\\n \\n \\n \\n -\\n \\n"}]},{"source":"5-2--2--2-","pages":[{"page":1,"title":"","content":["","","13-P.119-174"],"imagePath":"./dictionary_images/5_2__2__2__p0.png","raw_text":"\\n\\n13-P.119-174\\n"},{"page":2,"title":"","content":["","Gentianaceae","13-P.130"],"imagePath":"./dictionary_images/5_2__2__2__p1.png","raw_text":"\\nGentianaceae\\n13-P.130\\n"},{"page":3,"title":"","content":[""," 80900"," "," :"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p2.png","raw_text":"\\n 80900\\n \\n :\\n \\n \\n \\n"},{"page":4,"title":"","content":[""," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p3.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":5,"title":"","content":[""," (Gentiana)"," Gentiana lutea L."," "," "," iridoid glycosidexanthone"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p4.png","raw_text":"\\n (Gentiana)\\n Gentiana lutea L.\\n \\n \\n iridoid glycosidexanthone\\n \\n \\n \\n \\n"},{"page":6,"title":"","content":[""," (Gentiana)"," Gentiana scabra Bunge"," ()",""," "," 4001,700"," "," iridoid glycoside"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p5.png","raw_text":"\\n (Gentiana)\\n Gentiana scabra Bunge\\n ()\\n\\n \\n 4001,700\\n \\n iridoid glycoside\\n \\n \\n \\n"},{"page":7,"title":"","content":["","Apocynaceae","13-P.132"],"imagePath":"./dictionary_images/5_2__2__2__p6.png","raw_text":"\\nApocynaceae\\n13-P.132\\n"},{"page":8,"title":"","content":[""," 54154555"," 22"," "," "," "," :"," "," -"," "," "],"imagePath":"./dictionary_images/5_2__2__2__p7.png","raw_text":"\\n 54154555\\n 22\\n \\n \\n \\n :\\n \\n -\\n \\n \\n"},{"page":9,"title":"","content":[""," "," "," "," 5"," 5",""," ",""," 212","1"," "],"imagePath":"./dictionary_images/5_2__2__2__p8.png","raw_text":"\\n \\n \\n \\n 5\\n 5\\n\\n \\n\\n 212\\n1\\n \\n"},{"page":10,"title":"","content":[""," (Catharathus)"," Catharanthus roseus (L.) Don"," ()",""," "," "," "," indole alkaloidsglucoside"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p9.png","raw_text":"\\n (Catharathus)\\n Catharanthus roseus (L.) Don\\n ()\\n\\n \\n \\n \\n indole alkaloidsglucoside\\n \\n \\n \\n"},{"page":11,"title":"","content":[""," (Rauwolfia)"," Rauvolfia serpentina (L.) Benth. ex Kurz"," "," ",""," "," indole alkaloids"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p10.png","raw_text":"\\n (Rauwolfia)\\n Rauvolfia serpentina (L.) Benth. ex Kurz\\n \\n \\n\\n \\n indole alkaloids\\n \\n \\n \\n"},{"page":12,"title":"","content":["","Asclepiadaceae"],"imagePath":"./dictionary_images/5_2__2__2__p11.png","raw_text":"\\nAsclepiadaceae\\n"},{"page":13,"title":"","content":[""," 1802200"," "," "," "," "," "," "," "," "," "," -"," "],"imagePath":"./dictionary_images/5_2__2__2__p12.png","raw_text":"\\n 1802200\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n -\\n \\n"},{"page":14,"title":"","content":[""," "," "," ",""," "," 5 "," 5 "," 5",""," 5 1","",""," 122","",""," "],"imagePath":"./dictionary_images/5_2__2__2__p13.png","raw_text":"\\n \\n \\n \\n\\n \\n 5 \\n 5 \\n 5\\n\\n 5 1\\n\\n\\n 122\\n\\n\\n \\n"},{"page":15,"title":"","content":[""," (Asclepias)"," Asclepias curassavica Linn."," ()(",") ","Tanpaupau()"," ",""," "," cardenolidealkaloid"," "],"imagePath":"./dictionary_images/5_2__2__2__p14.png","raw_text":"\\n (Asclepias)\\n Asclepias curassavica Linn.\\n ()(\\n) \\nTanpaupau()\\n \\n\\n \\n cardenolidealkaloid\\n \\n"},{"page":16,"title":"","content":[""," "," -"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p15.png","raw_text":"\\n \\n -\\n \\n \\n \\n \\n"},{"page":17,"title":"","content":["","Convolvulaceae","13-P.136"],"imagePath":"./dictionary_images/5_2__2__2__p16.png","raw_text":"\\nConvolvulaceae\\n13-P.136\\n"},{"page":18,"title":"","content":[""," 601650"," "," "," ",""," "," :"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p17.png","raw_text":"\\n 601650\\n \\n \\n \\n\\n \\n :\\n \\n \\n \\n"},{"page":19,"title":"","content":[""," ()"," "," "," "," 5 "," 5 ","5","5"," ","2"," 212212"," "],"imagePath":"./dictionary_images/5_2__2__2__p18.png","raw_text":"\\n ()\\n \\n \\n \\n 5 \\n 5 \\n5\\n5\\n \\n2\\n 212212\\n \\n"},{"page":20,"title":"","content":[""," (Cuscuta)"," Cuscuta australis R. Br."," ","",""," "," "," flavonoidspolysaccharide"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p19.png","raw_text":"\\n (Cuscuta)\\n Cuscuta australis R. Br.\\n \\n\\n\\n \\n \\n flavonoidspolysaccharide\\n \\n \\n \\n"},{"page":21,"title":"","content":[""," (Ipomoea)"," Ipomoea nil (L.) Roth."," ","",""," "," "," resin glycosides"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p20.png","raw_text":"\\n (Ipomoea)\\n Ipomoea nil (L.) Roth.\\n \\n\\n\\n \\n \\n resin glycosides\\n \\n \\n \\n \\n"},{"page":22,"title":"","content":["","Solanaceae","13-P.137"],"imagePath":"./dictionary_images/5_2__2__2__p21.png","raw_text":"\\nSolanaceae\\n13-P.137\\n"},{"page":23,"title":"","content":[""," 803000"," "," "," "," "," -"," -"," -"],"imagePath":"./dictionary_images/5_2__2__2__p22.png","raw_text":"\\n 803000\\n \\n \\n \\n \\n -\\n -\\n -\\n"},{"page":24,"title":"","content":[""," "," ",""," "," 5"," 5 "," 54"," 2l~42",""," "],"imagePath":"./dictionary_images/5_2__2__2__p23.png","raw_text":"\\n \\n \\n\\n \\n 5\\n 5 \\n 54\\n 2l~42\\n\\n \\n"},{"page":25,"title":"","content":[""," "," 100",""," ",""],"imagePath":"./dictionary_images/5_2__2__2__p24.png","raw_text":"\\n \\n 100\\n\\n \\n\\n"},{"page":26,"title":"","content":[""," "," ",""," ",""," (tropan)"," "," "," ",""," () (solanine)"," "," ",""," () (nicotine)"," "," "," (capsaicin)"],"imagePath":"./dictionary_images/5_2__2__2__p25.png","raw_text":"\\n \\n \\n\\n \\n\\n (tropan)\\n \\n \\n \\n\\n () (solanine)\\n \\n \\n\\n () (nicotine)\\n \\n \\n (capsaicin)\\n"},{"page":27,"title":"","content":[""," 125"," "," -"," -170"," Physochlaina infundibularis Kuang-"," -"," -"," -"," --"," -"],"imagePath":"./dictionary_images/5_2__2__2__p26.png","raw_text":"\\n 125\\n \\n -\\n -170\\n Physochlaina infundibularis Kuang-\\n -\\n -\\n -\\n --\\n -\\n"},{"page":28,"title":"","content":[""," (Datura)"," Datura metel L."," ()",""," ",""," "," alkaloidsteroid"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p27.png","raw_text":"\\n (Datura)\\n Datura metel L.\\n ()\\n\\n \\n\\n \\n alkaloidsteroid\\n \\n \\n \\n \\n"},{"page":29,"title":"","content":[""," (Lycium)"," Lycium chinense Mill."," ",""," "," "," alkaloidssteroid"," "," "],"imagePath":"./dictionary_images/5_2__2__2__p28.png","raw_text":"\\n (Lycium)\\n Lycium chinense Mill.\\n \\n\\n \\n \\n alkaloidssteroid\\n \\n \\n"},{"page":30,"title":"","content":[""," "," "," "," "," "," L. barbarum L."," "],"imagePath":"./dictionary_images/5_2__2__2__p29.png","raw_text":"\\n \\n \\n \\n \\n \\n L. barbarum L.\\n \\n"},{"page":31,"title":"","content":[""," (Solanum)"," Solanum nigrum L."," ","KuudonPatimaugaWaaseku(",")Ratura'k()"," "," "," saponinssteroidal glycoalkaloid"," "],"imagePath":"./dictionary_images/5_2__2__2__p30.png","raw_text":"\\n (Solanum)\\n Solanum nigrum L.\\n \\nKuudonPatimaugaWaaseku(\\n)Ratura'k()\\n \\n \\n saponinssteroidal glycoalkaloid\\n \\n"},{"page":32,"title":"","content":[""," "," -"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p31.png","raw_text":"\\n \\n -\\n \\n \\n \\n \\n \\n"},{"page":33,"title":"","content":["","Boraginaceae","13-P.141"],"imagePath":"./dictionary_images/5_2__2__2__p32.png","raw_text":"\\nBoraginaceae\\n13-P.141\\n"},{"page":34,"title":"","content":[""," 1002000"," "," "," "," :"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p33.png","raw_text":"\\n 1002000\\n \\n \\n \\n :\\n \\n \\n \\n"},{"page":35,"title":"","content":[""," "," "," ",""," 5"," 5",""," 52"," 224","2"," 2-4 "],"imagePath":"./dictionary_images/5_2__2__2__p34.png","raw_text":"\\n \\n \\n \\n\\n 5\\n 5\\n\\n 52\\n 224\\n2\\n 2-4 \\n"},{"page":36,"title":"","content":[""," (Lithospermum)"," Lithospermum erythrorhizon Siebold & Zucc."," ()",""," Arnebia euchroma (Royle) I.M.Johnst.A. guttata","Bunge(Arnebia)"," "," "," naphthoquinonespolyphenolspolysaccharides","alkaloids"," "],"imagePath":"./dictionary_images/5_2__2__2__p35.png","raw_text":"\\n (Lithospermum)\\n Lithospermum erythrorhizon Siebold & Zucc.\\n ()\\n\\n Arnebia euchroma (Royle) I.M.Johnst.A. guttata \\nBunge(Arnebia)\\n \\n \\n naphthoquinonespolyphenolspolysaccharides\\nalkaloids\\n \\n"},{"page":37,"title":"","content":[""," -"," "," "],"imagePath":"./dictionary_images/5_2__2__2__p36.png","raw_text":"\\n -\\n \\n \\n"},{"page":38,"title":"","content":[""," (Cordia)"," Cordia dichotoma G. Forst."," ","Tatugatun()AdodanBaaryuu()"," ",""," fatty acid"," -()"," "," --"," -"," -"],"imagePath":"./dictionary_images/5_2__2__2__p37.png","raw_text":"\\n (Cordia)\\n Cordia dichotoma G. Forst.\\n \\nTatugatun()AdodanBaaryuu()\\n \\n\\n fatty acid\\n -()\\n \\n --\\n -\\n -\\n"},{"page":39,"title":"","content":["","Verbenaceae","13-P.142"],"imagePath":"./dictionary_images/5_2__2__2__p38.png","raw_text":"\\nVerbenaceae\\n13-P.142\\n"},{"page":40,"title":"","content":[""," 351,200"," 11 "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p39.png","raw_text":"\\n 351,200\\n 11 \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":41,"title":"","content":[""," "," "," ",""," 4-5 "," 4-5 "," 4"," "," "],"imagePath":"./dictionary_images/5_2__2__2__p40.png","raw_text":"\\n \\n \\n \\n\\n 4-5 \\n 4-5 \\n 4\\n \\n \\n"},{"page":42,"title":"","content":[""," (Clerodendrum)"," Clerodendrum calamitosum Linn."," ",""," "," 1916 "," "," pheophorbide"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p41.png","raw_text":"\\n (Clerodendrum)\\n Clerodendrum calamitosum Linn.\\n \\n\\n \\n 1916 \\n \\n pheophorbide\\n \\n \\n \\n \\n \\n"},{"page":43,"title":"","content":[""," (Clerodendrum)"," Clerodendrum cyrtophyllum Turcz."," "," "," "," isatancyrtophyllincyrtophyllone B"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p42.png","raw_text":"\\n (Clerodendrum)\\n Clerodendrum cyrtophyllum Turcz.\\n \\n \\n \\n isatancyrtophyllincyrtophyllone B\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":44,"title":"","content":[""," (Verbena)"," Verbena officinalis L."," ","Marupoyomu()"," "," "," essential oiliridoid glucosideorganic acid"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p43.png","raw_text":"\\n (Verbena)\\n Verbena officinalis L.\\n \\nMarupoyomu()\\n \\n \\n essential oiliridoid glucosideorganic acid\\n \\n \\n \\n \\n"},{"page":45,"title":"","content":["","Labiatae(Lamiaceae)","13-P.144"],"imagePath":"./dictionary_images/5_2__2__2__p44.png","raw_text":"\\nLabiatae(Lamiaceae)\\n13-P.144\\n"},{"page":46,"title":"","content":[""," 2203500"," "," "," "," ",""," "," "," :"," "],"imagePath":"./dictionary_images/5_2__2__2__p45.png","raw_text":"\\n 2203500\\n \\n \\n \\n \\n\\n \\n \\n :\\n \\n"},{"page":47,"title":"","content":[""," "," 4"," "," ",""," "," 5"," 5"," 4()2"," 22"," 4"],"imagePath":"./dictionary_images/5_2__2__2__p46.png","raw_text":"\\n \\n 4\\n \\n \\n\\n \\n 5\\n 5\\n 4()2\\n 22\\n 4\\n"},{"page":48,"title":"","content":[""," (Mentha)"," Mentha canadensis L."," ()()","()()"," ",""," "," essential oil(62~90% menthol)"," "],"imagePath":"./dictionary_images/5_2__2__2__p47.png","raw_text":"\\n (Mentha)\\n Mentha canadensis L.\\n ()()\\n()()\\n \\n\\n \\n essential oil(62~90% menthol)\\n \\n"},{"page":49,"title":"","content":[""," "," "," "," ","",""],"imagePath":"./dictionary_images/5_2__2__2__p48.png","raw_text":"\\n \\n \\n \\n \\n\\n\\n"},{"page":50,"title":"","content":[""," (Leonurus)"," Leonurus japonicus Houtt."," ()()(",")()()()"," "," "," alkaloidsditerpenesflavonoidsvolatile oils","polysaccharides"," , , "],"imagePath":"./dictionary_images/5_2__2__2__p49.png","raw_text":"\\n (Leonurus)\\n Leonurus japonicus Houtt.\\n ()()(\\n)()()()\\n \\n \\n alkaloidsditerpenesflavonoidsvolatile oils\\npolysaccharides\\n , , \\n"},{"page":51,"title":"","content":[""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p50.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":52,"title":"","content":[""," (Meson)"," Platostoma palustre (Blume) A.J.Paton(=Mesona","chinensis Benth. )"," ","()"," "," "," polysaccharide"," "],"imagePath":"./dictionary_images/5_2__2__2__p51.png","raw_text":"\\n (Meson)\\n Platostoma palustre (Blume) A.J.Paton(=Mesona\\nchinensis Benth. )\\n \\n()\\n \\n \\n polysaccharide\\n \\n"},{"page":53,"title":"","content":[""," "," ",""," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p52.png","raw_text":"\\n \\n \\n\\n \\n \\n \\n"},{"page":54,"title":"","content":[""," (Ocimum)"," Ocimum basilicum L."," ()(",")()",""," "," "," essential oil"," "],"imagePath":"./dictionary_images/5_2__2__2__p53.png","raw_text":"\\n (Ocimum)\\n Ocimum basilicum L.\\n ()(\\n)()\\n\\n \\n \\n essential oil\\n \\n"},{"page":55,"title":"","content":[""," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p54.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":56,"title":"","content":[""," (Perilla)"," Perilla frutescens (L.) Britton"," ()(",")"," ()()()","()"," "," "," essential oil"," "," -",""],"imagePath":"./dictionary_images/5_2__2__2__p55.png","raw_text":"\\n (Perilla)\\n Perilla frutescens (L.) Britton\\n ()(\\n)\\n ()()()\\n()\\n \\n \\n essential oil\\n \\n -\\n\\n"},{"page":57,"title":"","content":[""," "," "," -"," "," ()-"," -"," -"," -"],"imagePath":"./dictionary_images/5_2__2__2__p56.png","raw_text":"\\n \\n \\n -\\n \\n ()-\\n -\\n -\\n -\\n"},{"page":58,"title":"","content":[""," (Prunella)"," Prunella vulgaris L."," ()()","()()(",")"," "," "," triterpenoidflavonoidpolysaccharide","phenylpropanoid"," "],"imagePath":"./dictionary_images/5_2__2__2__p57.png","raw_text":"\\n (Prunella)\\n Prunella vulgaris L.\\n ()()\\n()()(\\n)\\n \\n \\n triterpenoidflavonoidpolysaccharide\\nphenylpropanoid\\n \\n"},{"page":59,"title":"","content":[""," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p58.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n"},{"page":60,"title":"","content":[""," (Salvia)"," Salvia miltiorrhiza Bunge"," "," "," "," "," ketonephenolic acid"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p59.png","raw_text":"\\n (Salvia)\\n Salvia miltiorrhiza Bunge\\n \\n \\n \\n \\n ketonephenolic acid\\n \\n \\n \\n \\n"},{"page":61,"title":"","content":["","Scrophulariaceae","13-P.150"],"imagePath":"./dictionary_images/5_2__2__2__p60.png","raw_text":"\\nScrophulariaceae\\n13-P.150\\n"},{"page":62,"title":"","content":[""," 1904,000"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p61.png","raw_text":"\\n 1904,000\\n \\n \\n \\n \\n \\n"},{"page":63,"title":"","content":[""," "," "," "," 45"," 245"," 4225","5"," 2"," "],"imagePath":"./dictionary_images/5_2__2__2__p62.png","raw_text":"\\n \\n \\n \\n 45\\n 245\\n 4225\\n5\\n 2\\n \\n"},{"page":64,"title":"","content":[""," (Digitalis)"," Digitalis purpurea Linn."," ",""," "," 1911 "," "," "," cardenolides"," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p63.png","raw_text":"\\n (Digitalis)\\n Digitalis purpurea Linn.\\n \\n\\n \\n 1911 \\n \\n \\n cardenolides\\n \\n \\n \\n"},{"page":65,"title":"","content":[""," (Rehmannia)"," Rehmannia glutinosa Libosch."," ()()",""," "," "," oligosaccharidesphenylpropanoid glycosidesiridoid"," ",""],"imagePath":"./dictionary_images/5_2__2__2__p64.png","raw_text":"\\n (Rehmannia)\\n Rehmannia glutinosa Libosch.\\n ()()\\n\\n \\n \\n oligosaccharidesphenylpropanoid glycosidesiridoid\\n \\n\\n"},{"page":66,"title":"","content":[""," "," "," "," -"," ()-"," -"],"imagePath":"./dictionary_images/5_2__2__2__p65.png","raw_text":"\\n \\n \\n \\n -\\n ()-\\n -\\n"},{"page":67,"title":"","content":["","Bignoniaceae","13-P.152"],"imagePath":"./dictionary_images/5_2__2__2__p66.png","raw_text":"\\nBignoniaceae\\n13-P.152\\n"},{"page":68,"title":"","content":[""," 110650"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p67.png","raw_text":"\\n 110650\\n \\n \\n \\n \\n \\n \\n"},{"page":69,"title":"","content":[""," "," ",""," ",""," "," 5",""," 541"," 22"," "],"imagePath":"./dictionary_images/5_2__2__2__p68.png","raw_text":"\\n \\n \\n\\n \\n\\n \\n 5\\n\\n 541\\n 22\\n \\n"},{"page":70,"title":"","content":[""," (Campsis)"," Campsis grandiflora (Thunb.) K.Schum."," ","","",""," "," (1611)"," "," iridoidtriterpenoidsalkaloidflavonoid"," "],"imagePath":"./dictionary_images/5_2__2__2__p69.png","raw_text":"\\n (Campsis)\\n Campsis grandiflora (Thunb.) K.Schum.\\n \\n\\n\\n\\n \\n (1611)\\n \\n iridoidtriterpenoidsalkaloidflavonoid\\n \\n"},{"page":71,"title":"","content":[""," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p70.png","raw_text":"\\n \\n \\n \\n \\n \\n"},{"page":72,"title":"","content":[""," (Oroxylum)"," Oroxylum indicum (L.) B. ex Kurz."," ()",""," "," 1896 "," "," flavonoids"," "],"imagePath":"./dictionary_images/5_2__2__2__p71.png","raw_text":"\\n (Oroxylum)\\n Oroxylum indicum (L.) B. ex Kurz.\\n ()\\n\\n \\n 1896 \\n \\n flavonoids\\n \\n"},{"page":73,"title":"","content":[""," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p72.png","raw_text":"\\n \\n \\n \\n \\n"},{"page":74,"title":"","content":["","Acanthaceae","13-P.153"],"imagePath":"./dictionary_images/5_2__2__2__p73.png","raw_text":"\\nAcanthaceae\\n13-P.153\\n"},{"page":75,"title":"","content":[""," 2502500"," ",""," ","","",""," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p74.png","raw_text":"\\n 2502500\\n \\n\\n \\n\\n\\n\\n \\n \\n \\n"},{"page":76,"title":"","content":[""," "," ","",""," ",""," 2"," 4-5 "," 5 "," 4 22 "," 22"," "],"imagePath":"./dictionary_images/5_2__2__2__p75.png","raw_text":"\\n \\n \\n\\n\\n \\n\\n 2\\n 4-5 \\n 5 \\n 4 22 \\n 22\\n \\n"},{"page":77,"title":"","content":[""," (Andrographis)"," Andrographis paniculata (Burm. f.) Nees"," ",""," "," "," diterpenoidsflavonoids"," "],"imagePath":"./dictionary_images/5_2__2__2__p76.png","raw_text":"\\n (Andrographis)\\n Andrographis paniculata (Burm. f.) Nees\\n \\n\\n \\n \\n diterpenoidsflavonoids\\n \\n"},{"page":78,"title":"","content":[""," "," -"," "," -"," ()"],"imagePath":"./dictionary_images/5_2__2__2__p77.png","raw_text":"\\n \\n -\\n \\n -\\n ()\\n"},{"page":79,"title":"","content":[""," (Strobilanthes)"," Strobilanthes cusia (Nees) Kuntze"," ",""," ()"," "," anthraquinone, -sitosterol, triterpenoid","indirubinindigoisoindigo"," ",""," "," "],"imagePath":"./dictionary_images/5_2__2__2__p78.png","raw_text":"\\n (Strobilanthes)\\n Strobilanthes cusia (Nees) Kuntze\\n \\n\\n ()\\n \\n anthraquinone, -sitosterol, triterpenoid\\nindirubinindigoisoindigo\\n \\n\\n \\n \\n"},{"page":80,"title":"","content":[""," "," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_2__2__2__p79.png","raw_text":"\\n \\n -\\n -\\n -\\n -\\n"},{"page":81,"title":"","content":[""," (Dicliptera)"," Dicliptera chinensis (L.) Juss"," ()"," "," "," polysaccharide"," "," "," -"," -"," ()"],"imagePath":"./dictionary_images/5_2__2__2__p80.png","raw_text":"\\n (Dicliptera)\\n Dicliptera chinensis (L.) Juss\\n ()\\n \\n \\n polysaccharide\\n \\n \\n -\\n -\\n ()\\n"},{"page":82,"title":"","content":["","Plantaginaceae"],"imagePath":"./dictionary_images/5_2__2__2__p81.png","raw_text":"\\nPlantaginaceae\\n"},{"page":83,"title":"","content":[""," 90","1700"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p82.png","raw_text":"\\n 90\\n1700\\n \\n \\n \\n \\n \\n \\n"},{"page":84,"title":"","content":[""," "," "," ",""," ",""," "," 4 "," "," 4 "," 221-40","1 "," "],"imagePath":"./dictionary_images/5_2__2__2__p83.png","raw_text":"\\n \\n \\n \\n\\n \\n\\n \\n 4 \\n \\n 4 \\n 221-40\\n1 \\n \\n"},{"page":85,"title":"","content":[""," (Plantago)"," Plantago asiatica L."," ()","() ",""," ",""," "," plantagosideterpenesteroidpolysaccharideorganic","acidiridoid glycosidesmucilage"," "],"imagePath":"./dictionary_images/5_2__2__2__p84.png","raw_text":"\\n (Plantago)\\n Plantago asiatica L.\\n ()\\n() \\n\\n \\n\\n \\n plantagosideterpenesteroidpolysaccharideorganic \\nacidiridoid glycosidesmucilage\\n \\n"},{"page":86,"title":"","content":[""," ",""," "," "," "," ",""],"imagePath":"./dictionary_images/5_2__2__2__p85.png","raw_text":"\\n \\n\\n \\n \\n \\n \\n\\n"},{"page":87,"title":"","content":["","Rubiaceae","13-P.157"],"imagePath":"./dictionary_images/5_2__2__2__p86.png","raw_text":"\\nRubiaceae\\n13-P.157\\n"},{"page":88,"title":"","content":[""," 60010000"," (Rubioideae)"," (Cinchonoideae)"," (Ixoroideae)"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p87.png","raw_text":"\\n 60010000\\n (Rubioideae)\\n (Cinchonoideae)\\n (Ixoroideae)\\n \\n \\n \\n \\n \\n \\n"},{"page":89,"title":"","content":[""," "," "," ",""," "," 4-6"," 4-6"," "," 12"," "],"imagePath":"./dictionary_images/5_2__2__2__p88.png","raw_text":"\\n \\n \\n \\n\\n \\n 4-6\\n 4-6\\n \\n 12\\n \\n"},{"page":90,"title":"","content":[""," 2",""," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__2__p89.png","raw_text":"\\n 2\\n\\n \\n \\n \\n \\n"},{"page":91,"title":"","content":[""," (Coffea)"," Coffea arabica L."," "," "," 575 "," "," "," xanthine alkaloid"," "],"imagePath":"./dictionary_images/5_2__2__2__p90.png","raw_text":"\\n (Coffea)\\n Coffea arabica L.\\n \\n \\n 575 \\n \\n \\n xanthine alkaloid\\n \\n"},{"page":92,"title":"","content":[""," "," "," ",""," "," "],"imagePath":"./dictionary_images/5_2__2__2__p91.png","raw_text":"\\n \\n \\n \\n\\n \\n \\n"},{"page":93,"title":"","content":[""," (Gardenia)"," Gardenia jasminoides Ellis"," ","()()","Kyaba()Kayunabbu()"," "," "," iridoid glycoside"," ","",""],"imagePath":"./dictionary_images/5_2__2__2__p92.png","raw_text":"\\n (Gardenia)\\n Gardenia jasminoides Ellis\\n \\n()()\\nKyaba()Kayunabbu()\\n \\n \\n iridoid glycoside\\n \\n\\n\\n"},{"page":94,"title":"","content":[""," -"," -"," -",""," -(",")"," "," -"," "," -"],"imagePath":"./dictionary_images/5_2__2__2__p93.png","raw_text":"\\n -\\n -\\n -\\n\\n -(\\n)\\n \\n -\\n \\n -\\n"},{"page":95,"title":"","content":[""," (Uncaria)"," Uncaria rhynchophylla (Miq.) Miq."," ","","",""," "," "," indole alkaloidsflavonoids"," monoamine oxidase B"," "," "],"imagePath":"./dictionary_images/5_2__2__2__p94.png","raw_text":"\\n (Uncaria)\\n Uncaria rhynchophylla (Miq.) Miq.\\n \\n\\n\\n\\n \\n \\n indole alkaloidsflavonoids\\n monoamine oxidase B\\n \\n \\n"}]},{"source":"5-2--2--3-","pages":[{"page":1,"title":"","content":["","","13-P.119-174"],"imagePath":"./dictionary_images/5_2__2__3__p0.png","raw_text":"\\n\\n13-P.119-174\\n"},{"page":2,"title":"","content":["","Caprifoliaceae","13-P.161"],"imagePath":"./dictionary_images/5_2__2__3__p1.png","raw_text":"\\nCaprifoliaceae\\n13-P.161\\n"},{"page":3,"title":"","content":[""," 13500"," "," "," "," "," "," -"," "],"imagePath":"./dictionary_images/5_2__2__3__p2.png","raw_text":"\\n 13500\\n \\n \\n \\n \\n \\n -\\n \\n"},{"page":4,"title":"","content":[""," ",""," ","",""," "," 45"," "," 45"," 25"," "],"imagePath":"./dictionary_images/5_2__2__3__p3.png","raw_text":"\\n \\n\\n \\n\\n\\n \\n 45\\n \\n 45\\n 25\\n \\n"},{"page":5,"title":"","content":[""," (Lonicera)"," Lonicera japonica Thunb."," ()() ",""," "," "," organic acid"," "," "," -"," "," -"," "],"imagePath":"./dictionary_images/5_2__2__3__p4.png","raw_text":"\\n (Lonicera)\\n Lonicera japonica Thunb.\\n ()() \\n\\n \\n \\n organic acid\\n \\n \\n -\\n \\n -\\n \\n"},{"page":6,"title":"","content":[""," ()(-)(Sambucus)"," Sambucus chinensis Lindl."," ()","()()"," "," organic acid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p5.png","raw_text":"\\n ()(-)(Sambucus)\\n Sambucus chinensis Lindl.\\n ()\\n()()\\n \\n organic acid\\n \\n \\n \\n \\n \\n"},{"page":7,"title":"","content":["","Campanulaceae"],"imagePath":"./dictionary_images/5_2__2__3__p6.png","raw_text":"\\nCampanulaceae\\n"},{"page":8,"title":"","content":[""," 842380"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p7.png","raw_text":"\\n 842380\\n \\n \\n \\n \\n \\n"},{"page":9,"title":"","content":[""," ",""," "," "," "," 5 "," 5 ",""," 5 ",""," 2-52-5",""," "],"imagePath":"./dictionary_images/5_2__2__3__p8.png","raw_text":"\\n \\n\\n \\n \\n \\n 5 \\n 5 \\n\\n 5 \\n\\n 2-52-5\\n\\n \\n"},{"page":10,"title":"","content":[""," (Lobelia)"," Lobelia chinensis Lour."," ",""," "," alkaloidflavonoid"," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p9.png","raw_text":"\\n (Lobelia)\\n Lobelia chinensis Lour.\\n \\n\\n \\n alkaloidflavonoid\\n \\n \\n \\n"},{"page":11,"title":"","content":[""," (Campanula)"," Platycodon grandiflorus (Jacq.) A. DC."," ",""," "," 1908 "," "," triterpenoid saponinpolysaccharide"," ",""],"imagePath":"./dictionary_images/5_2__2__3__p10.png","raw_text":"\\n (Campanula)\\n Platycodon grandiflorus (Jacq.) A. DC.\\n \\n\\n \\n 1908 \\n \\n triterpenoid saponinpolysaccharide\\n \\n\\n"},{"page":12,"title":"","content":[""," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p11.png","raw_text":"\\n \\n \\n \\n \\n"},{"page":13,"title":"","content":["","Compositae (Asteraceae)","13-P.166"],"imagePath":"./dictionary_images/5_2__2__3__p12.png","raw_text":"\\nCompositae (Asteraceae)\\n13-P.166\\n"},{"page":14,"title":"","content":[""," ",""," 110020000~25000"," "," -"," -"," 13"," -221-"," -11-"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p13.png","raw_text":"\\n \\n\\n 110020000~25000\\n \\n -\\n -\\n 13\\n -221-\\n -11-\\n \\n \\n \\n \\n \\n \\n"},{"page":15,"title":"","content":[""," "," "," "," "," "," "," 5"," 211"," "],"imagePath":"./dictionary_images/5_2__2__3__p14.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n 5\\n 211\\n \\n"},{"page":16,"title":"","content":[""," (Artemisia)"," Artemisia annua L."," "," monoterpene sesquiterpene"," "," -"," "," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p15.png","raw_text":"\\n (Artemisia)\\n Artemisia annua L.\\n \\n monoterpene sesquiterpene\\n \\n -\\n \\n \\n \\n \\n"},{"page":17,"title":"","content":[""," (Artemisia)"," Artemisia capillaris Thunb."," ()()","()() (",")()"," "," "," ()"," organic acidphenone"," B"," "," "," "," -"],"imagePath":"./dictionary_images/5_2__2__3__p16.png","raw_text":"\\n (Artemisia)\\n Artemisia capillaris Thunb.\\n ()()\\n()() (\\n)()\\n \\n \\n ()\\n organic acidphenone\\n B\\n \\n \\n \\n -\\n"},{"page":18,"title":"","content":[""," (Elephantopus)"," Elephantopus mollis Kunth"," ","Barakainauzi()"," "," "," sesquiterpene lactons"," "," "," "," :"," :"," :"],"imagePath":"./dictionary_images/5_2__2__3__p17.png","raw_text":"\\n (Elephantopus)\\n Elephantopus mollis Kunth\\n \\nBarakainauzi()\\n \\n \\n sesquiterpene lactons\\n \\n \\n \\n :\\n :\\n :\\n"},{"page":19,"title":"","content":[""," (Eupatorium)"," Eupatorium formosanum Hayata"," ",""," "," sesquiterpene lactons"," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2__2__3__p18.png","raw_text":"\\n (Eupatorium)\\n Eupatorium formosanum Hayata\\n \\n\\n \\n sesquiterpene lactons\\n \\n -\\n \\n \\n \\n"},{"page":20,"title":"","content":[""," (Xanthium)"," Xanthium strumarium L."," ()()() ","()"," "," sesquiterpene lactonssterolthiazinedione"," "," "," "," "," "," ()"," "],"imagePath":"./dictionary_images/5_2__2__3__p19.png","raw_text":"\\n (Xanthium)\\n Xanthium strumarium L.\\n ()()() \\n()\\n \\n sesquiterpene lactonssterolthiazinedione\\n \\n \\n \\n \\n \\n ()\\n \\n"}]},{"source":"5-2---","pages":[{"page":1,"title":"","content":["",""],"imagePath":"./dictionary_images/5_2____p0.png","raw_text":"\\n\\n"},{"page":2,"title":"","content":[""," "," "," -",""," -","",""," -"],"imagePath":"./dictionary_images/5_2____p1.png","raw_text":"\\n \\n \\n -\\n\\n -\\n\\n\\n -\\n"},{"page":3,"title":"","content":["","Trochodendraceae"],"imagePath":"./dictionary_images/5_2____p2.png","raw_text":"\\nTrochodendraceae\\n"},{"page":4,"title":"","content":[""," "," ","","",""," "," "," "," "],"imagePath":"./dictionary_images/5_2____p3.png","raw_text":"\\n \\n \\n\\n\\n\\n \\n \\n \\n \\n"},{"page":5,"title":"","content":[""," "," ",""," "," "," 3~5 "," 15~10 1 5~30",""," "],"imagePath":"./dictionary_images/5_2____p4.png","raw_text":"\\n \\n \\n\\n \\n \\n 3~5 \\n 15~10 1 5~30\\n\\n \\n"},{"page":6,"title":"","content":[""," (Trochodendron)"," Trochodendron aralioides Siebold & Zucc."," ()",""," "," "," triterpenesteroidlignan"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p5.png","raw_text":"\\n (Trochodendron)\\n Trochodendron aralioides Siebold & Zucc.\\n ()\\n\\n \\n \\n triterpenesteroidlignan\\n \\n \\n \\n \\n \\n \\n"},{"page":7,"title":"","content":["","Juglandaceae"],"imagePath":"./dictionary_images/5_2____p6.png","raw_text":"\\nJuglandaceae\\n"},{"page":8,"title":"","content":[""," 860"," "," "," "," -"," "," "," "," "],"imagePath":"./dictionary_images/5_2____p7.png","raw_text":"\\n 860\\n \\n \\n \\n -\\n \\n \\n \\n \\n"},{"page":9,"title":"","content":[""," "," "," ","2 "," 2 0 3~6 ","3~40 "," 4 ","2 "," "],"imagePath":"./dictionary_images/5_2____p8.png","raw_text":"\\n \\n \\n \\n2 \\n 2 0 3~6 \\n3~40 \\n 4 \\n2 \\n \\n"},{"page":10,"title":"","content":[""," (Juglans)"," Juglans regia L."," ",""," "," "," lipidtanninanthraquinone()"," "," -",""," "],"imagePath":"./dictionary_images/5_2____p9.png","raw_text":"\\n (Juglans)\\n Juglans regia L.\\n \\n\\n \\n \\n lipidtanninanthraquinone()\\n \\n -\\n\\n \\n"},{"page":11,"title":"","content":[""," "," "," "," -",""," -",""],"imagePath":"./dictionary_images/5_2____p10.png","raw_text":"\\n \\n \\n \\n -\\n\\n -\\n\\n"},{"page":12,"title":"","content":["","Salicaceae"],"imagePath":"./dictionary_images/5_2____p11.png","raw_text":"\\nSalicaceae\\n"},{"page":13,"title":"","content":[""," 3581350"," "," "," "," "," -"," "," "," -"],"imagePath":"./dictionary_images/5_2____p12.png","raw_text":"\\n 3581350\\n \\n \\n \\n \\n -\\n \\n \\n -\\n"},{"page":14,"title":"","content":[""," "," "," "," "," "," 2~2 ",""," 2 4 1 ",""," 2~4 ",""],"imagePath":"./dictionary_images/5_2____p13.png","raw_text":"\\n \\n \\n \\n \\n \\n 2~2 \\n\\n 2 4 1 \\n\\n 2~4 \\n\\n"},{"page":15,"title":"","content":[""," (460377)","",""," 1763(Edward Stone (cleric))",""," (Charles","Frdric Gerhardt)1853"," 1859","","(acetylierte Salicylsure)"," 1897","(Filipendula ulmaria)","","(Aspirin)"],"imagePath":"./dictionary_images/5_2____p14.png","raw_text":"\\n (460377)\\n\\n\\n 1763(Edward Stone (cleric))\\n\\n (Charles \\nFrdric Gerhardt)1853\\n 1859\\n\\n(acetylierte Salicylsure)\\n 1897\\n(Filipendula ulmaria)\\n\\n(Aspirin)\\n"},{"page":16,"title":"","content":[""," 1899"," 1917",""," 6070",""," 6080",""],"imagePath":"./dictionary_images/5_2____p15.png","raw_text":"\\n 1899\\n 1917\\n\\n 6070\\n\\n 6080\\n\\n"},{"page":17,"title":"","content":[""," (Salix)"," Salix babylonica Linn."," "," "," 1660 "," "," alcoholic glucosideflavonoidtannin"," "],"imagePath":"./dictionary_images/5_2____p16.png","raw_text":"\\n (Salix)\\n Salix babylonica Linn.\\n \\n \\n 1660 \\n \\n alcoholic glucosideflavonoidtannin\\n \\n"},{"page":18,"title":"","content":[""," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p17.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n"},{"page":19,"title":"","content":["","Betulaceae"],"imagePath":"./dictionary_images/5_2____p18.png","raw_text":"\\nBetulaceae\\n"},{"page":20,"title":"","content":[""," ",""," 6200"," "," ",""," "," "," -"," -()"," "],"imagePath":"./dictionary_images/5_2____p19.png","raw_text":"\\n \\n\\n 6200\\n \\n \\n\\n \\n \\n -\\n -()\\n \\n"},{"page":21,"title":"","content":[""," ",""," "," "," 1 6 2-4","2 20 2",""," ","21"," "],"imagePath":"./dictionary_images/5_2____p20.png","raw_text":"\\n \\n\\n \\n \\n 1 6 2-4\\n2 20 2\\n\\n \\n21\\n \\n"},{"page":22,"title":"","content":[""," (Alnus)"," Alnus formosana (Burk.)Makino"," ",""," "," "," flavonoidtriterpenoid"," "," "," "," ",""," "," "],"imagePath":"./dictionary_images/5_2____p21.png","raw_text":"\\n (Alnus)\\n Alnus formosana (Burk.)Makino\\n \\n\\n \\n \\n flavonoidtriterpenoid\\n \\n \\n \\n \\n\\n \\n \\n"},{"page":23,"title":"","content":["","Fagaceae"],"imagePath":"./dictionary_images/5_2____p22.png","raw_text":"\\nFagaceae\\n"},{"page":24,"title":"","content":[""," "," 11927"," "," "," "," -"," "," -",""," "," -",""],"imagePath":"./dictionary_images/5_2____p23.png","raw_text":"\\n \\n 11927\\n \\n \\n \\n -\\n \\n -\\n\\n \\n -\\n\\n"},{"page":25,"title":"","content":[""," "," ","()"," "," 4-73-12 ",""," 3-4 4-7","3-7 2 ","3-10"," ()"],"imagePath":"./dictionary_images/5_2____p24.png","raw_text":"\\n \\n \\n()\\n \\n 4-73-12 \\n\\n 3-4 4-7\\n3-7 2 \\n3-10\\n ()\\n"},{"page":26,"title":"","content":[""," (Castanea)"," Castanea mollissima Blume"," ()() ",""," "," "," "," polyphenol"," "," ()","B"," "],"imagePath":"./dictionary_images/5_2____p25.png","raw_text":"\\n (Castanea)\\n Castanea mollissima Blume\\n ()() \\n\\n \\n \\n \\n polyphenol\\n \\n ()\\nB\\n \\n"},{"page":27,"title":"","content":[""," "," "," ()-"," -"," -"," -"," ()-"," ()-"," (())-"],"imagePath":"./dictionary_images/5_2____p26.png","raw_text":"\\n \\n \\n ()-\\n -\\n -\\n -\\n ()-\\n ()-\\n (())-\\n"},{"page":28,"title":"","content":["","Saururaceae"],"imagePath":"./dictionary_images/5_2____p27.png","raw_text":"\\nSaururaceae\\n"},{"page":29,"title":"","content":[""," 46"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p28.png","raw_text":"\\n 46\\n \\n \\n \\n \\n \\n \\n"},{"page":30,"title":"","content":[""," "," "," "," ",""," "," 36 8 2 "," 3 4 ","1 2-8 "," "],"imagePath":"./dictionary_images/5_2____p29.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n 36 8 2 \\n 3 4 \\n1 2-8 \\n \\n"},{"page":31,"title":"","content":[""," (Houttuynia)"," Houttuynia cordata Thunb."," ()()","()",""," "," "," essential oilflavonoid"," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p30.png","raw_text":"\\n (Houttuynia)\\n Houttuynia cordata Thunb.\\n ()()\\n()\\n\\n \\n \\n essential oilflavonoid\\n \\n \\n \\n \\n \\n"},{"page":32,"title":"","content":[""," (Saururus)"," Saururus chinensis (Lour.) Baill."," ",""," "," "," essential oilflavonoidlignanalkaloid"," HIV"," "," "," -"," "," ()-"," ()-"],"imagePath":"./dictionary_images/5_2____p31.png","raw_text":"\\n (Saururus)\\n Saururus chinensis (Lour.) Baill.\\n \\n\\n \\n \\n essential oilflavonoidlignanalkaloid\\n HIV\\n \\n \\n -\\n \\n ()-\\n ()-\\n"},{"page":33,"title":"","content":["","Piperaceae"],"imagePath":"./dictionary_images/5_2____p32.png","raw_text":"\\nPiperaceae\\n"},{"page":34,"title":"","content":[""," ",""," 53100"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p33.png","raw_text":"\\n \\n\\n 53100\\n \\n \\n \\n \\n \\n \\n"},{"page":35,"title":"","content":[""," "," ","",""," "," "," 2~6 2"," 2~5 1","14(5)"," "],"imagePath":"./dictionary_images/5_2____p34.png","raw_text":"\\n \\n \\n\\n\\n \\n \\n 2~6 2\\n 2~5 1\\n14(5)\\n \\n"},{"page":36,"title":"","content":[""," (Piper)"," Piper betle L."," () (",") ",""," "," "," phenylpropananemonoterpenoidsesquiterpenoid","alkaloidsteroid"," "," () "," "],"imagePath":"./dictionary_images/5_2____p35.png","raw_text":"\\n (Piper)\\n Piper betle L.\\n () (\\n) \\n\\n \\n \\n phenylpropananemonoterpenoidsesquiterpenoid\\nalkaloidsteroid\\n \\n () \\n \\n"},{"page":37,"title":"","content":[""," -"," "," -"," -"],"imagePath":"./dictionary_images/5_2____p36.png","raw_text":"\\n -\\n \\n -\\n -\\n"},{"page":38,"title":"","content":[""," (Piper)"," Piper nigrum L."," "," ",""," "," alkaloidmonoterpenoidditerpenoidbenzaldehyde"," "," -"," ","",""," "," "],"imagePath":"./dictionary_images/5_2____p37.png","raw_text":"\\n (Piper)\\n Piper nigrum L.\\n \\n \\n\\n \\n alkaloidmonoterpenoidditerpenoidbenzaldehyde\\n \\n -\\n \\n\\n\\n \\n \\n"},{"page":39,"title":"","content":["","Ulmaceae"],"imagePath":"./dictionary_images/5_2____p38.png","raw_text":"\\nUlmaceae\\n"},{"page":40,"title":"","content":[""," 16230"," "," "," "," "," :"," :"," :"],"imagePath":"./dictionary_images/5_2____p39.png","raw_text":"\\n 16230\\n \\n \\n \\n \\n :\\n :\\n :\\n"},{"page":41,"title":"","content":[""," "," 3",""," ",""," ()48"," ()2"," 22","11"," "],"imagePath":"./dictionary_images/5_2____p40.png","raw_text":"\\n \\n 3\\n\\n \\n\\n ()48\\n ()2\\n 22\\n11\\n \\n"},{"page":42,"title":"","content":[""," (Trema)"," Trema orientalis (L.) Blume"," ","Garahon()Pohada()"," "," triterpenetannin"," "," "," "," "," "," -"," -"],"imagePath":"./dictionary_images/5_2____p41.png","raw_text":"\\n (Trema)\\n Trema orientalis (L.) Blume\\n \\nGarahon()Pohada()\\n \\n triterpenetannin\\n \\n \\n \\n \\n \\n -\\n -\\n"},{"page":43,"title":"","content":["","Moraceae"],"imagePath":"./dictionary_images/5_2____p42.png","raw_text":"\\nMoraceae\\n"},{"page":44,"title":"","content":[""," 531400"," "," "," ",""," "," (Ficus Linn.)1000"," ",""," "," (Morus Linn.)",""],"imagePath":"./dictionary_images/5_2____p43.png","raw_text":"\\n 531400\\n \\n \\n \\n\\n \\n (Ficus Linn.)1000\\n \\n\\n \\n (Morus Linn.)\\n\\n"},{"page":45,"title":"","content":[""," "," -"," -"," -"," -"," "],"imagePath":"./dictionary_images/5_2____p44.png","raw_text":"\\n \\n -\\n -\\n -\\n -\\n \\n"},{"page":46,"title":"","content":[""," ",""," "," ","",""," 2~6 4","1~3 6 2 "," 2~4 2 ","1~2 "," :"],"imagePath":"./dictionary_images/5_2____p45.png","raw_text":"\\n \\n\\n \\n \\n\\n\\n 2~6 4 \\n1~3 6 2 \\n 2~4 2 \\n1~2 \\n :\\n"},{"page":47,"title":"","content":[""," (Artocarpus)"," Artocarpus heterophyllus Lam."," ()()","",""," :"," "," polysaccharidepeptidevitamin Clectinpolyphenol"," ",""],"imagePath":"./dictionary_images/5_2____p46.png","raw_text":"\\n (Artocarpus)\\n Artocarpus heterophyllus Lam.\\n ()()\\n\\n\\n :\\n \\n polysaccharidepeptidevitamin Clectinpolyphenol\\n \\n\\n"},{"page":48,"title":"","content":[""," "," "," "," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p47.png","raw_text":"\\n \\n \\n \\n \\n \\n \\n \\n \\n \\n \\n"},{"page":49,"title":"","content":[""," (Ficus)"," Ficus pumila L. var. awkeotsang (Makino) Corner"," ()()","()"," :"," "," coumarinchromoneflavonoidtriterpenoid"," "," "," "," -"," -"," -"],"imagePath":"./dictionary_images/5_2____p48.png","raw_text":"\\n (Ficus)\\n Ficus pumila L. var. awkeotsang (Makino) Corner\\n ()()\\n()\\n :\\n \\n coumarinchromoneflavonoidtriterpenoid\\n \\n \\n \\n -\\n -\\n -\\n"},{"page":50,"title":"","content":[""," (Morus)"," Morus alba L."," ()",""," :"," "," steroidtriterpenoidflavonoidcoumarinessential oil","organic acidvitamin"," "],"imagePath":"./dictionary_images/5_2____p49.png","raw_text":"\\n (Morus)\\n Morus alba L.\\n ()\\n\\n :\\n \\n steroidtriterpenoidflavonoidcoumarinessential oil\\norganic acidvitamin\\n \\n"},{"page":51,"title":"","content":[""," "," "," "," ",""," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p50.png","raw_text":"\\n \\n \\n \\n \\n\\n \\n \\n \\n \\n \\n"},{"page":52,"title":"","content":["","Urticaceae"],"imagePath":"./dictionary_images/5_2____p51.png","raw_text":"\\nUrticaceae\\n"},{"page":53,"title":"","content":[""," 54792600"," "," "," ","",""],"imagePath":"./dictionary_images/5_2____p52.png","raw_text":"\\n 54792600\\n \\n \\n \\n\\n\\n"},{"page":54,"title":"","content":[""," ",""," "," ",""," ~"," ",""," ",""," "],"imagePath":"./dictionary_images/5_2____p53.png","raw_text":"\\n \\n\\n \\n \\n\\n ~\\n \\n\\n \\n\\n \\n"},{"page":55,"title":"","content":[""," (Boehmeria)"," Boehmeria nivea (L.) Gaudich."," ()()()()","","()"," :"," "," polyphenolflavonoidorganic acid"," "," -"," -"," "," "," -"],"imagePath":"./dictionary_images/5_2____p54.png","raw_text":"\\n (Boehmeria)\\n Boehmeria nivea (L.) Gaudich.\\n ()()()()\\n\\n()\\n :\\n \\n polyphenolflavonoidorganic acid\\n \\n -\\n -\\n \\n \\n -\\n"},{"page":56,"title":"","content":["","Polygonaceae"],"imagePath":"./dictionary_images/5_2____p55.png","raw_text":"\\nPolygonaceae\\n"},{"page":57,"title":"","content":[""," 501100"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p56.png","raw_text":"\\n 501100\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":58,"title":"","content":[""," "," ",""," ",""," 3-6"," 4-122"," "," 11"," ()",""],"imagePath":"./dictionary_images/5_2____p57.png","raw_text":"\\n \\n \\n\\n \\n\\n 3-6\\n 4-122\\n \\n 11\\n ()\\n\\n"},{"page":59,"title":"","content":[""," (Polygonum)"," Reynoutria japonica Houtt."," :()","",""," :"," "," quinonestilbeneflavonoidcoumarinlignan"," ",""],"imagePath":"./dictionary_images/5_2____p58.png","raw_text":"\\n (Polygonum)\\n Reynoutria japonica Houtt.\\n :()\\n\\n\\n :\\n \\n quinonestilbeneflavonoidcoumarinlignan\\n \\n\\n"},{"page":60,"title":"","content":[""," "," -"," "," -"," -"," "],"imagePath":"./dictionary_images/5_2____p59.png","raw_text":"\\n \\n -\\n \\n -\\n -\\n \\n"},{"page":61,"title":"","content":[""," (Polygonum)"," Polygonum chinense L."," ()()","KamunanPappisu()Boozyo'kk","Zyaboro'kk()"," :"," "," phenyldilactonecoumarin phenylpropionic tyramine lignan ","polyphenol"," "," "," "," "],"imagePath":"./dictionary_images/5_2____p60.png","raw_text":"\\n (Polygonum)\\n Polygonum chinense L.\\n ()()\\nKamunanPappisu()Boozyo'kk\\nZyaboro'kk()\\n :\\n \\n phenyldilactonecoumarin phenylpropionic tyramine lignan \\npolyphenol\\n \\n \\n \\n \\n"},{"page":62,"title":"","content":["","Nyctaginaceae"],"imagePath":"./dictionary_images/5_2____p61.png","raw_text":"\\nNyctaginaceae\\n"},{"page":63,"title":"","content":[""," 33290"," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p62.png","raw_text":"\\n 33290\\n \\n \\n \\n \\n \\n \\n"},{"page":64,"title":"","content":[""," "," "," ",""," 4-5 "," 1 2"," ","1 1 1",""," ()"],"imagePath":"./dictionary_images/5_2____p63.png","raw_text":"\\n \\n \\n \\n\\n 4-5 \\n 1 2\\n \\n1 1 1 \\n\\n ()\\n"},{"page":65,"title":"","content":[""," (Mirabilis)"," Mirabilis jalapa L."," ",""," :1600 "," "," alkaloidfatty acidsteroid"," "," "," "," -"," -"," -"," -"," -"," -"],"imagePath":"./dictionary_images/5_2____p64.png","raw_text":"\\n (Mirabilis)\\n Mirabilis jalapa L.\\n \\n\\n :1600 \\n \\n alkaloidfatty acidsteroid\\n \\n \\n \\n -\\n -\\n -\\n -\\n -\\n -\\n"},{"page":66,"title":"","content":["","Chenopodiaceae"],"imagePath":"./dictionary_images/5_2____p65.png","raw_text":"\\nChenopodiaceae\\n"},{"page":67,"title":"","content":[""," 1301500"," "," "," "," 2003APG II","",""," "," "," "],"imagePath":"./dictionary_images/5_2____p66.png","raw_text":"\\n 1301500\\n \\n \\n \\n 2003APG II\\n\\n\\n \\n \\n \\n"},{"page":68,"title":"","content":[""," "," "," "," ",""," 1-5 "," "," 2-4 "," 22-3 1 ",""," "],"imagePath":"./dictionary_images/5_2____p67.png","raw_text":"\\n \\n \\n \\n \\n\\n 1-5 \\n \\n 2-4 \\n 22-3 1 \\n\\n \\n"},{"page":69,"title":"","content":[""," (Chenopodium)"," Chenopodium formosanum Koidz."," "," :"," "," alkaloid glycosidetriterpenesteroidpolyphenol","flavonoid"," "," alkaloid glycoside"],"imagePath":"./dictionary_images/5_2____p68.png","raw_text":"\\n (Chenopodium)\\n Chenopodium formosanum Koidz.\\n \\n :\\n \\n alkaloid glycosidetriterpenesteroidpolyphenol\\nflavonoid\\n \\n alkaloid glycoside\\n"},{"page":70,"title":"","content":[""," -"," ",""," ()"," "," -"," -"," -"],"imagePath":"./dictionary_images/5_2____p69.png","raw_text":"\\n -\\n \\n\\n ()\\n \\n -\\n -\\n -\\n"},{"page":71,"title":"","content":[""," (Chenopodium)"," Chenopodium ambrosioides (L.) Mosyakin &","Clemants"," ","",""," :"," "," essential oil"," "," ",""," "," "],"imagePath":"./dictionary_images/5_2____p70.png","raw_text":"\\n (Chenopodium)\\n Chenopodium ambrosioides (L.) Mosyakin & \\nClemants\\n \\n\\n\\n :\\n \\n essential oil\\n \\n \\n\\n \\n \\n"},{"page":72,"title":"","content":["","Amaranthaceae"],"imagePath":"./dictionary_images/5_2____p71.png","raw_text":"\\nAmaranthaceae\\n"},{"page":73,"title":"","content":[""," 1602400"," "," "," "," 2003APG II "],"imagePath":"./dictionary_images/5_2____p72.png","raw_text":"\\n 1602400\\n \\n \\n \\n 2003APG II \\n"},{"page":74,"title":"","content":[""," "," "," ",""," 35 "," 15 "," 11"," "],"imagePath":"./dictionary_images/5_2____p73.png","raw_text":"\\n \\n \\n \\n\\n 35 \\n 15 \\n 11\\n \\n"},{"page":75,"title":"","content":[""," "," 65900",""," "," "," :"," "," 1001400"],"imagePath":"./dictionary_images/5_2____p74.png","raw_text":"\\n \\n 65900\\n\\n \\n \\n :\\n \\n 1001400\\n"},{"page":76,"title":"","content":[""," (Celosia)"," Celosia argentea L."," :",""," :"," "," lipidvitamin B3triterpenoid saponin"," "," -"," "," "," "," -"," -"," -"],"imagePath":"./dictionary_images/5_2____p75.png","raw_text":"\\n (Celosia)\\n Celosia argentea L.\\n :\\n\\n :\\n \\n lipidvitamin B3triterpenoid saponin\\n \\n -\\n \\n \\n \\n -\\n -\\n -\\n"},{"page":77,"title":"","content":["","Basellaceae"],"imagePath":"./dictionary_images/5_2____p76.png","raw_text":"\\nBasellaceae\\n"},{"page":78,"title":"","content":[""," 425"," "," "," "," "," "," "," "],"imagePath":"./dictionary_images/5_2____p77.png","raw_text":"\\n 425\\n \\n \\n \\n \\n \\n \\n \\n"},{"page":79,"title":"","content":[""," "," "," "," 2"," 5"," "," 52"," 331",""," "],"imagePath":"./dictionary_images/5_2____p78.png","raw_text":"\\n \\n \\n \\n 2\\n 5\\n \\n 52\\n 331\\n\\n \\n"},{"page":80,"title":"","content":[""," (Anredera)"," Anredera cordifolia (Ten.) Steenis"," ",""," :65"," "," flavonoidalkaloidphenylpropanoidtriterpenoidsaponin","protein"," "," "," -"," "," -"," -"],"imagePath":"./dictionary_images/5_2____p79.png","raw_text":"\\n (Anredera)\\n Anredera cordifolia (Ten.) Steenis\\n \\n\\n :65\\n \\n flavonoidalkaloidphenylpropanoidtriterpenoidsaponin\\nprotein\\n \\n \\n -\\n \\n -\\n -\\n"},{"page":81,"title":"","content":[""," (Basella)"," Basella alba L."," ()","()()","()"," :"," flavonoidtanninsaponin"," "," "," "," "],"imagePath":"./dictionary_images/5_2____p80.png","raw_text":"\\n (Basella)\\n Basella alba L.\\n ()\\n()()\\n()\\n :\\n flavonoidtanninsaponin\\n \\n \\n \\n \\n"},{"page":82,"title":"","content":["","Portulacaceae"],"imagePath":"./dictionary_images/5_2____p81.png","raw_text":"\\nPortulacaceae\\n"},{"page":83,"title":"","content":[""," 19580"," "," "," "," "," "," ","10"," "," "," "," "],"imagePath":"./dictionary_images/5_2____p82.png","raw_text":"\\n 19580\\n \\n \\n \\n \\n \\n \\n10\\n \\n \\n \\n \\n"},{"page":84,"title":"","content":[""," "," "," "," 2 -3"," 2-12 "," 2"," 3 3 ","1 "," ()"],"imagePath":"./dictionary_images/5_2____p83.png","raw_text":"\\n \\n \\n \\n 2 -3\\n 2-12 \\n 2\\n 3 3 \\n1 \\n ()\\n"},{"page":85,"title":"","content":[""," (Portulaca)"," Portulaca oleracea L."," :()()","()(",")()"," :"," "," noradrenalinek saltdopaminbetaxanthin"," "," "," "," ",""," "],"imagePath":"./dictionary_images/5_2____p84.png","raw_text":"\\n (Portulaca)\\n Portulaca oleracea L.\\n :()()\\n()(\\n)()\\n :\\n \\n noradrenalinek saltdopaminbetaxanthin\\n \\n \\n \\n \\n\\n \\n"},{"page":86,"title":"","content":["","Caryophyllaceae"],"imagePath":"./dictionary_images/5_2____p85.png","raw_text":"\\nCaryophyllaceae\\n"},{"page":87,"title":"","content":[""," 86200"," "," "," "," Colobanthus quitensis",""," "," "," "],"imagePath":"./dictionary_images/5_2____p86.png","raw_text":"\\n 86200\\n \\n \\n \\n Colobanthus quitensis\\n\\n \\n \\n \\n"},{"page":88,"title":"","content":[""," "," "," ",""," (2)",""," 4-5"," "," 4-1022"," 2-51-3","1"," "],"imagePath":"./dictionary_images/5_2____p87.png","raw_text":"\\n \\n \\n \\n\\n (2)\\n\\n 4-5\\n \\n 4-1022\\n 2-51-3\\n1\\n \\n"},{"page":89,"title":"","content":[""," (Drymaria )"," Drymaria cordata (L.) Willd. ex Schult."," Pakkaitu()Zyazyoai(",")"," :"," "," "," alkaloid"," (HIV)"," "," "," -"," "," "," "],"imagePath":"./dictionary_images/5_2____p88.png","raw_text":"\\n (Drymaria )\\n Drymaria cordata (L.) Willd. ex Schult.\\n Pakkaitu()Zyazyoai(\\n)\\n :\\n \\n \\n alkaloid\\n (HIV)\\n \\n \\n -\\n \\n \\n \\n"}]}]`),Tb=()=>{const[a,t]=G.useState(""),[e,n]=G.useState([]),[s,o]=G.useState(null);return G.useEffect(()=>{const l=new Date().toDateString(),c=JSON.parse(localStorage.getItem("daily_recommendation"));if(c&&c.date===l)o(c.word);else{const h=[];if(em.forEach(d=>{d.pages.forEach(p=>{p.title&&p.title.length<50&&h.push(p.title)})}),h.length>0){const d=h[Math.floor(Math.random()*h.length)];o(d),localStorage.setItem("daily_recommendation",JSON.stringify({date:l,word:d}))}}},[]),G.useEffect(()=>{if(!a.trim()){n([]);return}const l=a.toLowerCase(),c=[];em.forEach(h=>{h.pages.forEach(d=>{if(d.content.some(g=>g.toLowerCase().includes(l))){const g=d.content.filter(_=>_.toLowerCase().includes(l));c.push({source:h.source,page:d.page,title:d.title,imagePath:d.imagePath,matches:g,fullContent:d.content})}})}),n(c)},[a]),k.jsx("div",{className:"h-full w-full flex flex-col items-center p-4 md:p-8 overflow-y-auto",children:k.jsxs("div",{className:"w-full max-w-[90%] space-y-8 animate-fade-in pb-20",children:[k.jsxs("div",{className:"text-center space-y-2",children:[k.jsx("h2",{className:"text-4xl font-black bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-400",children:"Dictionary Search"}),k.jsx("p",{className:"text-gray-400",children:"Find any plant, definition, or detail instantly"})]}),k.jsxs("div",{className:"relative group",children:[k.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-600 to-cyan-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-200"}),k.jsxs("div",{className:"relative flex items-center bg-gray-900 border border-gray-700 rounded-xl p-4 shadow-2xl",children:[k.jsx(ry,{className:"text-gray-400 mr-3"}),k.jsx("input",{type:"text",placeholder:"Search for plants, terms...",className:"bg-transparent border-none outline-none text-white text-lg w-full placeholder-gray-500",value:a,onChange:l=>t(l.target.value),autoFocus:!0}),a&&k.jsx("button",{onClick:()=>t(""),className:"text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 px-2 py-1 rounded",children:"Clear"})]})]}),!a&&s&&k.jsxs("div",{className:"w-full bg-gradient-to-r from-purple-900/40 to-blue-900/40 border border-indigo-500/30 rounded-2xl p-6 flex flex-col md:flex-row items-center justify-between gap-4 shadow-lg backdrop-blur-sm cursor-pointer hover:border-indigo-500/60 transition-all",onClick:()=>t(s),children:[k.jsxs("div",{className:"flex items-start gap-4",children:[k.jsx("div",{className:"p-3 bg-indigo-500/20 rounded-full text-indigo-400",children:k.jsx(xb,{size:24})}),k.jsxs("div",{children:[k.jsx("h3",{className:"text-sm font-bold text-indigo-300 uppercase tracking-widest mb-1",children:"Daily Pick"}),k.jsx("p",{className:"text-2xl font-bold text-white leading-none",children:s})]})]}),k.jsx("button",{className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium text-sm whitespace-nowrap",children:"Search This"})]}),k.jsx("div",{className:"space-y-4",children:e.length===0&&a.trim()?k.jsxs("div",{className:"text-center py-12 text-gray-500",children:['No matches found for "',a,'"']}):a.trim()?e.map((l,c)=>k.jsx("div",{className:"bg-gray-800/50 border border-gray-700 rounded-xl p-5 hover:bg-gray-800 transition-colors",children:k.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[k.jsx("div",{className:"shrink-0 md:w-[45%] lg:w-[40%]",children:k.jsxs("div",{className:"w-full aspect-video bg-black rounded-lg overflow-hidden border border-gray-700 relative group",children:[k.jsx("img",{src:l.imagePath,alt:`Page ${l.page}`,className:"w-full h-full object-contain",onError:h=>{h.target.style.display="none"}}),k.jsx("a",{href:l.imagePath,target:"_blank",rel:"noreferrer",className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white font-bold transition-opacity",children:"View Full Image"})]})}),k.jsxs("div",{className:"flex-1 space-y-4",children:[k.jsx("div",{className:"flex justify-between items-start",children:k.jsxs("div",{children:[k.jsx("h3",{className:"text-2xl font-bold text-emerald-400",children:l.title}),k.jsxs("span",{className:"text-sm text-gray-500",children:[l.source,"  Page ",l.page]})]})}),k.jsx("div",{className:"bg-gray-900/50 p-4 rounded-lg border border-gray-700/50",children:l.matches.slice(0,3).map((h,d)=>k.jsxs("p",{className:"text-base text-gray-300 mb-2 last:mb-0 font-mono",children:["...",h,"..."]},d))}),k.jsxs("details",{className:"text-base",children:[k.jsx("summary",{className:"cursor-pointer text-gray-400 hover:text-white transition-colors select-none",children:"Show Full Text"}),k.jsx("div",{className:"mt-2 text-gray-300 pl-4 border-l-2 border-gray-700 max-h-60 overflow-y-auto whitespace-pre-wrap",children:l.fullContent.join(`
`)})]})]})]})},c)):k.jsxs("div",{className:"text-center text-gray-500 mt-10 flex flex-col items-center",children:[k.jsx(ey,{size:48,className:"mb-4 opacity-50"}),k.jsx("p",{children:"Enter a term to search the knowledge base."})]})})]})})},Te=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$u=[.001,0,0,.001,0,0],Pu=1.35,We={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},hi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Wr="pdfjs_internal_editor_",Pt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ct={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Lb={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Wu={TRIANGLES:1,LATTICE:2},ge={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ro={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ie={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},bs={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},sl={ERRORS:0,WARNINGS:1,INFOS:5},qr={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Tr={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Mb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let rl=sl.WARNINGS;function Ib(a){Number.isInteger(a)&&(rl=a)}function Db(){return rl}function al(a){rl>=sl.INFOS&&console.info(`Info: ${a}`)}function xt(a){rl>=sl.WARNINGS&&console.warn(`Warning: ${a}`)}function Nt(a){throw new Error(a)}function kt(a,t){a||Nt(t)}function Rb(a){switch(a?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oy(a,t=null,e=null){if(!a)return null;if(e&&typeof a=="string"&&(e.addDefaultProtocol&&a.startsWith("www.")&&a.match(/\./g)?.length>=2&&(a=`http://${a}`),e.tryConvertEncoding))try{a=jb(a)}catch{}const n=t?URL.parse(a,t):URL.parse(a);return Rb(n)?n:null}function ly(a,t,e=!1){const n=URL.parse(a);return n?(n.hash=t,n.href):e&&oy(a,"http://example.com")?a.split("#",1)[0]+`${t?`#${t}`:""}`:""}function bt(a,t,e,n=!1){return Object.defineProperty(a,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const Ki=(function(){function t(e,n){this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t})();class nm extends Ki{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Au extends Ki{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class qu extends Ki{constructor(t){super(t,"InvalidPDFException")}}class Wo extends Ki{constructor(t,e,n){super(t,"ResponseException"),this.status=e,this.missing=n}}class Nb extends Ki{constructor(t){super(t,"FormatError")}}class mi extends Ki{constructor(t){super(t,"AbortException")}}function cy(a){(typeof a!="object"||a?.length===void 0)&&Nt("Invalid argument for bytesToString");const t=a.length,e=8192;if(t<e)return String.fromCharCode.apply(null,a);const n=[];for(let s=0;s<t;s+=e){const o=Math.min(s+e,t),l=a.subarray(s,o);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function ea(a){typeof a!="string"&&Nt("Invalid argument for stringToBytes");const t=a.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=a.charCodeAt(n)&255;return e}function Fb(a){return String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255)}function Ob(){const a=new Uint8Array(4);return a[0]=1,new Uint32Array(a.buffer,0,1)[0]===1}function Bb(){try{return new Function(""),!0}catch{return!1}}class ye{static get isLittleEndian(){return bt(this,"isLittleEndian",Ob())}static get isEvalSupported(){return bt(this,"isEvalSupported",Bb())}static get isOffscreenCanvasSupported(){return bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return bt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return bt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return bt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:t,userAgent:e}=navigator;return bt(this,"platform",{isAndroid:e.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:e.includes("Firefox")})}static get isCSSRoundSupported(){return bt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Su=Array.from(Array(256).keys(),a=>a.toString(16).padStart(2,"0"));class ot{static makeHexColor(t,e,n){return`#${Su[t]}${Su[e]}${Su[n]}`}static domMatrixToTransform(t){return[t.a,t.b,t.c,t.d,t.e,t.f]}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static multiplyByDOMMatrix(t,e){return[t[0]*e.a+t[2]*e.b,t[1]*e.a+t[3]*e.b,t[0]*e.c+t[2]*e.d,t[1]*e.c+t[3]*e.d,t[0]*e.e+t[2]*e.f+t[4],t[1]*e.e+t[3]*e.f+t[5]]}static applyTransform(t,e,n=0){const s=t[n],o=t[n+1];t[n]=s*e[0]+o*e[2]+e[4],t[n+1]=s*e[1]+o*e[3]+e[5]}static applyTransformToBezier(t,e,n=0){const s=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5];for(let p=0;p<6;p+=2){const g=t[n+p],_=t[n+p+1];t[n+p]=g*s+_*l+h,t[n+p+1]=g*o+_*c+d}}static applyInverseTransform(t,e){const n=t[0],s=t[1],o=e[0]*e[3]-e[1]*e[2];t[0]=(n*e[3]-s*e[2]+e[2]*e[5]-e[4]*e[3])/o,t[1]=(-n*e[1]+s*e[0]+e[4]*e[1]-e[5]*e[0])/o}static axialAlignedBoundingBox(t,e,n){const s=e[0],o=e[1],l=e[2],c=e[3],h=e[4],d=e[5],p=t[0],g=t[1],_=t[2],v=t[3];let x=s*p+h,w=x,P=s*_+h,A=P,C=c*g+d,S=C,E=c*v+d,T=E;if(o!==0||l!==0){const M=o*p,N=o*_,O=l*g,V=l*v;x+=O,A+=O,P+=V,w+=V,C+=M,T+=M,E+=N,S+=N}n[0]=Math.min(n[0],x,P,w,A),n[1]=Math.min(n[1],C,E,S,T),n[2]=Math.max(n[2],x,P,w,A),n[3]=Math.max(n[3],C,E,S,T)}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t,e){const n=t[0],s=t[1],o=t[2],l=t[3],c=n**2+s**2,h=n*o+s*l,d=o**2+l**2,p=(c+d)/2,g=Math.sqrt(p**2-(c*d-h**2));e[0]=Math.sqrt(p+g||1),e[1]=Math.sqrt(p-g||1)}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),s=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>s)return null;const o=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return o>l?null:[n,o,s,l]}static pointBoundingBox(t,e,n){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}static rectBoundingBox(t,e,n,s,o){o[0]=Math.min(o[0],t,n),o[1]=Math.min(o[1],e,s),o[2]=Math.max(o[2],t,n),o[3]=Math.max(o[3],e,s)}static#t(t,e,n,s,o,l,c,h,d,p){if(d<=0||d>=1)return;const g=1-d,_=d*d,v=_*d,x=g*(g*(g*t+3*d*e)+3*_*n)+v*s,w=g*(g*(g*o+3*d*l)+3*_*c)+v*h;p[0]=Math.min(p[0],x),p[1]=Math.min(p[1],w),p[2]=Math.max(p[2],x),p[3]=Math.max(p[3],w)}static#e(t,e,n,s,o,l,c,h,d,p,g,_){if(Math.abs(d)<1e-12){Math.abs(p)>=1e-12&&this.#t(t,e,n,s,o,l,c,h,-g/p,_);return}const v=p**2-4*g*d;if(v<0)return;const x=Math.sqrt(v),w=2*d;this.#t(t,e,n,s,o,l,c,h,(-p+x)/w,_),this.#t(t,e,n,s,o,l,c,h,(-p-x)/w,_)}static bezierBoundingBox(t,e,n,s,o,l,c,h,d){d[0]=Math.min(d[0],t,c),d[1]=Math.min(d[1],e,h),d[2]=Math.max(d[2],t,c),d[3]=Math.max(d[3],e,h),this.#e(t,n,o,c,e,s,l,h,3*(-t+3*(n-o)+c),6*(t-2*n+o),3*(n-t),d),this.#e(t,n,o,c,e,s,l,h,3*(-e+3*(s-l)+h),6*(e-2*s+l),3*(s-e),d)}}function jb(a){return decodeURIComponent(escape(a))}let Cu=null,im=null;function zb(a){return Cu||(Cu=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,im=new Map([["","t"]])),a.replaceAll(Cu,(t,e,n)=>e?e.normalize("NFKC"):im.get(n))}function uy(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const a=new Uint8Array(32);return crypto.getRandomValues(a),cy(a)}const Ts="pdfjs_internal_id_";function Vb(a,t,e){if(!Array.isArray(e)||e.length<2)return!1;const[n,s,...o]=e;if(!a(n)&&!Number.isInteger(n)||!t(s))return!1;const l=o.length;let c=!0;switch(s.name){case"XYZ":if(l<2||l>3)return!1;break;case"Fit":case"FitB":return l===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(l>1)return!1;break;case"FitR":if(l!==4)return!1;c=!1;break;default:return!1}for(const h of o)if(!(typeof h=="number"||c&&h===null))return!1;return!0}function Le(a,t,e){return Math.min(Math.max(a,t),e)}function hy(a){return Uint8Array.prototype.toBase64?a.toBase64():btoa(cy(a))}function Hb(a){return Uint8Array.fromBase64?Uint8Array.fromBase64(a):ea(atob(a))}typeof Promise.try!="function"&&(Promise.try=function(a,...t){return new Promise(e=>{e(a(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(a){return a.reduce((t,e)=>t+e,0)});class Kr{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function s(o){if(!o)return;let l=null;const c=o.name;if(c==="#text")l=o.value;else if(Kr.shouldBuildText(c))o?.attributes?.textContent?l=o.attributes.textContent:o.value&&(l=o.value);else return;if(l!==null&&e.push({str:l}),!!o.children)for(const h of o.children)s(h)}return s(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}class dy{static setupStorage(t,e,n,s,o){const l=s.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),o==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),o==="print")break;t.addEventListener("change",c=>{s.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),o==="print")break;t.addEventListener("input",c=>{s.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const h=c.target.options,d=h.selectedIndex===-1?"":h[h.selectedIndex].value;s.setValue(e,{value:d})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:s,linkService:o}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${s}`);for(const[h,d]of Object.entries(l))if(d!=null)switch(h){case"class":d.length&&t.setAttribute(h,d.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",d);break;case"style":Object.assign(t.style,d);break;case"textContent":t.textContent=d;break;default:(!c||h!=="href"&&h!=="newWindow")&&t.setAttribute(h,d)}c&&o.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){const e=t.annotationStorage,n=t.linkService,s=t.xfaHtml,o=t.intent||"display",l=document.createElement(s.name);s.attributes&&this.setAttributes({html:l,element:s,intent:o,linkService:n});const c=o!=="richText",h=t.div;if(h.append(l),t.viewport){const g=`matrix(${t.viewport.transform.join(",")})`;h.style.transform=g}c&&h.setAttribute("class","xfaLayer xfaFont");const d=[];if(s.children.length===0){if(s.value){const g=document.createTextNode(s.value);l.append(g),c&&Kr.shouldBuildText(s.name)&&d.push(g)}return{textDivs:d}}const p=[[s,-1,l]];for(;p.length>0;){const[g,_,v]=p.at(-1);if(_+1===g.children.length){p.pop();continue}const x=g.children[++p.at(-1)[1]];if(x===null)continue;const{name:w}=x;if(w==="#text"){const A=document.createTextNode(x.value);d.push(A),v.append(A);continue}const P=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,w):document.createElement(w);if(v.append(P),x.attributes&&this.setAttributes({html:P,element:x,storage:e,intent:o,linkService:n}),x.children?.length>0)p.push([x,-1,P]);else if(x.value){const A=document.createTextNode(x.value);c&&Kr.shouldBuildText(w)&&d.push(A),P.append(A)}}for(const g of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))g.setAttribute("readOnly",!0);return{textDivs:d}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const On="http://www.w3.org/2000/svg";class js{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function na(a,t="text"){if(Nr(a,document.baseURI)){const e=await fetch(a);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const s=new XMLHttpRequest;s.open("GET",a,!0),s.responseType=t,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(s.response);return}e(s.responseText);return}n(new Error(s.statusText))}},s.send(null)})}class ia{constructor({viewBox:t,userUnit:e,scale:n,rotation:s,offsetX:o=0,offsetY:l=0,dontFlip:c=!1}){this.viewBox=t,this.userUnit=e,this.scale=n,this.rotation=s,this.offsetX=o,this.offsetY=l,n*=e;const h=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,g,_,v;switch(s%=360,s<0&&(s+=360),s){case 180:p=-1,g=0,_=0,v=1;break;case 90:p=0,g=1,_=1,v=0;break;case 270:p=0,g=-1,_=-1,v=0;break;case 0:p=1,g=0,_=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(_=-_,v=-v);let x,w,P,A;p===0?(x=Math.abs(d-t[1])*n+o,w=Math.abs(h-t[0])*n+l,P=(t[3]-t[1])*n,A=(t[2]-t[0])*n):(x=Math.abs(h-t[0])*n+o,w=Math.abs(d-t[1])*n+l,P=(t[2]-t[0])*n,A=(t[3]-t[1])*n),this.transform=[p*n,g*n,_*n,v*n,x-p*n*h-_*n*d,w-g*n*h-v*n*d],this.width=P,this.height=A}get rawDims(){const t=this.viewBox;return bt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new ia({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:o})}convertToViewportPoint(t,e){const n=[t,e];return ot.applyTransform(n,this.transform),n}convertToViewportRectangle(t){const e=[t[0],t[1]];ot.applyTransform(e,this.transform);const n=[t[2],t[3]];return ot.applyTransform(n,this.transform),[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){const n=[t,e];return ot.applyInverseTransform(n,this.transform),n}}class Mh extends Ki{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function ol(a){const t=a.length;let e=0;for(;e<t&&a[e].trim()==="";)e++;return a.substring(e,e+5).toLowerCase()==="data:"}function Ih(a){return typeof a=="string"&&/\.pdf$/i.test(a)}function Ub(a){return[a]=a.split(/[#?]/,1),a.substring(a.lastIndexOf("/")+1)}function Gb(a,t="document.pdf"){if(typeof a!="string")return t;if(ol(a))return xt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(a);if(!n)return t;const s=c=>{try{let h=decodeURIComponent(c);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:c):h}catch{return c}},o=/\.pdf$/i,l=n.pathname.split("/").at(-1);if(o.test(l))return s(l);if(n.searchParams.size>0){const c=Array.from(n.searchParams.values()).reverse();for(const d of c)if(o.test(d))return s(d);const h=Array.from(n.searchParams.keys()).reverse();for(const d of h)if(o.test(d))return s(d)}if(n.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(h)return s(h[0])}return t}class sm{started=Object.create(null);times=[];time(t){t in this.started&&xt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||xt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:s,end:o}of this.times)t.push(`${n.padEnd(e)} ${o-s}ms
`);return t.join("")}}function Nr(a,t){const e=t?URL.parse(a,t):URL.parse(a);return e?.protocol==="http:"||e?.protocol==="https:"}function on(a){a.preventDefault()}function Xt(a){a.preventDefault(),a.stopPropagation()}function $b(a){console.log("Deprecated API usage: "+a)}class Ku{static#t;static toDateObject(t){if(t instanceof Date)return t;if(!t||typeof t!="string")return null;this.#t||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const e=this.#t.exec(t);if(!e)return null;const n=parseInt(e[1],10);let s=parseInt(e[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(e[3],10);o=o>=1&&o<=31?o:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let h=parseInt(e[6],10);h=h>=0&&h<=59?h:0;const d=e[7]||"Z";let p=parseInt(e[8],10);p=p>=0&&p<=23?p:0;let g=parseInt(e[9],10)||0;return g=g>=0&&g<=59?g:0,d==="-"?(l+=p,c+=g):d==="+"&&(l-=p,c-=g),new Date(Date.UTC(n,s,o,l,c,h))}}function Wb(a,{scale:t=1,rotation:e=0}){const{width:n,height:s}=a.attributes.style,o=[0,0,parseInt(n),parseInt(s)];return new ia({viewBox:o,userUnit:1,scale:t,rotation:e})}function sa(a){if(a.startsWith("#")){const t=parseInt(a.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return a.startsWith("rgb(")?a.slice(4,-1).split(",").map(t=>parseInt(t)):a.startsWith("rgba(")?a.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(xt(`Not a valid color format: "${a}"`),[0,0,0])}function qb(a){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const e of a.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;a.set(e,sa(n))}t.remove()}function $t(a){const{a:t,b:e,c:n,d:s,e:o,f:l}=a.getTransform();return[t,e,n,s,o,l]}function Pn(a){const{a:t,b:e,c:n,d:s,e:o,f:l}=a.getTransform().invertSelf();return[t,e,n,s,o,l]}function Gi(a,t,e=!1,n=!0){if(t instanceof ia){const{pageWidth:s,pageHeight:o}=t.rawDims,{style:l}=a,c=ye.isCSSRoundSupported,h=`var(--total-scale-factor) * ${s}px`,d=`var(--total-scale-factor) * ${o}px`,p=c?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,g=c?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!e||t.rotation%180===0?(l.width=p,l.height=g):(l.width=g,l.height=p)}n&&a.setAttribute("data-main-rotation",t.rotation)}class En{constructor(){const{pixelRatio:t}=En;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,e,n,s,o=-1){let l=1/0,c=1/0,h=1/0;n=En.capPixels(n,o),n>0&&(l=Math.sqrt(n/(t*e))),s!==-1&&(c=s/t,h=s/e);const d=Math.min(l,c,h);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,e){if(e>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+e/100));return t>0?Math.min(t,n):n}return t}}const Xu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Kb{static get isDarkMode(){return bt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Xb{static get commentForegroundColor(){const t=document.createElement("span");t.classList.add("comment","sidebar");const{style:e}=t;e.width=e.height="0",e.display="none",e.color="var(--comment-fg-color)",document.body.append(t);const{color:n}=window.getComputedStyle(t);return t.remove(),bt(this,"commentForegroundColor",sa(n))}}function Yb(a,t,e,n){n=Math.min(Math.max(n??1,0),1);const s=255*(1-n);return a=Math.round(a*n+s),t=Math.round(t*n+s),e=Math.round(e*n+s),[a,t,e]}function rm(a,t){const e=a[0]/255,n=a[1]/255,s=a[2]/255,o=Math.max(e,n,s),l=Math.min(e,n,s),c=(o+l)/2;if(o===l)t[0]=t[1]=0;else{const h=o-l;switch(t[1]=c<.5?h/(o+l):h/(2-o-l),o){case e:t[0]=((n-s)/h+(n<s?6:0))*60;break;case n:t[0]=((s-e)/h+2)*60;break;case s:t[0]=((e-n)/h+4)*60;break}}t[2]=c}function Yu(a,t){const e=a[0],n=a[1],s=a[2],o=(1-Math.abs(2*s-1))*n,l=o*(1-Math.abs(e/60%2-1)),c=s-o/2;switch(Math.floor(e/60)){case 0:t[0]=o+c,t[1]=l+c,t[2]=c;break;case 1:t[0]=l+c,t[1]=o+c,t[2]=c;break;case 2:t[0]=c,t[1]=o+c,t[2]=l+c;break;case 3:t[0]=c,t[1]=l+c,t[2]=o+c;break;case 4:t[0]=l+c,t[1]=c,t[2]=o+c;break;case 5:case 6:t[0]=o+c,t[1]=c,t[2]=l+c;break}}function am(a){return a<=.03928?a/12.92:((a+.055)/1.055)**2.4}function om(a,t,e){Yu(a,e),e.map(am);const n=.2126*e[0]+.7152*e[1]+.0722*e[2];Yu(t,e),e.map(am);const s=.2126*e[0]+.7152*e[1]+.0722*e[2];return n>s?(n+.05)/(s+.05):(s+.05)/(n+.05)}const lm=new Map;function Qb(a,t){const e=a[0]+a[1]*256+a[2]*65536+t[0]*16777216+t[1]*4294967296+t[2]*1099511627776;let n=lm.get(e);if(n)return n;const s=new Float32Array(9),o=s.subarray(0,3),l=s.subarray(3,6);rm(a,l);const c=s.subarray(6,9);rm(t,c);const h=c[2]<.5,d=h?12:4.5;if(l[2]=h?Math.sqrt(l[2]):1-Math.sqrt(1-l[2]),om(l,c,o)<d){let p,g;h?(p=l[2],g=1):(p=0,g=l[2]);const _=.005;for(;g-p>_;){const v=l[2]=(p+g)/2;h===om(l,c,o)<d?p=v:g=v}l[2]=h?g:p}return Yu(l,o),n=ot.makeHexColor(Math.round(o[0]*255),Math.round(o[1]*255),Math.round(o[2]*255)),lm.set(e,n),n}function py({html:a,dir:t,className:e},n){const s=document.createDocumentFragment();if(typeof a=="string"){const o=document.createElement("p");o.dir=t||"auto";const l=a.split(/(?:\r\n?|\n)/);for(let c=0,h=l.length;c<h;++c){const d=l[c];o.append(document.createTextNode(d)),c<h-1&&o.append(document.createElement("br"))}s.append(o)}else dy.render({xfaHtml:a,div:s,intent:"richText"});s.firstElementChild.classList.add("richText",e),n.append(s)}function fy(a){const t=new Path2D;if(!a)return t;for(let e=0,n=a.length;e<n;)switch(a[e++]){case Tr.moveTo:t.moveTo(a[e++],a[e++]);break;case Tr.lineTo:t.lineTo(a[e++],a[e++]);break;case Tr.curveTo:t.bezierCurveTo(a[e++],a[e++],a[e++],a[e++],a[e++],a[e++]);break;case Tr.quadraticCurveTo:t.quadraticCurveTo(a[e++],a[e++],a[e++],a[e++]);break;case Tr.closePath:t.closePath();break;default:xt(`Unrecognized drawing path operator: ${a[e-1]}`);break}return t}class Hr{#t=null;#e=null;#i;#n=null;#a=null;#r=null;#s=null;#o=null;static#c=null;constructor(t){this.#i=t,Hr.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const t=this.#t=document.createElement("div");t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const e=this.#i._uiManager._signal;e instanceof AbortSignal&&!e.aborted&&(t.addEventListener("contextmenu",on,{signal:e}),t.addEventListener("pointerdown",Hr.#l,{signal:e}));const n=this.#n=document.createElement("div");n.className="buttons",t.append(n);const s=this.#i.toolbarPosition;if(s){const{style:o}=t,l=this.#i._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*l}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return this.#t}static#l(t){t.stopPropagation()}#d(t){this.#i._focusEventsAllowed=!1,Xt(t)}#h(t){this.#i._focusEventsAllowed=!0,Xt(t)}#p(t){const e=this.#i._uiManager._signal;return!(e instanceof AbortSignal)||e.aborted?!1:(t.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",on,{signal:e}),!0)}hide(){this.#t.classList.add("hidden"),this.#e?.hideDropdown()}show(){this.#t.classList.remove("hidden"),this.#a?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:t,_uiManager:e}=this.#i,n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",Hr.#c[t]),this.#p(n)&&n.addEventListener("click",s=>{e.delete()},{signal:e._signal}),this.#n.append(n)}get#m(){const t=document.createElement("div");return t.className="divider",t}async addAltText(t){const e=await t.render();this.#p(e),this.#n.append(e,this.#m),this.#a=t}addComment(t,e=null){if(this.#r)return;const n=t.renderForToolbar();if(!n)return;this.#p(n);const s=this.#s=this.#m;e?(this.#n.insertBefore(n,e),this.#n.insertBefore(s,e)):this.#n.append(n,s),this.#r=t,t.toolbar=this}addColorPicker(t){if(this.#e)return;this.#e=t;const e=t.renderButton();this.#p(e),this.#n.append(e,this.#m)}async addEditSignatureButton(t){const e=this.#o=await t.renderEditButton(this.#i);this.#p(e),this.#n.append(e,this.#m)}removeButton(t){switch(t){case"comment":this.#r?.removeToolbarCommentButton(),this.#r=null,this.#s?.remove(),this.#s=null;break}}async addButton(t,e){switch(t){case"colorPicker":e&&this.addColorPicker(e);break;case"altText":e&&await this.addAltText(e);break;case"editSignature":e&&await this.addEditSignatureButton(e);break;case"delete":this.addDeleteButton();break;case"comment":e&&this.addComment(e);break}}async addButtonBefore(t,e,n){if(!e&&t==="comment")return;const s=this.#n.querySelector(n);s&&t==="comment"&&this.addComment(e,s)}updateEditSignatureButton(t){this.#o&&(this.#o.title=t)}remove(){this.#t.remove(),this.#e?.destroy(),this.#e=null}}class Jb{#t=null;#e=null;#i;constructor(t){this.#i=t}#n(){const t=this.#e=document.createElement("div");t.className="editToolbar",t.setAttribute("role","toolbar");const e=this.#i._signal;e instanceof AbortSignal&&!e.aborted&&t.addEventListener("contextmenu",on,{signal:e});const n=this.#t=document.createElement("div");return n.className="buttons",t.append(n),this.#i.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),t}#a(t,e){let n=0,s=0;for(const o of t){const l=o.y+o.height;if(l<n)continue;const c=o.x+(e?o.width:0);if(l>n){s=c,n=l;continue}e?c>s&&(s=c):c<s&&(s=c)}return[e?1-s:s,n]}show(t,e,n){const[s,o]=this.#a(e,n),{style:l}=this.#e||=this.#n();t.append(this.#e),l.insetInlineEnd=`${100*s}%`,l.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#e.remove()}#r(t,e,n,s){const o=document.createElement("button");o.classList.add("basic",t),o.tabIndex=0,o.setAttribute("data-l10n-id",e);const l=document.createElement("span");o.append(l),l.className="visuallyHidden",l.setAttribute("data-l10n-id",n);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(o.addEventListener("contextmenu",on,{signal:c}),o.addEventListener("click",s,{signal:c})),this.#t.append(o)}}function gy(a,t,e){for(const n of e)t.addEventListener(n,a[n].bind(a))}class It{static#t=NaN;static#e=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(t){(It.#e||=new Set).add(t)}static setPointer(t,e){It.#t||=e,It.#n??=t}static setTimeStamp(t){It.#i=t}static isSamePointerId(t){return It.#t===t}static isSamePointerIdOrRemove(t){return It.#t===t?!0:(It.#e?.delete(t),!1)}static isSamePointerType(t){return It.#n===t}static isInitializedAndDifferentPointerType(t){return It.#n!==null&&!It.isSamePointerType(t)}static isSameTimeStamp(t){return It.#i===t}static isUsingMultiplePointers(){return It.#e?.size>=1}static clearPointerType(){It.#n=null}static clearPointerIds(){It.#t=NaN,It.#e=null}static clearTimeStamp(){It.#i=NaN}}class Zb{#t=0;get id(){return`${Wr}${this.#t++}`}}class Dh{#t=uy();#e=0;#i=null;static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=t;const o=s.decode().then(()=>(n.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return bt(this,"_isSVGFittingCanvas",o)}async#n(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n===null)return null;if(n?.bitmap)return n.refCounter+=1,n;try{n||={bitmap:null,id:`image_${this.#t}_${this.#e++}`,refCounter:0,isSvg:!1};let s;if(typeof e=="string"?(n.url=e,s=await na(e,"blob")):e instanceof File?s=n.file=e:e instanceof Blob&&(s=e),s.type==="image/svg+xml"){const o=Dh._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((d,p)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,d()},l.onload=async()=>{const g=n.svgUrl=l.result;c.src=await o?`${g}#svgView(preserveAspectRatio(none))`:g},c.onerror=l.onerror=p});l.readAsDataURL(s),await h}else n.bitmap=await createImageBitmap(s);n.refCounter=1}catch(s){xt(s),n=null}return this.#i.set(t,n),n&&this.#i.set(n.id,n),n}async getFromFile(t){const{lastModified:e,name:n,size:s,type:o}=t;return this.#n(`${e}_${n}_${s}_${o}`,t)}async getFromUrl(t){return this.#n(t,t)}async getFromBlob(t,e){const n=await e;return this.#n(t,n)}async getFromId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e)return null;if(e.bitmap)return e.refCounter+=1,e;if(e.file)return this.getFromFile(e.file);if(e.blobPromise){const{blobPromise:n}=e;return delete e.blobPromise,this.getFromBlob(e.id,n)}return this.getFromUrl(e.url)}getFromCanvas(t,e){this.#i||=new Map;let n=this.#i.get(t);if(n?.bitmap)return n.refCounter+=1,n;const s=new OffscreenCanvas(e.width,e.height);return s.getContext("2d").drawImage(e,0,0),n={bitmap:s.transferToImageBitmap(),id:`image_${this.#t}_${this.#e++}`,refCounter:1,isSvg:!1},this.#i.set(t,n),this.#i.set(n.id,n),n}getSvgUrl(t){const e=this.#i.get(t);return e?.isSvg?e.svgUrl:null}deleteId(t){this.#i||=new Map;const e=this.#i.get(t);if(!e||(e.refCounter-=1,e.refCounter!==0))return;const{bitmap:n}=e;if(!e.url&&!e.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),e.blobPromise=s.convertToBlob()}n.close?.(),e.bitmap=null}isValidId(t){return t.startsWith(`image_${this.#t}_`)}}class tP{#t=[];#e=!1;#i;#n=-1;constructor(t=128){this.#i=t}add({cmd:t,undo:e,post:n,mustExec:s,type:o=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(s&&t(),this.#e)return;const h={cmd:t,undo:e,post:n,type:o};if(this.#n===-1){this.#t.length>0&&(this.#t.length=0),this.#n=0,this.#t.push(h);return}if(l&&this.#t[this.#n].type===o){c&&(h.undo=this.#t[this.#n].undo),this.#t[this.#n]=h;return}const d=this.#n+1;d===this.#i?this.#t.splice(0,1):(this.#n=d,d<this.#t.length&&this.#t.splice(d)),this.#t.push(h)}undo(){if(this.#n===-1)return;this.#e=!0;const{undo:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1,this.#n-=1}redo(){if(this.#n<this.#t.length-1){this.#n+=1,this.#e=!0;const{cmd:t,post:e}=this.#t[this.#n];t(),e?.(),this.#e=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#t.length-1}cleanType(t){if(this.#n!==-1){for(let e=this.#n;e>=0;e--)if(this.#t[e].type!==t){this.#t.splice(e+1,this.#n-e),this.#n=e;return}this.#t.length=0,this.#n=-1}}destroy(){this.#t=null}}class ra{constructor(t){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=ye.platform;for(const[n,s,o={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:s,options:o}),this.allKeys.add(l.split("+").at(-1)))}}#t(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(this.#t(e));if(!n)return;const{callback:s,options:{bubbles:o=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(s.bind(t,...l,e)(),o||Xt(e))}}class Rh{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return qb(t),bt(this,"_colors",t)}convert(t){const e=sa(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,s]of this._colors)if(s.every((o,l)=>o===e[l]))return Rh._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ot.makeHexColor(...e):t}}class _i{#t=new AbortController;#e=null;#i=null;#n=new Map;#a=new Map;#r=null;#s=null;#o=null;#c=new tP;#l=null;#d=null;#h=null;#p=0;#m=new Set;#g=null;#u=null;#f=new Set;_editorUndoBar=null;#_=!1;#v=!1;#y=!1;#S=null;#P=null;#x=null;#k=null;#w=!1;#A=null;#L=new Zb;#E=!1;#T=!1;#O=!1;#I=null;#R=null;#B=null;#N=null;#G=null;#C=Pt.NONE;#b=new Set;#D=null;#j=null;#V=null;#q=null;#W=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#F=null;#$=null;#J=null;#Z=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const t=_i.prototype,e=l=>l.#$.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:h}=c;return h!=="text"&&h!=="number"}return!0},s=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return bt(this,"_keyboardManager",new ra([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#$.contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&l.#$.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-s,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[s,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-s],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,s],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}]]))}constructor(t,e,n,s,o,l,c,h,d,p,g,_,v,x,w,P){const A=this._signal=this.#t.signal;this.#$=t,this.#J=e,this.#Z=n,this.#r=s,this.#l=o,this.#j=l,this.#W=h,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:A}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:A}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:A}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:A}),c._on("setpreference",this.onSetPreference.bind(this),{signal:A}),c._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:A}),window.addEventListener("pointerdown",()=>{this.#T=!0},{capture:!0,signal:A}),window.addEventListener("pointerup",()=>{this.#T=!1},{capture:!0,signal:A}),this.#at(),this.#dt(),this.#et(),this.#s=h.annotationStorage,this.#S=h.filterFactory,this.#V=d,this.#k=p||null,this.#_=g,this.#v=_,this.#y=v,this.#G=x||null,this.viewParameters={realScale:js.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=P!==!1,o?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#t?.abort(),this.#t=null,this._signal=null;for(const t of this.#a.values())t.destroy();this.#a.clear(),this.#n.clear(),this.#f.clear(),this.#N?.clear(),this.#e=null,this.#b.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#j?.destroy(),this.#A?.hide(),this.#A=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#P&&(clearTimeout(this.#P),this.#P=null),this.#F&&(clearTimeout(this.#F),this.#F=null),this._editorUndoBar?.destroy(),this.#W=null}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#G}get useNewAltTextFlow(){return this.#v}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return bt(this,"hcmFilter",this.#V?this.#S.addHCMFilter(this.#V.foreground,this.#V.background):"none")}get direction(){return bt(this,"direction",getComputedStyle(this.#$).direction)}get _highlightColors(){return bt(this,"_highlightColors",this.#k?new Map(this.#k.split(",").map(t=>(t=t.split("=").map(e=>e.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColors(){const{_highlightColors:t}=this;if(!t)return bt(this,"highlightColors",null);const e=new Map,n=!!this.#V;for(const[s,o]of t){const l=s.endsWith("_HCM");if(n&&l){e.set(s.replace("_HCM",""),o);continue}!n&&!l&&e.set(s,o)}return bt(this,"highlightColors",e)}get highlightColorNames(){return bt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}getNonHCMColor(t){if(!this._highlightColors)return t;const e=this.highlightColorNames.get(t);return this._highlightColors.get(e)||t}getNonHCMColorName(t){return this.highlightColorNames.get(t)||t}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=t}setMainHighlightColorPicker(t){this.#B=t}editAltText(t,e=!1){this.#r?.editAltText(this,t,e)}hasCommentManager(){return!!this.#l}editComment(t,e,n,s){this.#l?.showDialog(this,t,e,n,s)}selectComment(t,e){this.#a.get(t)?.getEditorByUID(e)?.toggleComment(!0,!0)}updateComment(t){this.#l?.updateComment(t.getData())}updatePopupColor(t){this.#l?.updatePopupColor(t)}removeComment(t){this.#l?.removeComments([t.uid])}toggleComment(t,e,n=void 0){this.#l?.toggleCommentPopup(t,e,n)}makeCommentColor(t,e){return t&&this.#l?.makeCommentColor(t,e)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(t){if(this.#a.has(t-1))return;const{resolve:e,promise:n}=Promise.withResolvers(),s=o=>{o.pageNumber===t&&(this._eventBus._off("editorsrendered",s),e())};this._eventBus.on("editorsrendered",s),await n}getSignature(t){this.#j?.getSignature({uiManager:this,editor:t})}get signatureManager(){return this.#j}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onSetPreference({name:t,value:e}){switch(t){case"enableNewAltTextWhenAddingImage":this.#y=e;break}}onPageChanging({pageNumber:t}){this.#p=t-1}focusMainContainer(){this.#$.focus()}findParent(t,e){for(const n of this.#a.values()){const{x:s,y:o,width:l,height:c}=n.div.getBoundingClientRect();if(t>=s&&t<=s+l&&e>=o&&e<=o+c)return n}return null}disableUserSelect(t=!1){this.#J.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#f.add(t)}removeShouldRescale(t){this.#f.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*js.PDF_TO_CSS_UNITS;for(const e of this.#f)e.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#Q({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#tt(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const n of this.#a.values())if(n.hasTextLayer(t))return n;return null}highlightSelection(t="",e=!1){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:o,focusNode:l,focusOffset:c}=n,h=n.toString(),p=this.#Q(n).closest(".textLayer"),g=this.getSelectionBoxes(p);if(!g)return;n.empty();const _=this.#tt(p),v=this.#C===Pt.NONE,x=()=>{const w=_?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:g,anchorNode:s,anchorOffset:o,focusNode:l,focusOffset:c,text:h});v&&this.showAllEditors("highlight",!0,!0),e&&w?.editComment()};if(v){this.switchToMode(Pt.HIGHLIGHT,x);return}x()}commentSelection(t=""){this.highlightSelection(t,!0)}#st(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=this.#Q(t).closest(".textLayer"),s=this.getSelectionBoxes(n);s&&(this.#A||=new Jb(this),this.#A.show(n,s,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(t){if(!this.#s)return null;const e=`${Wr}${t}`,n=this.#s.getRawValue(e);return n&&this.#s.remove(e),n}addToAnnotationStorage(t){!t.isEmpty()&&this.#s&&!this.#s.has(t.id)&&this.#s.setValue(t.id,t)}a11yAlert(t,e=null){const n=this.#Z;n&&(n.setAttribute("data-l10n-id",t),e?n.setAttribute("data-l10n-args",JSON.stringify(e)):n.removeAttribute("data-l10n-args"))}#rt(){const t=document.getSelection();if(!t||t.isCollapsed){this.#D&&(this.#A?.hide(),this.#D=null,this.#M({hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===this.#D)return;const s=this.#Q(t).closest(".textLayer");if(!s){this.#D&&(this.#A?.hide(),this.#D=null,this.#M({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#D=e,this.#M({hasSelectedText:!0}),!(this.#C!==Pt.HIGHLIGHT&&this.#C!==Pt.NONE)&&(this.#C===Pt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#w=this.isShiftKeyDown,!this.isShiftKeyDown)){const o=this.#C===Pt.HIGHLIGHT?this.#tt(s):null;if(o?.toggleDrawing(),this.#T){const l=new AbortController,c=this.combinedSignal(l),h=d=>{d.type==="pointerup"&&d.button!==0||(l.abort(),o?.toggleDrawing(!0),d.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",h,{signal:c}),window.addEventListener("blur",h,{signal:c})}else o?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(t=""){this.#C===Pt.HIGHLIGHT?this.highlightSelection(t):this.#_&&this.#st()}#at(){document.addEventListener("selectionchange",this.#rt.bind(this),{signal:this._signal})}#ot(){if(this.#x)return;this.#x=new AbortController;const t=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#lt(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of this.#b)if(e.div.contains(t)){this.#R=[e,t],e._focusEventsAllowed=!1;break}}focus(){if(!this.#R)return;const[t,e]=this.#R;this.#R=null,e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}#et(){if(this.#I)return;this.#I=new AbortController;const t=this.combinedSignal(this.#I);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#ct(){this.#I?.abort(),this.#I=null}#ut(){if(this.#d)return;this.#d=new AbortController;const t=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#ht(){this.#d?.abort(),this.#d=null}#dt(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#et(),this.setEditingState(!0)}removeEditListeners(){this.#ct(),this.setEditingState(!1)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of this.#u)if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const e=[];for(const n of this.#b){const s=n.serialize(!0);s&&e.push(s)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:e}=t;for(const o of e.items)for(const l of this.#u)if(l.isHandlingMimeForPasting(o.type)){l.paste(o,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){xt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const s=this.currentLayer;try{const o=[];for(const h of n){const d=await s.deserialize(h);if(!d)return;o.push(d)}const l=()=>{for(const h of o)this.#nt(h);this.#it(o)},c=()=>{for(const h of o)h.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(o){xt(`paste: "${o.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Pt.NONE&&!this.isEditorHandlingKeyboard&&_i._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#w&&(this.#w=!1,this.#X("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#M(t){Object.entries(t).some(([n,s])=>this.#K[n]!==s)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,t)}),this.#C===Pt.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#U([[Ct.HIGHLIGHT_FREE,!0]]))}#U(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#ot(),this.#ut(),this.#M({isEditing:this.#C!==Pt.NONE,isEmpty:this.#Y(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#lt(),this.#ht(),this.#M({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#u){this.#u=t;for(const e of this.#u)this.#U(e.defaultPropertiesToUpdate)}}getId(){return this.#L.id}get currentLayer(){return this.#a.get(this.#p)}getLayer(t){return this.#a.get(t)}get currentPageIndex(){return this.#p}addLayer(t){this.#a.set(t.pageIndex,t),this.#E?t.enable():t.disable()}removeLayer(t){this.#a.delete(t.pageIndex)}async updateMode(t,e=null,n=!1,s=!1,o=!1){if(this.#C!==t&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#C===Pt.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=t,t===Pt.NONE){this.setEditingState(!1),this.#ft();for(const l of this.#n.values())l.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const l of this.#n.values())l.addStandaloneCommentButton();t===Pt.SIGNATURE&&await this.#j?.loadSignatures(),this.setEditingState(!0),await this.#pt(),this.unselectAll();for(const l of this.#a.values())l.updateMode(t);if(t===Pt.POPUP){this.#i||=await this.#W.getAnnotationsByType(new Set(this.#u.map(h=>h._editorType)));const l=new Set,c=[];for(const h of this.#n.values()){const{annotationElementId:d,hasComment:p,deleted:g}=h;d&&l.add(d),p&&!g&&c.push(h.getData())}for(const h of this.#i){const{id:d,popupRef:p,contentsObj:g}=h;p&&g?.str&&!l.has(d)&&!this.#m.has(d)&&c.push(h)}this.#l?.showSidebar(c)}if(!e){n&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const l of this.#n.values())l.uid===e?(this.setSelected(l),o?l.editComment():s?l.enterInEditMode():l.focus()):l.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,e){if(this.#u){switch(t){case Ct.CREATE:this.currentLayer.addNewEditor(e);return;case Ct.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(t,e),this.showAllEditors("highlight",e);break}if(this.hasSelection)for(const n of this.#b)n.updateParams(t,e);else for(const n of this.#u)n.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){for(const o of this.#n.values())o.editorType===t&&o.show(e);(this.#q?.get(Ct.HIGHLIGHT_SHOW_ALL)??!0)!==e&&this.#U([[Ct.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(this.#O!==t){this.#O=t;for(const e of this.#a.values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}async#pt(){if(!this.#E){this.#E=!0;const t=[];for(const e of this.#a.values())t.push(e.enable());await Promise.all(t);for(const e of this.#n.values())e.enable()}}#ft(){if(this.unselectAll(),this.#E){this.#E=!1;for(const t of this.#a.values())t.disable();for(const t of this.#n.values())t.disable()}}*getEditors(t){for(const e of this.#n.values())e.pageIndex===t&&(yield e)}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.focusMainContainer(),this.#P=null},0)),this.#n.delete(t.id),t.annotationElementId&&this.#N?.delete(t.annotationElementId),this.unselect(t),(!t.annotationElementId||!this.#m.has(t.annotationElementId))&&this.#s?.remove(t.id)}addDeletedAnnotationElement(t){this.#m.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#m.has(t)}removeDeletedAnnotationElement(t){this.#m.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#nt(t){const e=this.#a.get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#e!==t&&(this.#e=t,t&&this.#U(t.propertiesToUpdate))}get#gt(){let t=null;for(t of this.#b);return t}updateUI(t){this.#gt===t&&this.#U(t.propertiesToUpdate)}updateUIForDefaultProperties(t){this.#U(t.defaultPropertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#M({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}setSelected(t){this.updateToolbar({mode:t.mode,editId:t.uid}),this.#h?.commitOrRemove();for(const e of this.#b)e!==t&&e.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#U(t.propertiesToUpdate),this.#M({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#M({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#M({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Y()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Y()})}addCommands(t){this.#c.add(t),this.#M({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Y()})}cleanUndoStack(t){this.#c.cleanType(t)}#Y(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const t of this.#n.values())return t.isEmpty();return!1}delete(){this.commitOrRemove();const t=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const e=t?[t]:[...this.#b],n=()=>{this._editorUndoBar?.show(s,e.length===1?e[0].editorType:e.length);for(const o of e)o.remove()},s=()=>{for(const o of e)this.#nt(o)};this.addCommands({cmd:n,undo:s,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#it(t){for(const e of this.#b)e.unselect();this.#b.clear();for(const e of t)e.isEmpty()||(this.#b.add(e),e.select());this.#M({hasSelectedEditor:this.hasSelection})}selectAll(){for(const t of this.#b)t.commit();this.#it(this.#n.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#C!==Pt.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const t of this.#b)t.unselect();this.#b.clear(),this.#M({hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=e;const[s,o]=this.#H,l=[...this.#b],c=1e3;this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>{this.#F=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(s,o),h.translationDone())},undo:()=>{for(const h of l)this.#n.has(h.id)&&(h.translateInPage(-s,-o),h.translationDone())},mustExec:!1})},c);for(const h of l)h.translateInPage(t,e),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#g=new Map;for(const t of this.#b)this.#g.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#g)return!1;this.disableUserSelect(!1);const t=this.#g;this.#g=null;let e=!1;for(const[{x:s,y:o,pageIndex:l},c]of t)c.newX=s,c.newY=o,c.newPageIndex=l,e||=s!==c.savedX||o!==c.savedY||l!==c.savedPageIndex;if(!e)return!1;const n=(s,o,l,c)=>{if(this.#n.has(s.id)){const h=this.#a.get(c);h?s._setParentAndPosition(h,o,l):(s.pageIndex=c,s.x=o,s.y=l)}};return this.addCommands({cmd:()=>{for(const[s,{newX:o,newY:l,newPageIndex:c}]of t)n(s,o,l,c)},undo:()=>{for(const[s,{savedX:o,savedY:l,savedPageIndex:c}]of t)n(s,o,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(this.#g)for(const n of this.#g.keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#e===t}getActive(){return this.#e}getMode(){return this.#C}isEditingMode(){return this.#C!==Pt.NONE}get imageManager(){return bt(this,"imageManager",new Dh)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let d=0,p=e.rangeCount;d<p;d++)if(!t.contains(e.getRangeAt(d).commonAncestorContainer))return null;const{x:n,y:s,width:o,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(d,p,g,_)=>({x:(p-s)/l,y:1-(d+g-n)/o,width:_/l,height:g/o});break;case"180":c=(d,p,g,_)=>({x:1-(d+g-n)/o,y:1-(p+_-s)/l,width:g/o,height:_/l});break;case"270":c=(d,p,g,_)=>({x:1-(p+_-s)/l,y:(d-n)/o,width:_/l,height:g/o});break;default:c=(d,p,g,_)=>({x:(d-n)/o,y:(p-s)/l,width:g/o,height:_/l});break}const h=[];for(let d=0,p=e.rangeCount;d<p;d++){const g=e.getRangeAt(d);if(!g.collapsed)for(const{x:_,y:v,width:x,height:w}of g.getClientRects())x===0||w===0||h.push(c(_,v,x,w))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:t,id:e}){(this.#o||=new Map).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){this.#o?.delete(t)}renderAnnotationElement(t){const e=this.#o?.get(t.data.id);if(!e)return;const n=this.#s.getRawValue(e);n&&(this.#C===Pt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}setMissingCanvas(t,e,n){const s=this.#N?.get(t);s&&(s.setCanvas(e,n),this.#N.delete(t))}addMissingCanvas(t,e){(this.#N||=new Map).set(t,e)}}class Cn{#t=null;#e=!1;#i=null;#n=null;#a=null;#r=null;#s=!1;#o=null;#c=null;#l=null;#d=null;#h=!1;static#p=null;static _l10n=null;constructor(t){this.#c=t,this.#h=t._uiManager.useNewAltTextFlow,Cn.#p||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){Cn._l10n??=t}async render(){const t=this.#i=document.createElement("button");t.className="altText",t.tabIndex="0";const e=this.#n=document.createElement("span");t.append(e),this.#h?(t.classList.add("new"),t.setAttribute("data-l10n-id",Cn.#p.missing),e.setAttribute("data-l10n-id",Cn.#p["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=this.#c._uiManager._signal;t.addEventListener("contextmenu",on,{signal:n}),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#s=!0,s(o))},{signal:n}),await this.#g(),t}get#m(){return this.#t&&"added"||this.#t===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#s}),this.#s=!1)}isEmpty(){return this.#h?this.#t===null:!this.#t&&!this.#e}hasData(){return this.#h?this.#t!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(t){this.#t===null&&(this.#l=t,this.#d=await Cn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#g())}toggleAltTextBadge(t=!1){if(!this.#h||this.#t){this.#o?.remove(),this.#o=null;return}if(!this.#o){const e=this.#o=document.createElement("div");e.className="noAltTextBadge",this.#c.div.append(e)}this.#o.classList.toggle("hidden",!t)}serialize(t){let e=this.#t;return!t&&this.#l===e&&(e=this.#d),{altText:e,decorative:this.#e,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#t,decorative:this.#e}}set data({altText:t,decorative:e,guessedText:n,textWithDisclaimer:s,cancel:o=!1}){n&&(this.#l=n,this.#d=s),!(this.#t===t&&this.#e===e)&&(o||(this.#t=t,this.#e=e),this.#g())}toggle(t=!1){this.#i&&(!t&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i.disabled=!t)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#g(){const t=this.#i;if(!t)return;if(this.#h){if(t.classList.toggle("done",!!this.#t),t.setAttribute("data-l10n-id",Cn.#p[this.#m]),this.#n?.setAttribute("data-l10n-id",Cn.#p[`${this.#m}-label`]),!this.#t){this.#a?.remove();return}}else{if(!this.#t&&!this.#e){t.classList.remove("done"),this.#a?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let e=this.#a;if(!e){this.#a=e=document.createElement("span"),e.className="tooltip",e.setAttribute("role","tooltip"),e.id=`alt-text-tooltip-${this.#c.id}`;const s=100,o=this.#c._uiManager._signal;o.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},s)},{signal:o}),t.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#a?.classList.remove("show")},{signal:o})}this.#e?e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(e.removeAttribute("data-l10n-id"),e.textContent=this.#t),e.parentNode||t.append(e),this.#c.getElementForAltText()?.setAttribute("aria-describedby",e.id)}}class bo{#t=null;#e=null;#i=!1;#n=null;#a=null;#r=null;#s=null;#o=null;#c=!1;#l=null;constructor(t){this.#n=t}renderForToolbar(){const t=this.#e=document.createElement("button");return t.className="comment",this.#d(t,!1)}renderForStandalone(){const t=this.#t=document.createElement("button");t.className="annotationCommentButton";const e=this.#n.commentButtonPosition;if(e){const{style:n}=t;n.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-e[0]:e[0])}% - var(--comment-button-dim))`,n.top=`calc(${100*e[1]}% - var(--comment-button-dim))`;const s=this.#n.commentButtonColor;s&&(n.backgroundColor=s)}return this.#d(t,!0)}focusButton(){setTimeout(()=>{(this.#t??this.#e)?.focus()},0)}onUpdatedColor(){if(!this.#t)return;const t=this.#n.commentButtonColor;t&&(this.#t.style.backgroundColor=t),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#t?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#t)return null;const{x:t,y:e,height:n}=this.#t.getBoundingClientRect(),{x:s,y:o,width:l,height:c}=this.#n.parent.boundingClientRect;return[(t-s)/l,(e+n-o)/c]}set commentPopupPositionInLayer(t){this.#l=t}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#t?.remove(),this.#t=null}removeToolbarCommentButton(){this.#e?.remove(),this.#e=null}setCommentButtonStates({selected:t,hasPopup:e}){this.#t&&(this.#t.classList.toggle("selected",t),this.#t.ariaExpanded=e)}#d(t,e){if(!this.#n._uiManager.hasCommentManager())return null;t.tabIndex="0",t.ariaHasPopup="dialog",e?(t.ariaControls="commentPopup",t.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(t.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],t.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const n=this.#n._uiManager._signal;if(!(n instanceof AbortSignal)||n.aborted)return t;t.addEventListener("contextmenu",on,{signal:n}),e&&(t.addEventListener("focusin",o=>{this.#n._focusEventsAllowed=!1,Xt(o)},{capture:!0,signal:n}),t.addEventListener("focusout",o=>{this.#n._focusEventsAllowed=!0,Xt(o)},{capture:!0,signal:n})),t.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const s=o=>{o.preventDefault(),t===this.#e?this.edit():this.#n.toggleComment(!0)};return t.addEventListener("click",s,{capture:!0,signal:n}),t.addEventListener("keydown",o=>{o.target===t&&o.key==="Enter"&&(this.#i=!0,s(o))},{signal:n}),t.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:n}),t.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:n}),t}edit(t){const e=this.commentPopupPositionInLayer;let n,s;if(e)[n,s]=e;else{[n,s]=this.#n.commentButtonPosition;const{width:p,height:g,x:_,y:v}=this.#n;n=_+n*p,s=v+s*g}const o=this.#n.parent.boundingClientRect,{x:l,y:c,width:h,height:d}=o;this.#n._uiManager.editComment(this.#n,l+n*h,c+s*d,{...t,parentDimensions:o})}finish(){this.#e&&(this.#e.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#s===""}isEmpty(){return this.#s===null}hasBeenEdited(){return this.isDeleted()||this.#s!==this.#a}serialize(){return this.data}get data(){return{text:this.#s,richText:this.#r,date:this.#o,deleted:this.isDeleted()}}set data(t){if(t!==this.#s&&(this.#r=null),t===null){this.#s="",this.#c=!0;return}this.#s=t,this.#o=new Date,this.#c=!1}setInitialText(t,e=null){this.#a=t,this.data=t,this.#o=null,this.#r=e}shown(){}destroy(){this.#e?.remove(),this.#e=null,this.#t?.remove(),this.#t=null,this.#s="",this.#r=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class ll{#t;#e=!1;#i=null;#n;#a;#r;#s;#o=null;#c;#l=null;#d;#h=null;constructor({container:t,isPinchingDisabled:e=null,isPinchingStopped:n=null,onPinchStart:s=null,onPinching:o=null,onPinchEnd:l=null,signal:c}){this.#t=t,this.#i=n,this.#n=e,this.#a=s,this.#r=o,this.#s=l,this.#d=new AbortController,this.#c=AbortSignal.any([c,this.#d.signal]),t.addEventListener("touchstart",this.#p.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/En.pixelRatio}#p(t){if(this.#n?.())return;if(t.touches.length===1){if(this.#o)return;const s=this.#o=new AbortController,o=AbortSignal.any([this.#c,s.signal]),l=this.#t,c={capture:!0,signal:o,passive:!1},h=d=>{d.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};l.addEventListener("pointerdown",d=>{d.pointerType==="touch"&&(Xt(d),h(d))},c),l.addEventListener("pointerup",h,c),l.addEventListener("pointercancel",h,c);return}if(!this.#h){this.#h=new AbortController;const s=AbortSignal.any([this.#c,this.#h.signal]),o=this.#t,l={signal:s,capture:!1,passive:!1};o.addEventListener("touchmove",this.#m.bind(this),l);const c=this.#g.bind(this);o.addEventListener("touchend",c,l),o.addEventListener("touchcancel",c,l),l.capture=!0,o.addEventListener("pointerdown",Xt,l),o.addEventListener("pointermove",Xt,l),o.addEventListener("pointercancel",Xt,l),o.addEventListener("pointerup",Xt,l),this.#a?.()}if(Xt(t),t.touches.length!==2||this.#i?.()){this.#l=null;return}let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]),this.#l={touch0X:e.screenX,touch0Y:e.screenY,touch1X:n.screenX,touch1Y:n.screenY}}#m(t){if(!this.#l||t.touches.length!==2)return;Xt(t);let[e,n]=t.touches;e.identifier>n.identifier&&([e,n]=[n,e]);const{screenX:s,screenY:o}=e,{screenX:l,screenY:c}=n,h=this.#l,{touch0X:d,touch0Y:p,touch1X:g,touch1Y:_}=h,v=g-d,x=_-p,w=l-s,P=c-o,A=Math.hypot(w,P)||1,C=Math.hypot(v,x)||1;if(!this.#e&&Math.abs(C-A)<=ll.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=s,h.touch0Y=o,h.touch1X=l,h.touch1Y=c,!this.#e){this.#e=!0;return}const S=[(s+l)/2,(o+c)/2];this.#r?.(S,C,A)}#g(t){t.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#s?.()),this.#l&&(Xt(t),this.#l=null,this.#e=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#o?.abort(),this.#o=null}}class dt{#t=null;#e=null;#i=null;#n=null;#a=null;#r=!1;#s=null;#o="";#c=null;#l=null;#d=null;#h=null;#p=null;#m="";#g=!1;#u=null;#f=!1;#_=!1;#v=!1;#y=null;#S=0;#P=0;#x=null;#k=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#w=!1;#A=dt._zIndex++;static _borderLineWidth=-1;static _colorManager=new Rh;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const t=dt.prototype._resizeWithKeyboard,e=_i.TRANSLATE_SMALL,n=_i.TRANSLATE_BIG;return bt(this,"_resizerKeyboardManager",new ra([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],dt.prototype._stopResizingWithKeyboard]]))}constructor(t){this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null,this.creationDate=t.creationDate||new Date,this.modificationDate=t.modificationDate||null,this.canAddComment=!0;const{rotation:e,rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,s],this.pageTranslation=[o,l];const[c,h]=this.parentDimensions;this.x=t.x/c,this.y=t.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return bt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new eP({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e){if(dt._l10n??=t,dt._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),dt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);dt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#w}set _isDraggable(t){this.#w=t,this.div?.classList.toggle("draggable",t)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):(this.#F(),this.#h?.remove(),this.#h=null),this.parent=t}focusin(t){this._focusEventsAllowed&&(this.#g?this.#g=!1:this.parent.setSelected(this))}focusout(t){!this._focusEventsAllowed||!this.isAttachedToDOM||t.relatedTarget?.closest(`#${this.id}`)||(t.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,s){const[o,l]=this.parentDimensions;[n,s]=this.screenToPageTranslation(n,s),this.x=(t+n)/o,this.y=(e+s)/l,this.fixAndSetPosition()}_moveAfterPaste(t,e){const[n,s]=this.parentDimensions;this.setAt(t*n,e*s,this.width*n,this.height*s),this._onTranslated()}#L([t,e],n,s){[n,s]=this.screenToPageTranslation(n,s),this.x+=n/t,this.y+=s/e,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(t,e){this.#L(this.parentDimensions,t,e)}translateInPage(t,e){this.#u||=[this.x,this.y,this.width,this.height],this.#L(this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,e){this.#u||=[this.x,this.y,this.width,this.height];const{div:n,parentDimensions:[s,o]}=this;if(this.x+=t/s,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:_}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,_)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:l,y:c}=this;const[h,d]=this.getBaseTranslation();l+=h,c+=d;const{style:p}=n;p.left=`${(100*l).toFixed(2)}%`,p.top=`${(100*c).toFixed(2)}%`,this._onTranslating(l,c),n.scrollIntoView({block:"nearest"})}_onTranslating(t,e){}_onTranslated(t,e){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=dt,s=n/t,o=n/e;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:e},pageDimensions:[n,s]}=this;let{x:o,y:l,width:c,height:h}=this;if(c*=n,h*=s,o*=n,l*=s,this._mustFixPosition)switch(t){case 0:o=Le(o,0,n-c),l=Le(l,0,s-h);break;case 90:o=Le(o,0,n-h),l=Le(l,c,s);break;case 180:o=Le(o,c,n),l=Le(l,h,s);break;case 270:o=Le(o,h,n),l=Le(l,0,s-c);break}this.x=o/=n,this.y=l/=s;const[d,p]=this.getBaseTranslation();o+=d,l+=p,e.left=`${(100*o).toFixed(2)}%`,e.top=`${(100*l).toFixed(2)}%`,this.moveInDOM()}static#E(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}screenToPageTranslation(t,e){return dt.#E(t,e,this.parentRotation)}pageTranslationToScreen(t,e){return dt.#E(t,e,360-this.parentRotation)}#T(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this;return[e*t,n*t]}setDims(){const{div:{style:t},width:e,height:n}=this;t.width=`${(100*e).toFixed(2)}%`,t.height=`${(100*n).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#O(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const s=document.createElement("div");this.#c.append(s),s.classList.add("resizer",n),s.setAttribute("data-resizer-name",n),s.addEventListener("pointerdown",this.#I.bind(this,n),{signal:e}),s.addEventListener("contextmenu",on,{signal:e}),s.tabIndex=-1}this.div.prepend(this.#c)}#I(t,e){e.preventDefault();const{isMac:n}=ye.platform;if(e.button!==0||e.ctrlKey&&n)return;this.#i?.toggle(!1);const s=this._isDraggable;this._isDraggable=!1,this.#l=[e.screenX,e.screenY];const o=new AbortController,l=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#N.bind(this,t),{passive:!0,capture:!0,signal:l}),window.addEventListener("touchmove",Xt,{passive:!1,signal:l}),window.addEventListener("contextmenu",on,{signal:l}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const d=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=c,this.div.style.cursor=h,this.#B()};window.addEventListener("pointerup",d,{signal:l}),window.addEventListener("blur",d,{signal:l})}#R(t,e,n,s){this.width=n,this.height=s,this.x=t,this.y=e,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#d)return;const{savedX:t,savedY:e,savedWidth:n,savedHeight:s}=this.#d;this.#d=null;const o=this.x,l=this.y,c=this.width,h=this.height;o===t&&l===e&&c===n&&h===s||this.addCommands({cmd:this.#R.bind(this,o,l,c,h),undo:this.#R.bind(this,t,e,n,s),mustExec:!0})}static _round(t){return Math.round(t*1e4)/1e4}#N(t,e){const[n,s]=this.parentDimensions,o=this.x,l=this.y,c=this.width,h=this.height,d=dt.MIN_SIZE/n,p=dt.MIN_SIZE/s,g=this.#T(this.rotation),_=(X,K)=>[g[0]*X+g[2]*K,g[1]*X+g[3]*K],v=this.#T(360-this.rotation),x=(X,K)=>[v[0]*X+v[2]*K,v[1]*X+v[3]*K];let w,P,A=!1,C=!1;switch(t){case"topLeft":A=!0,w=(X,K)=>[0,0],P=(X,K)=>[X,K];break;case"topMiddle":w=(X,K)=>[X/2,0],P=(X,K)=>[X/2,K];break;case"topRight":A=!0,w=(X,K)=>[X,0],P=(X,K)=>[0,K];break;case"middleRight":C=!0,w=(X,K)=>[X,K/2],P=(X,K)=>[0,K/2];break;case"bottomRight":A=!0,w=(X,K)=>[X,K],P=(X,K)=>[0,0];break;case"bottomMiddle":w=(X,K)=>[X/2,K],P=(X,K)=>[X/2,0];break;case"bottomLeft":A=!0,w=(X,K)=>[0,K],P=(X,K)=>[X,0];break;case"middleLeft":C=!0,w=(X,K)=>[0,K/2],P=(X,K)=>[X,K/2];break}const S=w(c,h),E=P(c,h);let T=_(...E);const M=dt._round(o+T[0]),N=dt._round(l+T[1]);let O=1,V=1,Y,tt;if(e.fromKeyboard)({deltaX:Y,deltaY:tt}=e);else{const{screenX:X,screenY:K}=e,[U,J]=this.#l;[Y,tt]=this.screenToPageTranslation(X-U,K-J),this.#l[0]=X,this.#l[1]=K}if([Y,tt]=x(Y/n,tt/s),A){const X=Math.hypot(c,h);O=V=Math.max(Math.min(Math.hypot(E[0]-S[0]-Y,E[1]-S[1]-tt)/X,1/c,1/h),d/c,p/h)}else C?O=Le(Math.abs(E[0]-S[0]-Y),d,1)/c:V=Le(Math.abs(E[1]-S[1]-tt),p,1)/h;const ht=dt._round(c*O),H=dt._round(h*V);T=_(...P(ht,H));const Q=M-T[0],st=N-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=ht,this.height=H,this.x=Q,this.y=st,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#_)return this._editToolbar;this._editToolbar=new Hr(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[e,n]of t)await this._editToolbar.addButton(e,n);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(t){const e=this._editToolbar?.div;e?e.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Cn.initialize(dt._l10n),this.#i=new Cn(this),this.#t&&(this.#i.data=this.#t,this.#t=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(t){this.#i&&(this.#i.data=t)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(t){await this.#i?.setGuessedText(t)}serializeAltText(t){return this.#i?.serialize(t)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new bo(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:t,text:e,date:n,deleted:s}}=this.#n;return{text:e,richText:t,date:n,deleted:s,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(t){this.#n||=new bo(this),this.#n.data=t,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:t,popupRef:e,richText:n}){if(!e||(this.#n||=new bo(this),this.#n.setInitialText(t,n),!this.annotationElementId))return;const s=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);s&&this.updateFromAnnotationLayer(s)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(t){this.#n||=new bo(this),this.#n.edit(t)}toggleComment(t,e=void 0){this.hasComment&&this._uiManager.toggleComment(this,t,e)}setSelectedCommentButton(t){this.#n.setSelectedButton(t)}addComment(t){if(this.hasEditedComment){const[,,,s]=t.rect,[o]=this.pageDimensions,[l]=this.pageTranslation,c=l+o+1,h=s-100,d=c+180;t.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,h,d,s]}}}updateFromAnnotationLayer({popup:{contents:t,deleted:e}}){this.#n.data=e?null:t}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=this.#r?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),this.#V();const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*n/e).toFixed(2)}%`,t.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[s,o]=this.getInitialTranslation();return this.translate(s,o),gy(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#k||=new ll({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#G.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),t}#G(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(t,e,n){let o=.7*(n/e)+1-.7;if(o===1)return;const l=this.#T(this.rotation),c=(M,N)=>[l[0]*M+l[2]*N,l[1]*M+l[3]*N],[h,d]=this.parentDimensions,p=this.x,g=this.y,_=this.width,v=this.height,x=dt.MIN_SIZE/h,w=dt.MIN_SIZE/d;o=Math.max(Math.min(o,1/_,1/v),x/_,w/v);const P=dt._round(_*o),A=dt._round(v*o);if(P===_&&A===v)return;this.#u||=[p,g,_,v];const C=c(_/2,v/2),S=dt._round(p+C[0]),E=dt._round(g+C[1]),T=c(P/2,A/2);this.x=S-T[0],this.y=E-T[1],this.width=P,this.height=A,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(t){const{isMac:e}=ye.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(this.#g=!0,this._isDraggable){this.#j(t);return}this.#D(t)}#D(t){const{isMac:e}=ye.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}#j(t){const{isSelected:e}=this;this._uiManager.setUpDragSession();let n=!1;const s=new AbortController,o=this._uiManager.combinedSignal(s),l={capture:!0,passive:!1,signal:o},c=d=>{s.abort(),this.#s=null,this.#g=!1,this._uiManager.endDragSession()||this.#D(d),n&&this._onStopDragging()};e&&(this.#S=t.clientX,this.#P=t.clientY,this.#s=t.pointerId,this.#o=t.pointerType,window.addEventListener("pointermove",d=>{n||(n=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:p,clientY:g,pointerId:_}=d;if(_!==this.#s){Xt(d);return}const[v,x]=this.screenToPageTranslation(p-this.#S,g-this.#P);this.#S=p,this.#P=g,this._uiManager.dragSelectedEditors(v,x)},l),window.addEventListener("touchmove",Xt,l),window.addEventListener("pointerdown",d=>{d.pointerType===this.#o&&(this.#k||d.isPrimary)&&c(d),Xt(d)},l));const h=d=>{if(!this.#s||this.#s===d.pointerId){c(d);return}Xt(d)};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(t,e,n=this.rotation){const s=this.parentScale,[o,l]=this.pageDimensions,[c,h]=this.pageTranslation,d=t/s,p=e/s,g=this.x*o,_=this.y*l,v=this.width*o,x=this.height*l;switch(n){case 0:return[g+d+c,l-_-p-x+h,g+d+v+c,l-_-p+h];case 90:return[g+p+c,l-_+d+h,g+p+x+c,l-_+d+v+h];case 180:return[g-d-v+c,l-_+p+h,g-d+c,l-_+p+x+h];case 270:return[g-p-x+c,l-_-d-v+h,g-p+c,l-_-d+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,s,o,l]=t,c=o-n,h=l-s;switch(this.rotation){case 0:return[n,e-l,c,h];case 90:return[n,e-s,h,c];case 180:return[o,e-s,c,h];case 270:return[o,e-l,h,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&dt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:t,color:e,date:n,opacity:s,deleted:o,richText:l},uid:c,pageIndex:h,creationDate:d,modificationDate:p}=this;return{id:c,pageIndex:h,rect:this.getPDFRect(),richText:l,contentsObj:{str:t},creationDate:d,modificationDate:n||p,popupRef:!o,color:e,opacity:s}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#_=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#_=!1,!0):!1}isInEditMode(){return this.#_}shouldGetKeyboardEvents(){return this.#v}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:e,bottom:n,right:s}=this.getClientDimensions(),{innerHeight:o,innerWidth:l}=window;return e<l&&s>0&&t<o&&n>0}#V(){if(this.#p||!this.div)return;this.#p=new AbortController;const t=this._uiManager.combinedSignal(this.#p);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})}rebuild(){this.#V()}rotate(t){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(t=!1,e=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(t,e,n){const s=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n,annotationElementId:t.annotationElementId,creationDate:t.creationDate,modificationDate:t.modificationDate});s.rotation=t.rotation,s.#t=t.accessibilityData,s._isCopy=t.isCopy||!1;const[o,l]=s.pageDimensions,[c,h,d,p]=s.getRectInCurrentCoords(t.rect,l);return s.x=c/o,s.y=h/l,s.width=d/o,s.height=p/l,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#p?.abort(),this.#p=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#F(),this.removeEditToolbar(),this.#x){for(const t of this.#x.values())clearTimeout(t);this.#x=null}this.parent=null,this.#k?.destroy(),this.#k=null,this.#h?.remove(),this.#h=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#O(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[t,e]}=this,[n,s,o,l]=this.getPDFRect();return[dt._round(n+(o-n)*t),dt._round(s+(l-s)*(1-e))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(t){this.#n.commentPopupPositionInLayer=t}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(t){this.#n?.setCommentButtonStates(t)}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const e=this.#c.children;if(!this.#e){this.#e=Array.from(e);const l=this.#q.bind(this),c=this.#W.bind(this),h=this._uiManager._signal;for(const d of this.#e){const p=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",l,{signal:h}),d.addEventListener("blur",c,{signal:h}),d.addEventListener("focus",this.#K.bind(this,p),{signal:h}),d.setAttribute("data-l10n-id",dt._l10nResizer[p])}}const n=this.#e[0];let s=0;for(const l of e){if(l===n)break;s++}const o=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)this.#c.append(this.#c.firstElementChild);else if(o>s)for(let c=0;c<o-s;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let l=0;for(const c of e){const d=this.#e[l++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",dt._l10nResizer[d])}}this.#H(0),this.#v=!0,this.#c.firstElementChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}#q(t){dt._resizerKeyboardManager.exec(this,t)}#W(t){this.#v&&t.relatedTarget?.parentNode!==this.#c&&this.#F()}#K(t){this.#m=this.#v?t:""}#H(t){if(this.#e)for(const e of this.#e)e.tabIndex=t}_resizeWithKeyboard(t,e){this.#v&&this.#N(this.#m,{deltaX:t,deltaY:e,fromKeyboard:!0})}#F(){this.#v=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#F(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(t,e){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){t.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(t){this.#f=t,this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){this.#x||=new Map;const{action:n}=t;let s=this.#x.get(n);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(t),this.#x.delete(n),this.#x.size===0&&(this.#x=null)},dt._telemetryTimeout),this.#x.set(n,s);return}t.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(t){if(!this.#h&&!this.deleted){this.#h=t.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstElementChild:e}=t.container;e?.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}}class eP extends dt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const cm=3285377520,nn=4294901760,An=65535;class my{constructor(t){this.h1=t?t&4294967295:cm,this.h2=t?t&4294967295:cm}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let w=0,P=t.length;w<P;w++){const A=t.charCodeAt(w);A<=255?e[n++]=A:(e[n++]=A>>>8,e[n++]=A&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const s=n>>2,o=n-s*4,l=new Uint32Array(e.buffer,0,s);let c=0,h=0,d=this.h1,p=this.h2;const g=3432918353,_=461845907,v=g&An,x=_&An;for(let w=0;w<s;w++)w&1?(c=l[w],c=c*g&nn|c*v&An,c=c<<15|c>>>17,c=c*_&nn|c*x&An,d^=c,d=d<<13|d>>>19,d=d*5+3864292196):(h=l[w],h=h*g&nn|h*v&An,h=h<<15|h>>>17,h=h*_&nn|h*x&An,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(c=0,o){case 3:c^=e[s*4+2]<<16;case 2:c^=e[s*4+1]<<8;case 1:c^=e[s*4],c=c*g&nn|c*v&An,c=c<<15|c>>>17,c=c*_&nn|c*x&An,s&1?d^=c:p^=c}this.h1=d,this.h2=p}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&nn|t*36045&An,e=e*4283543511&nn|((e<<16|t>>>16)*2950163797&nn)>>>16,t^=e>>>1,t=t*444984403&nn|t*60499&An,e=e*3301882366&nn|((e<<16|t>>>16)*3120437893&nn)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Qu=Object.freeze({map:null,hash:"",transfer:void 0});class Nh{#t=!1;#e=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=this.#n.get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return this.#n.get(t)}remove(t){const e=this.#n.get(t);if(e!==void 0&&(e instanceof dt&&this.#i.delete(e.annotationElementId),this.#n.delete(t),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const n of this.#n.values())if(n instanceof dt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=this.#n.get(t);let s=!1;if(n!==void 0)for(const[o,l]of Object.entries(e))n[o]!==l&&(s=!0,n[o]=l);else s=!0,this.#n.set(t,e);s&&this.#a(),e instanceof dt&&((this.#i||=new Map).set(e.annotationElementId,e),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type))}has(t){return this.#n.has(t)}get size(){return this.#n.size}#a(){this.#t||(this.#t=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#t&&(this.#t=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new _y(this)}get serializable(){if(this.#n.size===0)return Qu;const t=new Map,e=new my,n=[],s=Object.create(null);let o=!1;for(const[l,c]of this.#n){const h=c instanceof dt?c.serialize(!1,s):c;h&&(t.set(l,h),e.update(`${l}:${JSON.stringify(h)}`),o||=!!h.bitmap)}if(o)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:Qu}get editorStats(){let t=null;const e=new Map;let n=0,s=0;for(const o of this.#n.values()){if(!(o instanceof dt)){o.popup&&(o.popup.deleted?s+=1:n+=1);continue}o.isCommentDeleted?s+=1:o.hasEditedComment&&(n+=1);const l=o.telemetryFinalData;if(!l)continue;const{type:c}=l;e.has(c)||e.set(c,Object.getPrototypeOf(o).constructor),t||=Object.create(null);const h=t[c]||=new Map;for(const[d,p]of Object.entries(l)){if(d==="type")continue;let g=h.get(d);g||(g=new Map,h.set(d,g));const _=g.get(p)??0;g.set(p,_+1)}}if((s>0||n>0)&&(t||=Object.create(null),t.comments={deleted:s,edited:n}),!t)return null;for(const[o,l]of e)t[o]=l.computeTelemetryFinalData(t[o]);return t}resetModifiedIds(){this.#e=null}updateEditor(t,e){const n=this.#i?.get(t);return n?(n.updateFromAnnotationLayer(e),!0):!1}getEditor(t){return this.#i?.get(t)||null}get modifiedIds(){if(this.#e)return this.#e;const t=[];if(this.#i)for(const e of this.#i.values())e.serialize()&&t.push(e.annotationElementId);return this.#e={ids:new Set(t),hash:t.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class _y extends Nh{#t;constructor(t){super();const{map:e,hash:n,transfer:s}=t.serializable,o=structuredClone(e,s?{transfer:s}:null);this.#t={map:o,hash:n,transfer:s}}get print(){Nt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#t}get modifiedIds(){return bt(this,"modifiedIds",{ids:new Set,hash:""})}}class nP{#t=new Set;constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),this.#t.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:e,_inspectFont:n}){if(!(!t||this.#t.has(t.loadedName))){if(kt(!e,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:o,style:l}=t,c=new FontFace(s,o,l);this.addNativeFontFace(c);try{await c.load(),this.#t.add(s),n?.(t)}catch{xt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}Nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(s){throw xt(`Failed to load font '${n.family}': '${s}'.`),t.disableFontFace=!0,s}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const s=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,s)})}}get isFontLoadingAPISupported(){const t=!!this._document?.fonts;return bt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return bt(this,"isSyncFontLoadingSupported",Te||ye.platform.isFirefox)}_queueLoadingCallback(t){function e(){for(kt(!s.done,"completeRequest() cannot be called twice."),s.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,s={done:!1,complete:e,callback:t};return n.push(s),s}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return bt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(E,T){return E.charCodeAt(T)<<24|E.charCodeAt(T+1)<<16|E.charCodeAt(T+2)<<8|E.charCodeAt(T+3)&255}function s(E,T,M,N){const O=E.substring(0,T),V=E.substring(T+M);return O+N+V}let o,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const h=c.getContext("2d");let d=0;function p(E,T){if(++d>30){xt("Load test font never loaded."),T();return}if(h.font="30px "+E,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(p.bind(null,E,T))}const g=`lt${Date.now()}${this.loadTestFontId++}`;let _=this._loadTestFont;_=s(_,976,g.length,g);const x=16,w=1482184792;let P=n(_,x);for(o=0,l=g.length-3;o<l;o+=4)P=P-w+n(g,o)|0;o<g.length&&(P=P-w+n(g+"XXX",o)|0),_=s(_,x,4,Fb(P));const A=`url(data:font/opentype;base64,${btoa(_)});`,C=`@font-face {font-family:"${g}";src:${A}}`;this.insertRule(C);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const E of[t.loadedName,g]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=E,S.append(T)}this._document.body.append(S),p(g,()=>{S.remove(),e.complete()})}}class iP{#t;constructor(t,e=null,n,s){this.compiledGlyphs=Object.create(null),this.#t=t,this._inspectFont=e,n&&Object.assign(this,n),s&&(this.charProcOperatorList=s)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this._inspectFont?.(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${hy(this.data)});`;let e;if(!this.cssFontInfo)e=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let n=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(n+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),e=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${n}src:${t}}`}return this._inspectFont?.(this,t),e}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];const n=this.loadedName+"_path_"+e;let s;try{s=t.get(n)}catch(l){xt(`getPathGenerator - ignoring character: "${l}".`)}const o=fy(s);return this.fontExtraProperties||t.delete(n),this.compiledGlyphs[e]=o}get black(){return this.#t.black}get bold(){return this.#t.bold}get disableFontFace(){return this.#t.disableFontFace??!1}set disableFontFace(t){bt(this,"disableFontFace",!!t)}get fontExtraProperties(){return this.#t.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#t.isInvalidPDFjsFont}get isType3Font(){return this.#t.isType3Font}get italic(){return this.#t.italic}get missingFile(){return this.#t.missingFile}get remeasure(){return this.#t.remeasure}get vertical(){return this.#t.vertical}get ascent(){return this.#t.ascent}get defaultWidth(){return this.#t.defaultWidth}get descent(){return this.#t.descent}get bbox(){return this.#t.bbox}set bbox(t){bt(this,"bbox",t)}get fontMatrix(){return this.#t.fontMatrix}get fallbackName(){return this.#t.fallbackName}get loadedName(){return this.#t.loadedName}get mimetype(){return this.#t.mimetype}get name(){return this.#t.name}get data(){return this.#t.data}clearData(){this.#t.clearData()}get cssFontInfo(){return this.#t.cssFontInfo}get systemFontInfo(){return this.#t.systemFontInfo}get defaultVMetrics(){return this.#t.defaultVMetrics}}class Is{#t;#e;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(t){const e=new TextEncoder,n={};let s=0;for(const d of Is.strings){const p=e.encode(t[d]);n[d]=p,s+=4+p.length}const o=new ArrayBuffer(s),l=new Uint8Array(o),c=new DataView(o);let h=0;for(const d of Is.strings){const p=n[d],g=p.length;c.setUint32(h,g),l.set(p,h+4),h+=4+g}return kt(h===o.byteLength,"CssFontInfo.write: Buffer overflow"),o}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}#n(t){kt(t<Is.strings.length,"Invalid string index");let e=0;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ds{#t;#e;#i;static strings=["css","loadedName","baseFontName","src"];static write(t){const e=new TextEncoder,n={};let s=0;for(const _ of Ds.strings){const v=e.encode(t[_]);n[_]=v,s+=4+v.length}s+=4;let o,l,c=1+s;t.style&&(o=e.encode(t.style.style),l=e.encode(t.style.weight),c+=4+o.length+4+l.length);const h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let g=0;p.setUint8(g++,t.guessFallback?1:0),p.setUint32(g,0),g+=4,s=0;for(const _ of Ds.strings){const v=n[_],x=v.length;s+=4+x,p.setUint32(g,x),d.set(v,g+4),g+=4+x}return p.setUint32(g-s-4,s),t.style&&(p.setUint32(g,o.length),d.set(o,g+4),g+=4+o.length,p.setUint32(g,l.length),d.set(l,g+4),g+=4+l.length),kt(g<=h.byteLength,"SubstitionInfo.write: Buffer overflow"),h.transferToFixedLength(g)}constructor(t){this.#t=t,this.#e=new DataView(this.#t),this.#i=new TextDecoder}get guessFallback(){return this.#e.getUint8(0)!==0}#n(t){kt(t<Ds.strings.length,"Invalid string index");let e=5;for(let s=0;s<t;s++)e+=this.#e.getUint32(e)+4;const n=this.#e.getUint32(e);return this.#i.decode(new Uint8Array(this.#t,e+4,n))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let t=1;t+=4+this.#e.getUint32(t);const e=this.#e.getUint32(t),n=this.#i.decode(new Uint8Array(this.#t,t+4,e));t+=4+e;const s=this.#e.getUint32(t),o=this.#i.decode(new Uint8Array(this.#t,t+4,s));return{style:n,weight:o}}}class Rt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#t=Math.ceil(this.bools.length*2/8);static#e=this.#t+this.numbers.length*8;static#i=this.#e+1+8;static#n=this.#i+1+48;static#a=this.#n+1+6;#r;#s;#o;constructor({data:t,extra:e}){this.#r=t,this.#s=new TextDecoder,this.#o=new DataView(this.#r),e&&Object.assign(this,e)}#c(t){kt(t<Rt.bools.length,"Invalid boolean index");const e=Math.floor(t/4),n=t*2%8,s=this.#o.getUint8(e)>>n&3;return s===0?void 0:s===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(t){return kt(t<Rt.numbers.length,"Invalid number index"),this.#o.getFloat64(Rt.#t+t*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let t=Rt.#e;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<4;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}get fontMatrix(){let t=Rt.#i;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<6;s++)n.push(this.#o.getFloat64(t,!0)),t+=8;return n}get defaultVMetrics(){let t=Rt.#n;if(this.#o.getUint8(t)===0)return;t+=1;const n=[];for(let s=0;s<3;s++)n.push(this.#o.getInt16(t,!0)),t+=2;return n}#d(t){kt(t<Rt.strings.length,"Invalid string index");let e=Rt.#a+4;for(let o=0;o<t;o++)e+=this.#o.getUint32(e)+4;const n=this.#o.getUint32(e),s=new Uint8Array(n);return s.set(new Uint8Array(this.#r,e+4,n)),this.#s.decode(s)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let t=Rt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const o=this.#o.getUint32(t);if(o!==0)return new Uint8Array(this.#r,t+4,o)}clearData(){let t=Rt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);t+=4+s;const o=this.#o.getUint32(t);new Uint8Array(this.#r,t+4,o).fill(0),this.#o.setUint32(t,0)}get cssFontInfo(){let t=Rt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);t+=4+n;const s=this.#o.getUint32(t);if(s===0)return null;const o=new Uint8Array(s);return o.set(new Uint8Array(this.#r,t+4,s)),new Is(o.buffer)}get systemFontInfo(){let t=Rt.#a;const e=this.#o.getUint32(t);t+=4+e;const n=this.#o.getUint32(t);if(n===0)return null;const s=new Uint8Array(n);return s.set(new Uint8Array(this.#r,t+4,n)),new Ds(s.buffer)}static write(t){const e=t.systemFontInfo?Ds.write(t.systemFontInfo):null,n=t.cssFontInfo?Is.write(t.cssFontInfo):null,s=new TextEncoder,o={};let l=0;for(const w of Rt.strings)o[w]=s.encode(t[w]),l+=4+o[w].length;const c=Rt.#a+4+l+4+(e?e.byteLength:0)+4+(n?n.byteLength:0)+4+(t.data?t.data.length:0),h=new ArrayBuffer(c),d=new Uint8Array(h),p=new DataView(h);let g=0;const _=Rt.bools.length;let v=0,x=0;for(let w=0;w<_;w++){const P=t[Rt.bools[w]];v|=(P===void 0?0:P?2:1)<<x,x+=2,(x===8||w===_-1)&&(p.setUint8(g++,v),v=0,x=0)}kt(g===Rt.#t,"FontInfo.write: Boolean properties offset mismatch");for(const w of Rt.numbers)p.setFloat64(g,t[w]),g+=8;if(kt(g===Rt.#e,"FontInfo.write: Number properties offset mismatch"),t.bbox){p.setUint8(g++,4);for(const w of t.bbox)p.setInt16(g,w,!0),g+=2}else p.setUint8(g++,0),g+=8;if(kt(g===Rt.#i,"FontInfo.write: BBox properties offset mismatch"),t.fontMatrix){p.setUint8(g++,6);for(const w of t.fontMatrix)p.setFloat64(g,w,!0),g+=8}else p.setUint8(g++,0),g+=48;if(kt(g===Rt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),t.defaultVMetrics){p.setUint8(g++,1);for(const w of t.defaultVMetrics)p.setInt16(g,w,!0),g+=2}else p.setUint8(g++,0),g+=6;kt(g===Rt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),p.setUint32(Rt.#a,0),g+=4;for(const w of Rt.strings){const P=o[w],A=P.length;p.setUint32(g,A),d.set(P,g+4),g+=4+A}if(p.setUint32(Rt.#a,g-Rt.#a-4),!e)p.setUint32(g,0),g+=4;else{const w=e.byteLength;p.setUint32(g,w),kt(g+4+w<=h.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(e),g+4),g+=4+w}if(!n)p.setUint32(g,0),g+=4;else{const w=n.byteLength;p.setUint32(g,w),kt(g+4+w<=h.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(n),g+4),g+=4+w}return t.data===void 0?(p.setUint32(g,0),g+=4):(p.setUint32(g,t.data.length),d.set(t.data,g+4),g+=4+t.data.length),kt(g<=h.byteLength,"FontInfo.write: Buffer overflow"),h.transferToFixedLength(g)}}class he{static#t=0;static#e=1;static#i=2;static#n=3;static#a=4;static#r=8;static#s=12;static#o=16;constructor(t){this.buffer=t,this.view=new DataView(t),this.data=new Uint8Array(t)}static write(t){let e,n=null,s=[],o=[],l=[],c=[],h=null,d=null;switch(t[0]){case"RadialAxial":e=t[1]==="axial"?1:2,n=t[2],l=t[3],e===1?s.push(...t[4],...t[5]):s.push(t[4][0],t[4][1],t[6],t[5][0],t[5][1],t[7]);break;case"Mesh":e=3,h=t[1],s=t[2],o=t[3],c=t[4]||[],n=t[6],d=t[7];break;default:throw new Error(`Unsupported pattern type: ${t[0]}`)}const p=Math.floor(s.length/2),g=Math.floor(o.length/3),_=l.length,v=c.length;let x=0;for(const T of c)x+=1,x=Math.ceil(x/4)*4,x+=4+T.coords.length*4,x+=4+T.colors.length*4,T.verticesPerRow!==void 0&&(x+=4);const w=20+p*8+g*3+_*8+(n?16:0)+(d?3:0)+x,P=new ArrayBuffer(w),A=new DataView(P),C=new Uint8Array(P);A.setUint8(he.#t,e),A.setUint8(he.#e,n?1:0),A.setUint8(he.#i,d?1:0),A.setUint8(he.#n,h),A.setUint32(he.#a,p,!0),A.setUint32(he.#r,g,!0),A.setUint32(he.#s,_,!0),A.setUint32(he.#o,v,!0);let S=20;new Float32Array(P,S,p*2).set(s),S+=p*8,C.set(o,S),S+=g*3;for(const[T,M]of l)A.setFloat32(S,T,!0),S+=4,A.setUint32(S,parseInt(M.slice(1),16),!0),S+=4;if(n)for(const T of n)A.setFloat32(S,T,!0),S+=4;d&&(C.set(d,S),S+=3);for(let T=0;T<c.length;T++){const M=c[T];A.setUint8(S,M.type),S+=1,S=Math.ceil(S/4)*4,A.setUint32(S,M.coords.length,!0),S+=4,new Int32Array(P,S,M.coords.length).set(M.coords),S+=M.coords.length*4,A.setUint32(S,M.colors.length,!0),S+=4,new Int32Array(P,S,M.colors.length).set(M.colors),S+=M.colors.length*4,M.verticesPerRow!==void 0&&(A.setUint32(S,M.verticesPerRow,!0),S+=4)}return P}getIR(){const t=this.view,e=this.data[he.#t],n=!!this.data[he.#e],s=!!this.data[he.#i],o=t.getUint32(he.#a,!0),l=t.getUint32(he.#r,!0),c=t.getUint32(he.#s,!0),h=t.getUint32(he.#o,!0);let d=20;const p=new Float32Array(this.buffer,d,o*2);d+=o*8;const g=new Uint8Array(this.buffer,d,l*3);d+=l*3;const _=[];for(let P=0;P<c;++P){const A=t.getFloat32(d,!0);d+=4;const C=t.getUint32(d,!0);d+=4,_.push([A,`#${C.toString(16).padStart(6,"0")}`])}let v=null;if(n){v=[];for(let P=0;P<4;++P)v.push(t.getFloat32(d,!0)),d+=4}let x=null;s&&(x=new Uint8Array(this.buffer,d,3),d+=3);const w=[];for(let P=0;P<h;++P){const A=t.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const C=t.getUint32(d,!0);d+=4;const S=new Int32Array(this.buffer,d,C);d+=C*4;const E=t.getUint32(d,!0);d+=4;const T=new Int32Array(this.buffer,d,E);d+=E*4;const M={type:A,coords:S,colors:T};A===Wu.LATTICE&&(M.verticesPerRow=t.getUint32(d,!0),d+=4),w.push(M)}if(e===1)return["RadialAxial","axial",v,_,Array.from(p.slice(0,2)),Array.from(p.slice(2,4)),null,null];if(e===2)return["RadialAxial","radial",v,_,[p[0],p[1]],[p[3],p[4]],p[2],p[5]];if(e===3){const P=this.data[he.#n];let A=null;if(p.length>0){let C=p[0],S=p[0],E=p[1],T=p[1];for(let M=0;M<p.length;M+=2){const N=p[M],O=p[M+1];C=C>N?N:C,E=E>O?O:E,S=S<N?N:S,T=T<O?O:T}A=[C,E,S,T]}return["Mesh",P,p,g,w,A,v,x]}throw new Error(`Unsupported pattern kind: ${e}`)}}function sP(a){if(a instanceof URL)return a.href;if(typeof a=="string"){if(Te)return a;const t=URL.parse(a,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function rP(a){if(Te&&typeof Buffer<"u"&&a instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength)return a;if(typeof a=="string")return ea(a);if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||typeof a=="object"&&!isNaN(a?.length))return new Uint8Array(a);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Po(a){if(typeof a!="string")return null;if(a.endsWith("/"))return a;throw new Error(`Invalid factory url: "${a}" must include trailing slash.`)}const Ju=a=>typeof a=="object"&&Number.isInteger(a?.num)&&a.num>=0&&Number.isInteger(a?.gen)&&a.gen>=0,aP=a=>typeof a=="object"&&typeof a?.name=="string",oP=Vb.bind(null,Ju,aP);class lP{#t=new Map;#e=Promise.resolve();postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};this.#e.then(()=>{for(const[s]of this.#t)s.call(this,n)})}addEventListener(t,e,n=null){let s=null;if(n?.signal instanceof AbortSignal){const{signal:o}=n;if(o.aborted){xt("LoopbackPort - cannot use an `aborted` signal.");return}const l=()=>this.removeEventListener(t,e);s=()=>o.removeEventListener("abort",l),o.addEventListener("abort",l)}this.#t.set(e,s)}removeEventListener(t,e){this.#t.get(e)?.(),this.#t.delete(e)}terminate(){for(const[,t]of this.#t)t?.();this.#t.clear()}}const Ao={DATA:1,ERROR:2},ne={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function um(){}function je(a){if(a instanceof mi||a instanceof qu||a instanceof nm||a instanceof Wo||a instanceof Au)return a;switch(a instanceof Error||typeof a=="object"&&a!==null||Nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),a.name){case"AbortException":return new mi(a.message);case"InvalidPDFException":return new qu(a.message);case"PasswordException":return new nm(a.message,a.code);case"ResponseException":return new Wo(a.message,a.status,a.missing);case"UnknownErrorException":return new Au(a.message,a.details)}return new Au(a.message,a.toString())}class Fr{#t=new AbortController;constructor(t,e,n){this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",this.#e.bind(this),{signal:this.#t.signal})}#e({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){this.#n(t);return}if(t.callback){const n=t.callbackId,s=this.callbackCapabilities[n];if(!s)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],t.callback===Ao.DATA)s.resolve(t.data);else if(t.callback===Ao.ERROR)s.reject(je(t.reason));else throw new Error("Unexpected callback case");return}const e=this.actionHandler[t.action];if(!e)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const n=this.sourceName,s=t.sourceName,o=this.comObj;Promise.try(e,t.data).then(function(l){o.postMessage({sourceName:n,targetName:s,callback:Ao.DATA,callbackId:t.callbackId,data:l})},function(l){o.postMessage({sourceName:n,targetName:s,callback:Ao.ERROR,callbackId:t.callbackId,reason:je(l)})});return}if(t.streamId){this.#i(t);return}e(t.data)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:s,data:e},n)}catch(l){o.reject(l)}return o.promise}sendWithStream(t,e,n,s){const o=this.streamId++,l=this.sourceName,c=this.targetName,h=this.comObj;return new ReadableStream({start:d=>{const p=Promise.withResolvers();return this.streamControllers[o]={controller:d,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:l,targetName:c,action:t,streamId:o,data:e,desiredSize:d.desiredSize},s),p.promise},pull:d=>{const p=Promise.withResolvers();return this.streamControllers[o].pullCall=p,h.postMessage({sourceName:l,targetName:c,stream:ne.PULL,streamId:o,desiredSize:d.desiredSize}),p.promise},cancel:d=>{kt(d instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[o].cancelCall=p,this.streamControllers[o].isClosed=!0,h.postMessage({sourceName:l,targetName:c,stream:ne.CANCEL,streamId:o,reason:je(d)}),p.promise}},n)}#i(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,o=this.comObj,l=this,c=this.actionHandler[t.action],h={enqueue(d,p=1,g){if(this.isCancelled)return;const _=this.desiredSize;this.desiredSize-=p,_>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:s,stream:ne.ENQUEUE,streamId:e,chunk:d},g)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:ne.CLOSE,streamId:e}),delete l.streamSinks[e])},error(d){kt(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:s,stream:ne.ERROR,streamId:e,reason:je(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[e]=h,Promise.try(c,t.data,h).then(function(){o.postMessage({sourceName:n,targetName:s,stream:ne.START_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:ne.START_COMPLETE,streamId:e,reason:je(d)})})}#n(t){const e=t.streamId,n=this.sourceName,s=t.sourceName,o=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case ne.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(je(t.reason));break;case ne.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(je(t.reason));break;case ne.PULL:if(!c){o.postMessage({sourceName:n,targetName:s,stream:ne.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,Promise.try(c.onPull||um).then(function(){o.postMessage({sourceName:n,targetName:s,stream:ne.PULL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:ne.PULL_COMPLETE,streamId:e,reason:je(d)})});break;case ne.ENQUEUE:if(kt(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case ne.CLOSE:if(kt(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),this.#a(l,e);break;case ne.ERROR:kt(l,"error should have stream controller"),l.controller.error(je(t.reason)),this.#a(l,e);break;case ne.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(je(t.reason)),this.#a(l,e);break;case ne.CANCEL:if(!c)break;const h=je(t.reason);Promise.try(c.onCancel||um,h).then(function(){o.postMessage({sourceName:n,targetName:s,stream:ne.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){o.postMessage({sourceName:n,targetName:s,stream:ne.CANCEL_COMPLETE,streamId:e,reason:je(d)})}),c.sinkCapability.reject(h),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}async#a(t,e){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[e]}destroy(){this.#t?.abort(),this.#t=null}}class yy{#t=!1;constructor({enableHWA:t=!1}){this.#t=t}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!this.#t})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Nt("Abstract method `_createCanvas` called.")}}class cP extends yy{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}class vy{constructor({baseUrl:t=null,isCompressed:e=!0}){this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(e).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}async _fetch(t){Nt("Abstract method `_fetch` called.")}}class hm extends vy{async _fetch(t){const e=await na(t,this.isCompressed?"arraybuffer":"text");return e instanceof ArrayBuffer?new Uint8Array(e):ea(e)}}class wy{addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,s,o){return"none"}destroy(t=!1){}}class uP extends wy{#t;#e;#i;#n;#a;#r;#s=0;constructor({docId:t,ownerDocument:e=globalThis.document}){super(),this.#n=t,this.#a=e}get#o(){return this.#e||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#i){const t=this.#a.createElement("div"),{style:e}=t;e.visibility="hidden",e.contain="strict",e.width=e.height=0,e.position="absolute",e.top=e.left=0,e.zIndex=-1;const n=this.#a.createElementNS(On,"svg");n.setAttribute("width",0),n.setAttribute("height",0),this.#i=this.#a.createElementNS(On,"defs"),t.append(n),n.append(this.#i),this.#a.body.append(t)}return this.#i}#d(t){if(t.length===1){const h=t[0],d=new Array(256);for(let g=0;g<256;g++)d[g]=h[g]/255;const p=d.join(",");return[p,p,p]}const[e,n,s]=t,o=new Array(256),l=new Array(256),c=new Array(256);for(let h=0;h<256;h++)o[h]=e[h]/255,l[h]=n[h]/255,c[h]=s[h]/255;return[o.join(","),l.join(","),c.join(",")]}#h(t){if(this.#t===void 0){this.#t="";const e=this.#a.URL;e!==this.#a.baseURI&&(ol(e)?xt('#createUrl: ignore "data:"-URL for performance reasons.'):this.#t=ly(e,""))}return`url(${this.#t}#${t})`}addFilter(t){if(!t)return"none";let e=this.#o.get(t);if(e)return e;const[n,s,o]=this.#d(t),l=t.length===1?n:`${n}${s}${o}`;if(e=this.#o.get(l),e)return this.#o.set(t,e),e;const c=`g_${this.#n}_transfer_map_${this.#s++}`,h=this.#h(c);this.#o.set(t,h),this.#o.set(l,h);const d=this.#g(c);return this.#f(n,s,o,d),h}addHCMFilter(t,e){const n=`${t}-${e}`,s="base";let o=this.#c.get(s);if(o?.key===n||(o?(o.filter?.remove(),o.key=n,o.url="none",o.filter=null):(o={key:n,url:"none",filter:null},this.#c.set(s,o)),!t||!e))return o.url;const l=this.#v(t);t=ot.makeHexColor(...l);const c=this.#v(e);if(e=ot.makeHexColor(...c),this.#l.style.color="",t==="#000000"&&e==="#ffffff"||t===e)return o.url;const h=new Array(256);for(let v=0;v<=255;v++){const x=v/255;h[v]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const d=h.join(","),p=`g_${this.#n}_hcm_filter`,g=o.filter=this.#g(p);this.#f(d,d,d,g),this.#m(g);const _=(v,x)=>{const w=l[v]/255,P=c[v]/255,A=new Array(x+1);for(let C=0;C<=x;C++)A[C]=w+C/x*(P-w);return A.join(",")};return this.#f(_(0,5),_(1,5),_(2,5),g),o.url=this.#h(p),o.url}addAlphaFilter(t){let e=this.#o.get(t);if(e)return e;const[n]=this.#d([t]),s=`alpha_${n}`;if(e=this.#o.get(s),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_alpha_map_${this.#s++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(s,l);const c=this.#g(o);return this.#_(n,c),l}addLuminosityFilter(t){let e=this.#o.get(t||"luminosity");if(e)return e;let n,s;if(t?([n]=this.#d([t]),s=`luminosity_${n}`):s="luminosity",e=this.#o.get(s),e)return this.#o.set(t,e),e;const o=`g_${this.#n}_luminosity_map_${this.#s++}`,l=this.#h(o);this.#o.set(t,l),this.#o.set(s,l);const c=this.#g(o);return this.#p(c),t&&this.#_(n,c),l}addHighlightHCMFilter(t,e,n,s,o){const l=`${e}-${n}-${s}-${o}`;let c=this.#c.get(t);if(c?.key===l||(c?(c.filter?.remove(),c.key=l,c.url="none",c.filter=null):(c={key:l,url:"none",filter:null},this.#c.set(t,c)),!e||!n))return c.url;const[h,d]=[e,n].map(this.#v.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),g=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[_,v]=[s,o].map(this.#v.bind(this));g<p&&([p,g,_,v]=[g,p,v,_]),this.#l.style.color="";const x=(A,C,S)=>{const E=new Array(256),T=(g-p)/S,M=A/255,N=(C-A)/(255*S);let O=0;for(let V=0;V<=S;V++){const Y=Math.round(p+V*T),tt=M+V*N;for(let ht=O;ht<=Y;ht++)E[ht]=tt;O=Y+1}for(let V=O;V<256;V++)E[V]=E[O-1];return E.join(",")},w=`g_${this.#n}_hcm_${t}_filter`,P=c.filter=this.#g(w);return this.#m(P),this.#f(x(_[0],v[0],5),x(_[1],v[1],5),x(_[2],v[2],5),P),c.url=this.#h(w),c.url}destroy(t=!1){t&&this.#r?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#e?.clear(),this.#e=null,this.#r?.clear(),this.#r=null,this.#s=0)}#p(t){const e=this.#a.createElementNS(On,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}#m(t){const e=this.#a.createElementNS(On,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}#g(t){const e=this.#a.createElementNS(On,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),this.#l.append(e),e}#u(t,e,n){const s=this.#a.createElementNS(On,e);s.setAttribute("type","discrete"),s.setAttribute("tableValues",n),t.append(s)}#f(t,e,n,s){const o=this.#a.createElementNS(On,"feComponentTransfer");s.append(o),this.#u(o,"feFuncR",t),this.#u(o,"feFuncG",e),this.#u(o,"feFuncB",n)}#_(t,e){const n=this.#a.createElementNS(On,"feComponentTransfer");e.append(n),this.#u(n,"feFuncA",t)}#v(t){return this.#l.style.color=t,sa(getComputedStyle(this.#l).getPropertyValue("color"))}}class xy{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}async _fetch(t){Nt("Abstract method `_fetch` called.")}}class dm extends xy{async _fetch(t){const e=await na(t,"arraybuffer");return new Uint8Array(e)}}class by{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetch(e).catch(n=>{throw new Error(`Unable to load wasm data at: ${e}`)})}async _fetch(t){Nt("Abstract method `_fetch` called.")}}class pm extends by{async _fetch(t){const e=await na(t,"arraybuffer");return new Uint8Array(e)}}Te&&xt("Please use the `legacy` build in Node.js environments.");async function Fh(a){const e=await process.getBuiltinModule("fs").promises.readFile(a);return new Uint8Array(e)}class hP extends wy{}class dP extends yy{_createCanvas(t,e){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,e)}}class pP extends vy{async _fetch(t){return Fh(t)}}class fP extends xy{async _fetch(t){return Fh(t)}}class gP extends by{async _fetch(t){return Fh(t)}}const xs="__forcedDependency",{floor:fm,ceil:gm}=Math;function So(a,t,e,n,s,o){a[t*4+0]=Math.min(a[t*4+0],e),a[t*4+1]=Math.min(a[t*4+1],n),a[t*4+2]=Math.max(a[t*4+2],s),a[t*4+3]=Math.max(a[t*4+3],o)}const Zu=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class mP{#t;#e;constructor(t,e){this.#t=t,this.#e=e}get length(){return this.#t.length}isEmpty(t){return this.#t[t]===Zu}minX(t){return this.#e[t*4+0]/256}minY(t){return this.#e[t*4+1]/256}maxX(t){return(this.#e[t*4+2]+1)/256}maxY(t){return(this.#e[t*4+3]+1)/256}}const Co=(a,t)=>{if(!a)return;let e=a.get(t);return e||(e={dependencies:new Set,isRenderingOperation:!1},a.set(t,e)),e};class _P{#t={__proto__:null};#e={__proto__:null,transform:[],moveText:[],sameLineText:[],[xs]:[]};#i=new Map;#n=[];#a=[];#r=[[1,0,0,1,0,0]];#s=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#p;#m;#g;#u;#f;constructor(t,e,n=!1){this.#p=t.width,this.#m=t.height,this.#_(e),n&&(this.#f=new Map)}growOperationsCount(t){t>=this.#u.length&&this.#_(t,this.#u)}#_(t,e){const n=new ArrayBuffer(t*4);this.#g=new Uint8ClampedArray(n),this.#u=new Uint32Array(n),e&&e.length>0?(this.#u.set(e),this.#u.fill(Zu,e.length)):this.#u.fill(Zu)}save(t){return this.#t={__proto__:this.#t},this.#e={__proto__:this.#e,transform:{__proto__:this.#e.transform},moveText:{__proto__:this.#e.moveText},sameLineText:{__proto__:this.#e.sameLineText},[xs]:{__proto__:this.#e[xs]}},this.#s={__proto__:this.#s},this.#n.push(t),this}restore(t){const e=Object.getPrototypeOf(this.#t);if(e===null)return this;this.#t=e,this.#e=Object.getPrototypeOf(this.#e),this.#s=Object.getPrototypeOf(this.#s);const n=this.#n.pop();return n!==void 0&&(Co(this.#f,t)?.dependencies.add(n),this.#u[t]=this.#u[n]),this}recordOpenMarker(t){return this.#n.push(t),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(t){const e=this.#n.pop();return e!==void 0&&(Co(this.#f,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}beginMarkedContent(t){return this.#a.push(t),this}endMarkedContent(t){const e=this.#a.pop();return e!==void 0&&(Co(this.#f,t)?.dependencies.add(e),this.#u[t]=this.#u[e]),this}pushBaseTransform(t){return this.#r.push(ot.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(t,e){return this.#t[t]=e,this}recordIncrementalData(t,e){return this.#e[t].push(e),this}resetIncrementalData(t,e){return this.#e[t].length=0,this}recordNamedData(t,e){return this.#i.set(t,e),this}recordSimpleDataFromNamed(t,e,n){this.#t[t]=this.#i.get(e)??n}recordFutureForcedDependency(t,e){return this.recordIncrementalData(xs,e),this}inheritSimpleDataAsFutureForcedDependencies(t){for(const e of t)e in this.#t&&this.recordFutureForcedDependency(e,this.#t[e]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const t of this.#l)this.recordFutureForcedDependency(xs,t);return this}resetBBox(t){return this.#c!==t&&(this.#c=t,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(t,e,n,s,o,l){const c=ot.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform()),h=[1/0,1/0,-1/0,-1/0];ot.axialAlignedBoundingBox([n,o,s,l],c,h);const d=ot.intersect(this.#s,h);return d?(this.#s[0]=d[0],this.#s[1]=d[1],this.#s[2]=d[2],this.#s[3]=d[3]):(this.#s[0]=this.#s[1]=1/0,this.#s[2]=this.#s[3]=-1/0),this}recordBBox(t,e,n,s,o,l){const c=this.#s;if(c[0]===1/0)return this;const h=ot.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform());if(c[0]===-1/0)return ot.axialAlignedBoundingBox([n,o,s,l],h,this.#o),this;const d=[1/0,1/0,-1/0,-1/0];return ot.axialAlignedBoundingBox([n,o,s,l],h,d),this.#o[0]=Math.min(this.#o[0],Math.max(d[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(d[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(d[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(d[3],c[3])),this}recordCharacterBBox(t,e,n,s=1,o=0,l=0,c){const h=n.bbox;let d,p;if(h&&(d=h[2]!==h[0]&&h[3]!==h[1]&&this.#h.get(n),d!==!1&&(p=[0,0,0,0],ot.axialAlignedBoundingBox(h,n.fontMatrix,p),(s!==1||o!==0||l!==0)&&ot.scaleMinMax([s,0,0,-s,o,l],p),d)))return this.recordBBox(t,e,p[0],p[2],p[1],p[3]);if(!c)return this.recordFullPageBBox(t);const g=c();return h&&p&&d===void 0&&(d=p[0]<=o-g.actualBoundingBoxLeft&&p[2]>=o+g.actualBoundingBoxRight&&p[1]<=l-g.actualBoundingBoxAscent&&p[3]>=l+g.actualBoundingBoxDescent,this.#h.set(n,d),d)?this.recordBBox(t,e,p[0],p[2],p[1],p[3]):this.recordBBox(t,e,o-g.actualBoundingBoxLeft,o+g.actualBoundingBoxRight,l-g.actualBoundingBoxAscent,l+g.actualBoundingBoxDescent)}recordFullPageBBox(t){return this.#o[0]=Math.max(0,this.#s[0]),this.#o[1]=Math.max(0,this.#s[1]),this.#o[2]=Math.min(this.#p,this.#s[2]),this.#o[3]=Math.min(this.#m,this.#s[3]),this}getSimpleIndex(t){return this.#t[t]}recordDependencies(t,e){const n=this.#l,s=this.#t,o=this.#e;for(const l of e)l in this.#t?n.add(s[l]):l in o&&o[l].forEach(n.add,n);return this}recordNamedDependency(t,e){return this.#i.has(e)&&this.#l.add(this.#i.get(e)),this}recordOperation(t,e=!1){if(this.recordDependencies(t,[xs]),this.#f){const n=Co(this.#f,t),{dependencies:s}=n;this.#l.forEach(s.add,s),this.#n.forEach(s.add,s),this.#a.forEach(s.add,s),s.delete(t),n.isRenderingOperation=!0}if(this.#c===t){const n=fm(this.#o[0]*256/this.#p),s=fm(this.#o[1]*256/this.#m),o=gm(this.#o[2]*256/this.#p),l=gm(this.#o[3]*256/this.#m);So(this.#g,t,n,s,o,l);for(const c of this.#l)c!==t&&So(this.#g,c,n,s,o,l);for(const c of this.#n)c!==t&&So(this.#g,c,n,s,o,l);for(const c of this.#a)c!==t&&So(this.#g,c,n,s,o,l);e||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(t,e=!1){const n=Array.from(this.#l);this.recordOperation(t,e),this.recordIncrementalData("sameLineText",t);for(const s of n)this.recordIncrementalData("sameLineText",s);return this}bboxToClipBoxDropOperation(t,e=!1){return this.#c===t&&(this.#c=-1,this.#s[0]=Math.max(this.#s[0],this.#o[0]),this.#s[1]=Math.max(this.#s[1],this.#o[1]),this.#s[2]=Math.min(this.#s[2],this.#o[2]),this.#s[3]=Math.min(this.#s[3],this.#o[3]),e||this.#l.clear()),this}_takePendingDependencies(){const t=this.#l;return this.#l=new Set,t}_extractOperation(t){const e=this.#d.get(t);return this.#d.delete(t),e}_pushPendingDependencies(t){for(const e of t)this.#l.add(e)}take(){return this.#h.clear(),new mP(this.#u,this.#g)}takeDebugMetadata(){return this.#f}}class qo{#t;#e;#i;#n=0;#a=0;constructor(t,e,n){if(t instanceof qo&&t.#i===!!n)return t;this.#t=t,this.#e=e,this.#i=!!n}growOperationsCount(){throw new Error("Unreachable")}save(t){return this.#a++,this.#t.save(this.#e),this}restore(t){return this.#a>0&&(this.#t.restore(this.#e),this.#a--),this}recordOpenMarker(t){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#e:this.#t.getOpenMarker()}recordCloseMarker(t){return this.#n--,this}beginMarkedContent(t){return this}endMarkedContent(t){return this}pushBaseTransform(t){return this.#t.pushBaseTransform(t),this}popBaseTransform(){return this.#t.popBaseTransform(),this}recordSimpleData(t,e){return this.#t.recordSimpleData(t,this.#e),this}recordIncrementalData(t,e){return this.#t.recordIncrementalData(t,this.#e),this}resetIncrementalData(t,e){return this.#t.resetIncrementalData(t,this.#e),this}recordNamedData(t,e){return this}recordSimpleDataFromNamed(t,e,n){return this.#t.recordSimpleDataFromNamed(t,e,this.#e),this}recordFutureForcedDependency(t,e){return this.#t.recordFutureForcedDependency(t,this.#e),this}inheritSimpleDataAsFutureForcedDependencies(t){return this.#t.inheritSimpleDataAsFutureForcedDependencies(t),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#t.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(t){return this.#i||this.#t.resetBBox(this.#e),this}recordClipBox(t,e,n,s,o,l){return this.#i||this.#t.recordClipBox(this.#e,e,n,s,o,l),this}recordBBox(t,e,n,s,o,l){return this.#i||this.#t.recordBBox(this.#e,e,n,s,o,l),this}recordCharacterBBox(t,e,n,s,o,l,c){return this.#i||this.#t.recordCharacterBBox(this.#e,e,n,s,o,l,c),this}recordFullPageBBox(t){return this.#i||this.#t.recordFullPageBBox(this.#e),this}getSimpleIndex(t){return this.#t.getSimpleIndex(t)}recordDependencies(t,e){return this.#t.recordDependencies(this.#e,e),this}recordNamedDependency(t,e){return this.#t.recordNamedDependency(this.#e,e),this}recordOperation(t){return this.#t.recordOperation(this.#e,!0),this}recordShowTextOperation(t){return this.#t.recordShowTextOperation(this.#e,!0),this}bboxToClipBoxDropOperation(t){return this.#i||this.#t.bboxToClipBoxDropOperation(this.#e,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const sn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},_e={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function th(a,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],s=new Path2D;s.rect(t[0],t[1],e,n),a.clip(s)}class Oh{isModifyingCurrentTransform(){return!1}getPattern(){Nt("Abstract method `getPattern` called.")}}class yP extends Oh{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,s){let o;if(s===_e.STROKE||s===_e.FILL){const l=e.current.getClippedPathBoundingBox(s,$t(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,h=Math.ceil(l[3]-l[1])||1,d=e.cachedCanvases.getCanvas("pattern",c,h),p=d.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-l[0],-l[1]),n=ot.transform(n,[1,0,0,1,l[0],l[1]]),p.transform(...e.baseTransform),this.matrix&&p.transform(...this.matrix),th(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),o=t.createPattern(d.canvas,"no-repeat");const g=new DOMMatrix(n);o.setTransform(g)}else th(t,this._bbox),o=this._createGradient(t);return o}}function ku(a,t,e,n,s,o,l,c){const h=t.coords,d=t.colors,p=a.data,g=a.width*4;let _;h[e+1]>h[n+1]&&(_=e,e=n,n=_,_=o,o=l,l=_),h[n+1]>h[s+1]&&(_=n,n=s,s=_,_=l,l=c,c=_),h[e+1]>h[n+1]&&(_=e,e=n,n=_,_=o,o=l,l=_);const v=(h[e]+t.offsetX)*t.scaleX,x=(h[e+1]+t.offsetY)*t.scaleY,w=(h[n]+t.offsetX)*t.scaleX,P=(h[n+1]+t.offsetY)*t.scaleY,A=(h[s]+t.offsetX)*t.scaleX,C=(h[s+1]+t.offsetY)*t.scaleY;if(x>=C)return;const S=d[o],E=d[o+1],T=d[o+2],M=d[l],N=d[l+1],O=d[l+2],V=d[c],Y=d[c+1],tt=d[c+2],ht=Math.round(x),H=Math.round(C);let Q,st,X,K,U,J,et,I;for(let z=ht;z<=H;z++){if(z<P){const _t=z<x?0:(x-z)/(x-P);Q=v-(v-w)*_t,st=S-(S-M)*_t,X=E-(E-N)*_t,K=T-(T-O)*_t}else{let _t;z>C?_t=1:P===C?_t=0:_t=(P-z)/(P-C),Q=w-(w-A)*_t,st=M-(M-V)*_t,X=N-(N-Y)*_t,K=O-(O-tt)*_t}let nt;z<x?nt=0:z>C?nt=1:nt=(x-z)/(x-C),U=v-(v-A)*nt,J=S-(S-V)*nt,et=E-(E-Y)*nt,I=T-(T-tt)*nt;const pt=Math.round(Math.min(Q,U)),ft=Math.round(Math.max(Q,U));let yt=g*z+pt*4;for(let _t=pt;_t<=ft;_t++)nt=(Q-_t)/(Q-U),nt<0?nt=0:nt>1&&(nt=1),p[yt++]=st-(st-J)*nt|0,p[yt++]=X-(X-et)*nt|0,p[yt++]=K-(K-I)*nt|0,p[yt++]=255}}function vP(a,t,e){const n=t.coords,s=t.colors;let o,l;switch(t.type){case Wu.LATTICE:const c=t.verticesPerRow,h=Math.floor(n.length/c)-1,d=c-1;for(o=0;o<h;o++){let p=o*c;for(let g=0;g<d;g++,p++)ku(a,e,n[p],n[p+1],n[p+c],s[p],s[p+1],s[p+c]),ku(a,e,n[p+c+1],n[p+1],n[p+c],s[p+c+1],s[p+1],s[p+c])}break;case Wu.TRIANGLES:for(o=0,l=n.length;o<l;o+=3)ku(a,e,n[o],n[o+1],n[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}class wP extends Oh{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-c,p=Math.ceil(this._bounds[3])-h,g=Math.min(Math.ceil(Math.abs(d*t[0]*1.1)),3e3),_=Math.min(Math.ceil(Math.abs(p*t[1]*1.1)),3e3),v=d/g,x=p/_,w={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-h,scaleX:1/v,scaleY:1/x},P=g+4,A=_+4,C=n.getCanvas("mesh",P,A),S=C.context,E=S.createImageData(g,_);if(e){const M=E.data;for(let N=0,O=M.length;N<O;N+=4)M[N]=e[0],M[N+1]=e[1],M[N+2]=e[2],M[N+3]=255}for(const M of this._figures)vP(E,M,w);return S.putImageData(E,2,2),{canvas:C.canvas,offsetX:c-2*v,offsetY:h-2*x,scaleX:v,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(t,e,n,s){th(t,this._bbox);const o=new Float32Array(2);if(s===_e.SHADING)ot.singularValueDecompose2dScale($t(t),o);else if(this.matrix){ot.singularValueDecompose2dScale(this.matrix,o);const[c,h]=o;ot.singularValueDecompose2dScale(e.baseTransform,o),o[0]*=c,o[1]*=h}else ot.singularValueDecompose2dScale(e.baseTransform,o);const l=this._createMeshCanvas(o,s===_e.SHADING?null:this._background,e.cachedCanvases);return s!==_e.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class xP extends Oh{getPattern(){return"hotpink"}}function bP(a){switch(a[0]){case"RadialAxial":return new yP(a);case"Mesh":return new wP(a);case"Dummy":return new xP}throw new Error(`Unknown IR type: ${a[0]}`)}const mm={COLORED:1,UNCOLORED:2};class Bh{static MAX_PATTERN_SIZE=3e3;constructor(t,e,n,s){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=e,this.canvasGraphicsFactory=n,this.baseTransform=s}createPatternCanvas(t,e){const{bbox:n,operatorList:s,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:h}=this;let{xstep:d,ystep:p}=this;d=Math.abs(d),p=Math.abs(p),al("TilingType: "+l);const g=n[0],_=n[1],v=n[2],x=n[3],w=v-g,P=x-_,A=new Float32Array(2);ot.singularValueDecompose2dScale(this.matrix,A);const[C,S]=A;ot.singularValueDecompose2dScale(this.baseTransform,A);const E=C*A[0],T=S*A[1];let M=w,N=P,O=!1,V=!1;const Y=Math.ceil(d*E),tt=Math.ceil(p*T),ht=Math.ceil(w*E),H=Math.ceil(P*T);Y>=ht?M=d:O=!0,tt>=H?N=p:V=!0;const Q=this.getSizeAndScale(M,this.ctx.canvas.width,E),st=this.getSizeAndScale(N,this.ctx.canvas.height,T),X=t.cachedCanvases.getCanvas("pattern",Q.size,st.size),K=X.context,U=h.createCanvasGraphics(K,e);if(U.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(U,o,c),K.translate(-Q.scale*g,-st.scale*_),U.transform(0,Q.scale,0,0,st.scale,0,0),K.save(),U.dependencyTracker?.save(),this.clipBbox(U,g,_,v,x),U.baseTransform=$t(U.ctx),U.executeOperatorList(s),U.endDrawing(),U.dependencyTracker?.restore(),K.restore(),O||V){const J=X.canvas;O&&(M=d),V&&(N=p);const et=this.getSizeAndScale(M,this.ctx.canvas.width,E),I=this.getSizeAndScale(N,this.ctx.canvas.height,T),z=et.size,nt=I.size,pt=t.cachedCanvases.getCanvas("pattern-workaround",z,nt),ft=pt.context,yt=O?Math.floor(w/d):0,_t=V?Math.floor(P/p):0;for(let St=0;St<=yt;St++)for(let Et=0;Et<=_t;Et++)ft.drawImage(J,z*St,nt*Et,z,nt,0,0,z,nt);return{canvas:pt.canvas,scaleX:et.scale,scaleY:I.scale,offsetX:g,offsetY:_}}return{canvas:X.canvas,scaleX:Q.scale,scaleY:st.scale,offsetX:g,offsetY:_}}getSizeAndScale(t,e,n){const s=Math.max(Bh.MAX_PATTERN_SIZE,e);let o=Math.ceil(t*n);return o>=s?o=s:n=o/t,{scale:n,size:o}}clipBbox(t,e,n,s,o){const l=s-e,c=o-n;t.ctx.rect(e,n,l,c),ot.axialAlignedBoundingBox([e,n,s,o],$t(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const s=t.ctx,o=t.current;switch(e){case mm.COLORED:const{fillStyle:l,strokeStyle:c}=this.ctx;s.fillStyle=o.fillColor=l,s.strokeStyle=o.strokeColor=c;break;case mm.UNCOLORED:s.fillStyle=s.strokeStyle=n,o.fillColor=o.strokeColor=n;break;default:throw new Nb(`Unsupported paint type: ${e}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,e,n,s,o){let l=n;s!==_e.SHADING&&(l=ot.transform(l,e.baseTransform),this.matrix&&(l=ot.transform(l,this.matrix)));const c=this.createPatternCanvas(e,o);let h=new DOMMatrix(l);h=h.translate(c.offsetX,c.offsetY),h=h.scale(1/c.scaleX,1/c.scaleY);const d=t.createPattern(c.canvas,"repeat");return d.setTransform(h),d}}function PP({src:a,srcPos:t=0,dest:e,width:n,height:s,nonBlackColor:o=4294967295,inverseDecode:l=!1}){const c=ye.isLittleEndian?4278190080:255,[h,d]=l?[o,c]:[c,o],p=n>>3,g=n&7,_=a.length;e=new Uint32Array(e.buffer);let v=0;for(let x=0;x<s;x++){for(const P=t+p;t<P;t++){const A=t<_?a[t]:255;e[v++]=A&128?d:h,e[v++]=A&64?d:h,e[v++]=A&32?d:h,e[v++]=A&16?d:h,e[v++]=A&8?d:h,e[v++]=A&4?d:h,e[v++]=A&2?d:h,e[v++]=A&1?d:h}if(g===0)continue;const w=t<_?a[t++]:255;for(let P=0;P<g;P++)e[v++]=w&1<<7-P?d:h}return{srcPos:t,destPos:v}}const _m=16,ym=100,AP=15,vm=10,ze=16,Eu=new DOMMatrix,qe=new Float32Array(2),Ls=new Float32Array([1/0,1/0,-1/0,-1/0]);function SP(a,t){if(a._removeMirroring)throw new Error("Context is already forwarding operations.");a.__originalSave=a.save,a.__originalRestore=a.restore,a.__originalRotate=a.rotate,a.__originalScale=a.scale,a.__originalTranslate=a.translate,a.__originalTransform=a.transform,a.__originalSetTransform=a.setTransform,a.__originalResetTransform=a.resetTransform,a.__originalClip=a.clip,a.__originalMoveTo=a.moveTo,a.__originalLineTo=a.lineTo,a.__originalBezierCurveTo=a.bezierCurveTo,a.__originalRect=a.rect,a.__originalClosePath=a.closePath,a.__originalBeginPath=a.beginPath,a._removeMirroring=()=>{a.save=a.__originalSave,a.restore=a.__originalRestore,a.rotate=a.__originalRotate,a.scale=a.__originalScale,a.translate=a.__originalTranslate,a.transform=a.__originalTransform,a.setTransform=a.__originalSetTransform,a.resetTransform=a.__originalResetTransform,a.clip=a.__originalClip,a.moveTo=a.__originalMoveTo,a.lineTo=a.__originalLineTo,a.bezierCurveTo=a.__originalBezierCurveTo,a.rect=a.__originalRect,a.closePath=a.__originalClosePath,a.beginPath=a.__originalBeginPath,delete a._removeMirroring},a.save=function(){t.save(),this.__originalSave()},a.restore=function(){t.restore(),this.__originalRestore()},a.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},a.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},a.transform=function(e,n,s,o,l,c){t.transform(e,n,s,o,l,c),this.__originalTransform(e,n,s,o,l,c)},a.setTransform=function(e,n,s,o,l,c){t.setTransform(e,n,s,o,l,c),this.__originalSetTransform(e,n,s,o,l,c)},a.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},a.rotate=function(e){t.rotate(e),this.__originalRotate(e)},a.clip=function(e){t.clip(e),this.__originalClip(e)},a.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},a.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},a.bezierCurveTo=function(e,n,s,o,l,c){t.bezierCurveTo(e,n,s,o,l,c),this.__originalBezierCurveTo(e,n,s,o,l,c)},a.rect=function(e,n,s,o){t.rect(e,n,s,o),this.__originalRect(e,n,s,o)},a.closePath=function(){t.closePath(),this.__originalClosePath()},a.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class CP{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let s;return this.cache[t]!==void 0?(s=this.cache[t],this.canvasFactory.reset(s,e,n)):(s=this.canvasFactory.create(e,n),this.cache[t]=s),s}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function ko(a,t,e,n,s,o,l,c,h,d){const[p,g,_,v,x,w]=$t(a);if(g===0&&_===0){const C=l*p+x,S=Math.round(C),E=c*v+w,T=Math.round(E),M=(l+h)*p+x,N=Math.abs(Math.round(M)-S)||1,O=(c+d)*v+w,V=Math.abs(Math.round(O)-T)||1;return a.setTransform(Math.sign(p),0,0,Math.sign(v),S,T),a.drawImage(t,e,n,s,o,0,0,N,V),a.setTransform(p,g,_,v,x,w),[N,V]}if(p===0&&v===0){const C=c*_+x,S=Math.round(C),E=l*g+w,T=Math.round(E),M=(c+d)*_+x,N=Math.abs(Math.round(M)-S)||1,O=(l+h)*g+w,V=Math.abs(Math.round(O)-T)||1;return a.setTransform(0,Math.sign(g),Math.sign(_),0,S,T),a.drawImage(t,e,n,s,o,0,0,V,N),a.setTransform(p,g,_,v,x,w),[V,N]}a.drawImage(t,e,n,s,o,l,c,h,d);const P=Math.hypot(p,g),A=Math.hypot(_,v);return[P*h,A*d]}class wm{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=$u;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=ge.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(t,e,n){n?.(this),this.clipBox=new Float32Array([0,0,t,e]),this.minMax=Ls.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=_e.FILL,e=null){const n=this.minMax.slice();if(t===_e.STROKE){e||Nt("Stroke bounding box must include transform."),ot.singularValueDecompose2dScale(e,qe);const s=qe[0]*this.lineWidth/2,o=qe[1]*this.lineWidth/2;n[0]-=s,n[1]-=o,n[2]+=s,n[3]+=o}return n}updateClipFromPath(){const t=ot.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(Ls,0)}getClippedPathBoundingBox(t=_e.FILL,e=null){return ot.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function xm(a,t){if(t instanceof ImageData){a.putImageData(t,0,0);return}const e=t.height,n=t.width,s=e%ze,o=(e-s)/ze,l=s===0?o:o+1,c=a.createImageData(n,ze);let h=0,d;const p=t.data,g=c.data;let _,v,x,w;if(t.kind===Ro.GRAYSCALE_1BPP){const P=p.byteLength,A=new Uint32Array(g.buffer,0,g.byteLength>>2),C=A.length,S=n+7>>3,E=4294967295,T=ye.isLittleEndian?4278190080:255;for(_=0;_<l;_++){for(x=_<o?ze:s,d=0,v=0;v<x;v++){const M=P-h;let N=0;const O=M>S?n:M*8-7,V=O&-8;let Y=0,tt=0;for(;N<V;N+=8)tt=p[h++],A[d++]=tt&128?E:T,A[d++]=tt&64?E:T,A[d++]=tt&32?E:T,A[d++]=tt&16?E:T,A[d++]=tt&8?E:T,A[d++]=tt&4?E:T,A[d++]=tt&2?E:T,A[d++]=tt&1?E:T;for(;N<O;N++)Y===0&&(tt=p[h++],Y=128),A[d++]=tt&Y?E:T,Y>>=1}for(;d<C;)A[d++]=0;a.putImageData(c,0,_*ze)}}else if(t.kind===Ro.RGBA_32BPP){for(v=0,w=n*ze*4,_=0;_<o;_++)g.set(p.subarray(h,h+w)),h+=w,a.putImageData(c,0,v),v+=ze;_<l&&(w=n*s*4,g.set(p.subarray(h,h+w)),a.putImageData(c,0,v))}else if(t.kind===Ro.RGB_24BPP)for(x=ze,w=n*x,_=0;_<l;_++){for(_>=o&&(x=s,w=n*x),d=0,v=w;v--;)g[d++]=p[h++],g[d++]=p[h++],g[d++]=p[h++],g[d++]=255;a.putImageData(c,0,_*ze)}else throw new Error(`bad image kind: ${t.kind}`)}function bm(a,t){if(t.bitmap){a.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,s=e%ze,o=(e-s)/ze,l=s===0?o:o+1,c=a.createImageData(n,ze);let h=0;const d=t.data,p=c.data;for(let g=0;g<l;g++){const _=g<o?ze:s;({srcPos:h}=PP({src:d,srcPos:h,dest:p,width:n,height:_,nonBlackColor:0})),a.putImageData(c,0,g*ze)}}function Lr(a,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)a[n]!==void 0&&(t[n]=a[n]);a.setLineDash!==void 0&&(t.setLineDash(a.getLineDash()),t.lineDashOffset=a.lineDashOffset)}function Eo(a){a.strokeStyle=a.fillStyle="#000000",a.fillRule="nonzero",a.globalAlpha=1,a.lineWidth=1,a.lineCap="butt",a.lineJoin="miter",a.miterLimit=10,a.globalCompositeOperation="source-over",a.font="10px sans-serif",a.setLineDash!==void 0&&(a.setLineDash([]),a.lineDashOffset=0);const{filter:t}=a;t!=="none"&&t!==""&&(a.filter="none")}function Pm(a,t){if(t)return!0;ot.singularValueDecompose2dScale(a,qe);const e=Math.fround(En.pixelRatio*js.PDF_TO_CSS_UNITS);return qe[0]<=e&&qe[1]<=e}const kP=["butt","round","square"],EP=["miter","round","bevel"],TP={},Am={};class Rs{constructor(t,e,n,s,o,{optionalContentConfig:l,markedContentStack:c=null},h,d,p){this.ctx=t,this.current=new wm(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new CP(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=p??null}getObject(t,e,n=null){return typeof e=="string"?(this.dependencyTracker?.recordNamedDependency(t,e),e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e)):n}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:s=null}){const o=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,l),this.ctx.fillStyle=c,n){const h=this.cachedCanvases.getCanvas("transparent",o,l);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...$t(this.compositeCtx))}this.ctx.save(),Eo(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=$t(this.ctx)}executeOperatorList(t,e,n,s,o){const l=t.argsArray,c=t.fnArray;let h=e||0;const d=l.length;if(d===h)return h;const p=d-h>vm&&typeof n=="function",g=p?Date.now()+AP:0;let _=0;const v=this.commonObjs,x=this.objs;let w,P;for(;;){if(s!==void 0&&h===s.nextBreakPoint)return s.breakIt(h,n),h;if(!o||o(h))if(w=c[h],P=l[h]??null,w!==qr.dependency)P===null?this[w](h):this[w](h,...P);else for(const A of P){this.dependencyTracker?.recordNamedData(A,h);const C=A.startsWith("g_")?v:x;if(!C.has(A))return C.get(A,n),h}if(h++,h===d)return h;if(p&&++_>vm){if(Date.now()>g)return n(),h;_=0}}}#t(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#t(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),this.#e()}#e(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}_scaleImage(t,e){const n=t.width??t.displayWidth,s=t.height??t.displayHeight;let o=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,h=s,d="prescale1",p,g;for(;o>2&&c>1||l>2&&h>1;){let _=c,v=h;o>2&&c>1&&(_=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/_),l>2&&h>1&&(v=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,l/=h/v),p=this.cachedCanvases.getCanvas(d,_,v),g=p.context,g.clearRect(0,0,_,v),g.drawImage(t,0,0,c,h,0,0,_,v),t=p.canvas,c=_,h=v,d=d==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:h}}_createMaskCanvas(t,e){const n=this.ctx,{width:s,height:o}=e,l=this.current.fillColor,c=this.current.patternFill,h=$t(n);let d,p,g,_;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;p=JSON.stringify(c?h:[h.slice(0,4),l]),d=this._cachedBitmapsMap.get(Y),d||(d=new Map,this._cachedBitmapsMap.set(Y,d));const tt=d.get(p);if(tt&&!c){const ht=Math.round(Math.min(h[0],h[2])+h[4]),H=Math.round(Math.min(h[1],h[3])+h[5]);return this.dependencyTracker?.recordDependencies(t,sn.transformAndFill),{canvas:tt,offsetX:ht,offsetY:H}}g=tt}g||(_=this.cachedCanvases.getCanvas("maskCanvas",s,o),bm(_.context,e));let v=ot.transform(h,[1/s,0,0,-1/o,0,0]);v=ot.transform(v,[1,0,0,1,0,-o]);const x=Ls.slice();ot.axialAlignedBoundingBox([0,0,s,o],v,x);const[w,P,A,C]=x,S=Math.round(A-w)||1,E=Math.round(C-P)||1,T=this.cachedCanvases.getCanvas("fillCanvas",S,E),M=T.context,N=w,O=P;M.translate(-N,-O),M.transform(...v),g||(g=this._scaleImage(_.canvas,Pn(M)),g=g.img,d&&c&&d.set(p,g)),M.imageSmoothingEnabled=Pm($t(M),e.interpolate),ko(M,g,0,0,g.width,g.height,0,0,s,o),M.globalCompositeOperation="source-in";const V=ot.transform(Pn(M),[1,0,0,1,-N,-O]);return M.fillStyle=c?l.getPattern(n,this,V,_e.FILL,t):l,M.fillRect(0,0,s,o),d&&!c&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,T.canvas)),this.dependencyTracker?.recordDependencies(t,sn.transformAndFill),{canvas:T.canvas,offsetX:Math.round(N),offsetY:Math.round(O)}}setLineWidth(t,e){this.dependencyTracker?.recordSimpleData("lineWidth",t),e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(t,e){this.dependencyTracker?.recordSimpleData("lineCap",t),this.ctx.lineCap=kP[e]}setLineJoin(t,e){this.dependencyTracker?.recordSimpleData("lineJoin",t),this.ctx.lineJoin=EP[e]}setMiterLimit(t,e){this.dependencyTracker?.recordSimpleData("miterLimit",t),this.ctx.miterLimit=e}setDash(t,e,n){this.dependencyTracker?.recordSimpleData("dash",t);const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=n)}setRenderingIntent(t,e){}setFlatness(t,e){}setGState(t,e){for(const[n,s]of e)switch(n){case"LW":this.setLineWidth(t,s);break;case"LC":this.setLineCap(t,s);break;case"LJ":this.setLineJoin(t,s);break;case"ML":this.setMiterLimit(t,s);break;case"D":this.setDash(t,s[0],s[1]);break;case"RI":this.setRenderingIntent(t,s);break;case"FL":this.setFlatness(t,s);break;case"Font":this.setFont(t,s[0],s[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",t),this.current.strokeAlpha=s;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",t),this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",t),this.ctx.globalCompositeOperation=s;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",t),this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",t),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(t){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(s,e,n);this.suspendedCtx=this.ctx;const l=this.ctx=o.context;l.setTransform(this.suspendedCtx.getTransform()),Lr(this.suspendedCtx,l),SP(l,this.suspendedCtx),this.setGState(t,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Lr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,s){const o=s[0],l=s[1],c=s[2]-o,h=s[3]-l;c===0||h===0||(this.genericComposeSMask(e.context,n,c,h,e.subtype,e.backdrop,e.transferMap,o,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,s,o,l,c,h,d,p,g){let _=t.canvas,v=h-p,x=d-g;if(l)if(v<0||x<0||v+n>_.width||x+s>_.height){const P=this.cachedCanvases.getCanvas("maskExtension",n,s),A=P.context;A.drawImage(_,-v,-x),A.globalCompositeOperation="destination-atop",A.fillStyle=l,A.fillRect(0,0,n,s),A.globalCompositeOperation="source-over",_=P.canvas,v=x=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const P=new Path2D;P.rect(v,x,n,s),t.clip(P),t.globalCompositeOperation="destination-atop",t.fillStyle=l,t.fillRect(v,x,n,s),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const w=new Path2D;w.rect(h,d,n,s),e.clip(w),e.globalCompositeOperation="destination-in",e.drawImage(_,v,x,n,s,h,d,n,s),e.restore()}save(t){this.inSMaskMode&&Lr(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone(),this.dependencyTracker?.save(t)}restore(t){if(this.dependencyTracker?.restore(t),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Lr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,e,n,s,o,l,c){this.dependencyTracker?.recordIncrementalData("transform",t),this.ctx.transform(e,n,s,o,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n,s){let[o]=n;if(!s){o||=n[0]=new Path2D,this[e](t,o);return}if(this.dependencyTracker!==null){const l=e===qr.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(t).recordBBox(t,this.ctx,s[0]-l,s[2]+l,s[1]-l,s[3]+l).recordDependencies(t,["transform"])}o instanceof Path2D||(o=n[0]=fy(o)),ot.axialAlignedBoundingBox(s,$t(this.ctx),this.current.minMax),this[e](t,o),this._pathStartIdx=t}closePath(t){this.ctx.closePath()}stroke(t,e,n=!0){const s=this.ctx,o=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof o=="object"&&o?.getPattern){const l=o.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=o.getPattern(s,this,Pn(s),_e.STROKE,t),l){const c=new Path2D;c.addPath(e,s.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);this.dependencyTracker?.recordDependencies(t,sn.stroke),n&&this.consumePath(t,e,this.current.getClippedPathBoundingBox(_e.STROKE,$t(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t,e){this.stroke(t,e)}fill(t,e,n=!0){const s=this.ctx,o=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const d=o.isModifyingCurrentTransform()?s.getTransform():null;if(this.dependencyTracker?.save(t),s.save(),s.fillStyle=o.getPattern(s,this,Pn(s),_e.FILL,t),d){const p=new Path2D;p.addPath(e,s.getTransform().invertSelf().multiplySelf(d)),e=p}c=!0}const h=this.current.getClippedPathBoundingBox();this.contentVisible&&h!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),this.dependencyTracker?.recordDependencies(t,sn.fill),c&&(s.restore(),this.dependencyTracker?.restore(t)),n&&this.consumePath(t,e,h)}eoFill(t,e){this.pendingEOFill=!0,this.fill(t,e)}fillStroke(t,e){this.fill(t,e,!1),this.stroke(t,e,!1),this.consumePath(t,e)}eoFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}closeFillStroke(t,e){this.fillStroke(t,e)}closeEOFillStroke(t,e){this.pendingEOFill=!0,this.fillStroke(t,e)}endPath(t,e){this.consumePath(t,e)}rawFillPath(t,e){this.ctx.fill(e),this.dependencyTracker?.recordDependencies(t,sn.rawFillPath).recordOperation(t)}clip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=TP}eoClip(t){this.dependencyTracker?.recordFutureForcedDependency("clipMode",t),this.pendingClip=Am}beginText(t){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(t).resetIncrementalData("sameLineText").resetIncrementalData("moveText",t)}endText(t){const e=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:s}=this;e!==void 0&&s.recordFutureForcedDependency("textClip",s.getOpenMarker()).recordFutureForcedDependency("textClip",t),s.recordCloseMarker(t)}if(e!==void 0){const s=new Path2D,o=n.getTransform().invertSelf();for(const{transform:l,x:c,y:h,fontSize:d,path:p}of e)p&&s.addPath(p,new DOMMatrix(l).preMultiplySelf(o).translate(c,h).scale(d,-d));n.clip(s)}delete this.pendingTextPaths}setCharSpacing(t,e){this.dependencyTracker?.recordSimpleData("charSpacing",t),this.current.charSpacing=e}setWordSpacing(t,e){this.dependencyTracker?.recordSimpleData("wordSpacing",t),this.current.wordSpacing=e}setHScale(t,e){this.dependencyTracker?.recordSimpleData("hScale",t),this.current.textHScale=e/100}setLeading(t,e){this.dependencyTracker?.recordSimpleData("leading",t),this.current.leading=-e}setFont(t,e,n){this.dependencyTracker?.recordSimpleData("font",t).recordSimpleDataFromNamed("fontObj",e,t);const s=this.commonObjs.get(e),o=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(o.fontMatrix=s.fontMatrix||$u,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&xt("Invalid font matrix for font "+e),n<0?(n=-n,o.fontDirection=-1):o.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let h="normal";s.black?h="900":s.bold&&(h="bold");const d=s.italic?"italic":"normal";let p=n;n<_m?p=_m:n>ym&&(p=ym),this.current.fontSizeScale=n/p,this.ctx.font=`${d} ${h} ${p}px ${c}`}setTextRenderingMode(t,e){this.dependencyTracker?.recordSimpleData("textRenderingMode",t),this.current.textRenderingMode=e}setTextRise(t,e){this.dependencyTracker?.recordSimpleData("textRise",t),this.current.textRise=e}moveText(t,e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",t),this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,e,n){this.setLeading(t,-n),this.moveText(t,e,n)}setTextMatrix(t,e){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",t);const{current:n}=this;n.textMatrix=e,n.textMatrixScale=Math.hypot(e[0],e[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(t){this.moveText(t,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??t)}#i(t,e,n){const s=new Path2D;return s.addPath(t,new DOMMatrix(n).invertSelf().multiplySelf(e)),s}paintChar(t,e,n,s,o,l){const c=this.ctx,h=this.current,d=h.font,p=h.textRenderingMode,g=h.fontSize/h.fontSizeScale,_=p&ge.FILL_STROKE_MASK,v=!!(p&ge.ADD_TO_PATH_FLAG),x=h.patternFill&&!d.missingFile,w=h.patternStroke&&!d.missingFile;let P;if((d.disableFontFace||v||x||w)&&!d.missingFile&&(P=d.getPathGenerator(this.commonObjs,e)),P&&(d.disableFontFace||x||w)){c.save(),c.translate(n,s),c.scale(g,-g),this.dependencyTracker?.recordCharacterBBox(t,c,d);let A;if(_===ge.FILL||_===ge.FILL_STROKE)if(o){A=c.getTransform(),c.setTransform(...o);const C=this.#i(P,A,o);c.fill(C)}else c.fill(P);if(_===ge.STROKE||_===ge.FILL_STROKE)if(l){A||=c.getTransform(),c.setTransform(...l);const{a:C,b:S,c:E,d:T}=A,M=ot.inverseTransform(l),N=ot.transform([C,S,E,T,0,0],M);ot.singularValueDecompose2dScale(N,qe),c.lineWidth*=Math.max(qe[0],qe[1])/g,c.stroke(this.#i(P,A,l))}else c.lineWidth/=g,c.stroke(P);c.restore()}else(_===ge.FILL||_===ge.FILL_STROKE)&&(c.fillText(e,n,s),this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s,()=>c.measureText(e))),(_===ge.STROKE||_===ge.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s,()=>c.measureText(e)).recordDependencies(t,sn.stroke),c.strokeText(e,n,s));v&&((this.pendingTextPaths||=[]).push({transform:$t(c),x:n,y:s,fontSize:g,path:P}),this.dependencyTracker?.recordCharacterBBox(t,c,d,g,n,s))}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let s=3;s<e.length;s+=4)if(e[s]>0&&e[s]<255){n=!0;break}return bt(this,"isFontSubpixelAAEnabled",n)}showText(t,e){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(t,sn.showText).resetBBox(t),this.current.textRenderingMode&ge.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",t).inheritPendingDependenciesAsFutureForcedDependencies());const n=this.current,s=n.font;if(s.isType3Font){this.showType3Text(t,e),this.dependencyTracker?.recordShowTextOperation(t);return}const o=n.fontSize;if(o===0){this.dependencyTracker?.recordOperation(t);return}const l=this.ctx,c=n.fontSizeScale,h=n.charSpacing,d=n.wordSpacing,p=n.fontDirection,g=n.textHScale*p,_=e.length,v=s.vertical,x=v?1:-1,w=s.defaultVMetrics,P=o*n.fontMatrix[0],A=n.textRenderingMode===ge.FILL&&!s.disableFontFace&&!n.patternFill;l.save(),n.textMatrix&&l.transform(...n.textMatrix),l.translate(n.x,n.y+n.textRise),p>0?l.scale(g,-1):l.scale(g,1);let C,S;if(n.patternFill){l.save();const O=n.fillColor.getPattern(l,this,Pn(l),_e.FILL,t);C=$t(l),l.restore(),l.fillStyle=O}if(n.patternStroke){l.save();const O=n.strokeColor.getPattern(l,this,Pn(l),_e.STROKE,t);S=$t(l),l.restore(),l.strokeStyle=O}let E=n.lineWidth;const T=n.textMatrixScale;if(T===0||E===0){const O=n.textRenderingMode&ge.FILL_STROKE_MASK;(O===ge.STROKE||O===ge.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=T;if(c!==1&&(l.scale(c,c),E/=c),l.lineWidth=E,s.isInvalidPDFjsFont){const O=[];let V=0;for(const tt of e)O.push(tt.unicode),V+=tt.width;const Y=O.join("");if(l.fillText(Y,0,0),this.dependencyTracker!==null){const tt=l.measureText(Y);this.dependencyTracker.recordBBox(t,this.ctx,-tt.actualBoundingBoxLeft,tt.actualBoundingBoxRight,-tt.actualBoundingBoxAscent,tt.actualBoundingBoxDescent).recordShowTextOperation(t)}n.x+=V*P*g,l.restore(),this.compose();return}let M=0,N;for(N=0;N<_;++N){const O=e[N];if(typeof O=="number"){M+=x*O*o/1e3;continue}let V=!1;const Y=(O.isSpace?d:0)+h,tt=O.fontChar,ht=O.accent;let H,Q,st=O.width;if(v){const U=O.vmetric||w,J=-(O.vmetric?U[1]:st*.5)*P,et=U[2]*P;st=U?-U[0]:st,H=J/c,Q=(M+et)/c}else H=M/c,Q=0;let X;if(s.remeasure&&st>0){X=l.measureText(tt);const U=X.width*1e3/o*c;if(st<U&&this.isFontSubpixelAAEnabled){const J=st/U;V=!0,l.save(),l.scale(J,1),H/=J}else st!==U&&(H+=(st-U)/2e3*o/c)}if(this.contentVisible&&(O.isInFont||s.missingFile)){if(A&&!ht)l.fillText(tt,H,Q),this.dependencyTracker?.recordCharacterBBox(t,l,X?{bbox:null}:s,o/c,H,Q,()=>X??l.measureText(tt));else if(this.paintChar(t,tt,H,Q,C,S),ht){const U=H+o*ht.offset.x/c,J=Q-o*ht.offset.y/c;this.paintChar(t,ht.fontChar,U,J,C,S)}}const K=v?st*P-Y*p:st*P+Y*p;M+=K,V&&l.restore()}v?n.y-=M:n.x+=M*g,l.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(t)}showType3Text(t,e){const n=this.ctx,s=this.current,o=s.font,l=s.fontSize,c=s.fontDirection,h=o.vertical?1:-1,d=s.charSpacing,p=s.wordSpacing,g=s.textHScale*c,_=s.fontMatrix||$u,v=e.length,x=s.textRenderingMode===ge.INVISIBLE;let w,P,A,C;if(x||l===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(g,c);const S=this.dependencyTracker;for(this.dependencyTracker=S?new qo(S,t):null,w=0;w<v;++w){if(P=e[w],typeof P=="number"){C=h*P*l/1e3,this.ctx.translate(C,0),s.x+=C*g;continue}const E=(P.isSpace?p:0)+d,T=o.charProcOperatorList[P.operatorListId];T?this.contentVisible&&(this.save(),n.scale(l,l),n.transform(..._),this.executeOperatorList(T),this.restore()):xt(`Type3 character "${P.operatorListId}" is not available.`);const M=[P.width,0];ot.applyTransform(M,_),A=M[0]*l+E,n.translate(A,0),s.x+=A*g}n.restore(),S&&(this.dependencyTracker=S)}setCharWidth(t,e,n){}setCharWidthAndBounds(t,e,n,s,o,l,c){const h=new Path2D;h.rect(s,o,l-s,c-o),this.ctx.clip(h),this.dependencyTracker?.recordBBox(t,this.ctx,s,l,o,c).recordClipBox(t,this.ctx,s,l,o,c),this.endPath(t)}getColorN_Pattern(t,e){let n;if(e[0]==="TilingPattern"){const s=this.baseTransform||$t(this.ctx),o={createCanvasGraphics:(l,c)=>new Rs(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new qo(this.dependencyTracker,c,!0):null)};n=new Bh(e,this.ctx,o,s)}else n=this._getPattern(t,e[1],e[2]);return n}setStrokeColorN(t,...e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.current.strokeColor=this.getColorN_Pattern(t,e),this.current.patternStroke=!0}setFillColorN(t,...e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.current.fillColor=this.getColorN_Pattern(t,e),this.current.patternFill=!0}setStrokeRGBColor(t,e){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(t){this.dependencyTracker?.recordSimpleData("strokeColor",t),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t,e){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(t){this.dependencyTracker?.recordSimpleData("fillColor",t),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e,n=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=bP(this.getObject(t,e)),this.cachedPatterns.set(e,s)),n&&(s.matrix=n),s}shadingFill(t,e){if(!this.contentVisible)return;const n=this.ctx;this.save(t);const s=this._getPattern(t,e);n.fillStyle=s.getPattern(n,this,Pn(n),_e.SHADING,t);const o=Pn(n);if(o){const{width:l,height:c}=n.canvas,h=Ls.slice();ot.axialAlignedBoundingBox([0,0,l,c],o,h);const[d,p,g,_]=h;this.ctx.fillRect(d,p,g-d,_-p)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(t).recordFullPageBBox(t).recordDependencies(t,sn.transform).recordDependencies(t,sn.fill).recordOperation(t),this.compose(this.current.getClippedPathBoundingBox()),this.restore(t)}beginInlineImage(){Nt("Should not call beginInlineImage")}beginImageData(){Nt("Should not call beginImageData")}paintFormXObjectBegin(t,e,n){if(this.contentVisible&&(this.save(t),this.baseTransformStack.push(this.baseTransform),e&&this.transform(t,...e),this.baseTransform=$t(this.ctx),n)){ot.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,o,l,c]=n,h=new Path2D;h.rect(s,o,l-s,c-o),this.ctx.clip(h),this.dependencyTracker?.recordClipBox(t,this.ctx,s,l,o,c),this.endPath(t)}}paintFormXObjectEnd(t){this.contentVisible&&(this.restore(t),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t,e){if(!this.contentVisible)return;this.save(t),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;e.isolated||al("TODO: Support non-isolated groups."),e.knockout&&xt("Knockout groups not supported.");const s=$t(n);if(e.matrix&&n.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let o=Ls.slice();ot.axialAlignedBoundingBox(e.bbox,$t(n),o);const l=[0,0,n.canvas.width,n.canvas.height];o=ot.intersect(o,l)||[0,0,0,0];const c=Math.floor(o[0]),h=Math.floor(o[1]),d=Math.max(Math.ceil(o[2])-c,1),p=Math.max(Math.ceil(o[3])-h,1);this.current.startNewPathAndClipBox([0,0,d,p]);let g="groupAt"+this.groupLevel;e.smask&&(g+="_smask_"+this.smaskCounter++%2);const _=this.cachedCanvases.getCanvas(g,d,p),v=_.context;v.translate(-c,-h),v.transform(...s);let x=new Path2D;const[w,P,A,C]=e.bbox;if(x.rect(w,P,A-w,C-P),e.matrix){const S=new Path2D;S.addPath(x,new DOMMatrix(e.matrix)),x=S}v.clip(x),e.smask&&this.smaskStack.push({canvas:_.canvas,context:v,offsetX:c,offsetY:h,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}),(!e.smask||this.dependencyTracker)&&(n.setTransform(1,0,0,1,0,0),n.translate(c,h),n.save()),Lr(n,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(n),this.setGState(t,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t,e){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),e.smask)this.tempSMask=this.smaskStack.pop(),this.restore(t),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=$t(this.ctx);this.restore(t),this.ctx.save(),this.ctx.setTransform(...o);const l=Ls.slice();ot.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],o,l),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(t,e,n,s,o,l){if(this.#t(),Eo(this.ctx),this.ctx.save(),this.save(t),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const c=n[2]-n[0],h=n[3]-n[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=c,n[3]=h,ot.singularValueDecompose2dScale($t(this.ctx),qe);const{viewportScale:d}=this,p=Math.ceil(c*this.outputScaleX*d),g=Math.ceil(h*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(p,g);const{canvas:_,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,_),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(qe[0],0,0,-qe[1],0,h*qe[1]),Eo(this.ctx)}else{Eo(this.ctx),this.endPath(t);const d=new Path2D;d.rect(n[0],n[1],c,h),this.ctx.clip(d)}}this.current=new wm(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(t,...s),this.transform(t,...o)}endAnnotation(t){this.annotationCanvas&&(this.ctx.restore(),this.#e(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t,e){if(!this.contentVisible)return;const n=e.count;e=this.getObject(t,e.data,e),e.count=n;const s=this.ctx,o=this._createMaskCanvas(t,e),l=o.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,o.offsetX,o.offsetY),this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,o.offsetX,o.offsetX+l.width,o.offsetY,o.offsetY+l.height).recordOperation(t),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n,s=0,o=0,l,c){if(!this.contentVisible)return;e=this.getObject(t,e.data,e);const h=this.ctx;h.save();const d=$t(h);h.transform(n,s,o,l,0,0);const p=this._createMaskCanvas(t,e);h.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]),this.dependencyTracker?.resetBBox(t);for(let g=0,_=c.length;g<_;g+=2){const v=ot.transform(d,[n,s,o,l,c[g],c[g+1]]);h.drawImage(p.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(t,this.ctx,v[4],v[4]+p.canvas.width,v[5],v[5]+p.canvas.height)}h.restore(),this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageMaskXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,o=this.current.patternFill;this.dependencyTracker?.resetBBox(t).recordDependencies(t,sn.transformAndFill);for(const l of e){const{data:c,width:h,height:d,transform:p}=l,g=this.cachedCanvases.getCanvas("maskCanvas",h,d),_=g.context;_.save();const v=this.getObject(t,c,l);bm(_,v),_.globalCompositeOperation="source-in",_.fillStyle=o?s.getPattern(_,this,Pn(n),_e.FILL,t):s,_.fillRect(0,0,h,d),_.restore(),n.save(),n.transform(...p),n.scale(1,-1),ko(n,g.canvas,0,0,h,d,0,-1,1,1),this.dependencyTracker?.recordBBox(t,n,0,h,0,d),n.restore()}this.compose(),this.dependencyTracker?.recordOperation(t)}paintImageXObject(t,e){if(!this.contentVisible)return;const n=this.getObject(t,e);if(!n){xt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t,n)}paintImageXObjectRepeat(t,e,n,s,o){if(!this.contentVisible)return;const l=this.getObject(t,e);if(!l){xt("Dependent image isn't ready yet");return}const c=l.width,h=l.height,d=[];for(let p=0,g=o.length;p<g;p+=2)d.push({transform:[n,0,0,s,o[p],o[p+1]],x:0,y:0,w:c,h});this.paintInlineImageXObjectGroup(t,l,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:s}=t,o=this.cachedCanvases.getCanvas("inlineImage",n,s),l=o.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",o.canvas}paintInlineImageXObject(t,e){if(!this.contentVisible)return;const n=e.width,s=e.height,o=this.ctx;this.save(t);const{filter:l}=o;l!=="none"&&l!==""&&(o.filter="none"),o.scale(1/n,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const p=this.cachedCanvases.getCanvas("inlineImage",n,s).context;xm(p,e),c=this.applyTransferMapsToCanvas(p)}const h=this._scaleImage(c,Pn(o));o.imageSmoothingEnabled=Pm($t(o),e.interpolate),this.dependencyTracker?.resetBBox(t).recordBBox(t,o,0,n,-s,0).recordDependencies(t,sn.imageXObject).recordOperation(t),ko(o,h.img,0,0,h.paintWidth,h.paintHeight,0,-s,n,s),this.compose(),this.restore(t)}paintInlineImageXObjectGroup(t,e,n){if(!this.contentVisible)return;const s=this.ctx;let o;if(e.bitmap)o=e.bitmap;else{const l=e.width,c=e.height,d=this.cachedCanvases.getCanvas("inlineImage",l,c).context;xm(d,e),o=this.applyTransferMapsToCanvas(d)}this.dependencyTracker?.resetBBox(t);for(const l of n)s.save(),s.transform(...l.transform),s.scale(1,-1),ko(s,o,l.x,l.y,l.w,l.h,0,-1,1,1),this.dependencyTracker?.recordBBox(t,s,0,1,-1,0),s.restore();this.dependencyTracker?.recordOperation(t),this.compose()}paintSolidColorImageMask(t){this.contentVisible&&(this.dependencyTracker?.resetBBox(t).recordBBox(t,this.ctx,0,1,0,1).recordDependencies(t,sn.fill).recordOperation(t),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t,e){}markPointProps(t,e,n){}beginMarkedContent(t,e){this.dependencyTracker?.beginMarkedContent(t),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e,n){this.dependencyTracker?.beginMarkedContent(t),e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(t){this.dependencyTracker?.endMarkedContent(t),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(t){}endCompat(t){}consumePath(t,e,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const o=this.ctx;this.pendingClip?(s||(this.pendingClip===Am?o.clip(e,"evenodd"):o.clip(e)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(t).recordFutureForcedDependency("clipPath",t)):this.dependencyTracker?.recordOperation(t),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=$t(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),s=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,s)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:s,d:o}=this.ctx.getTransform();let l,c;if(n===0&&s===0){const h=Math.abs(e),d=Math.abs(o);if(h===d)if(t===0)l=c=1/h;else{const p=h*t;l=c=p<1?1/p:1}else if(t===0)l=1/h,c=1/d;else{const p=h*t,g=d*t;l=p<1?1/p:1,c=g<1?1/g:1}}else{const h=Math.abs(e*o-n*s),d=Math.hypot(e,n),p=Math.hypot(s,o);if(t===0)l=p/h,c=d/h;else{const g=t*h;l=p>g?p/g:1,c=d>g?d/g:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t,e){const{ctx:n,current:{lineWidth:s}}=this,[o,l]=this.getScaleForStroking();if(o===l){n.lineWidth=(s||1)*o,n.stroke(t);return}const c=n.getLineDash();e&&n.save(),n.scale(o,l),Eu.a=1/o,Eu.d=1/l;const h=new Path2D;if(h.addPath(t,Eu),c.length>0){const d=Math.max(o,l);n.setLineDash(c.map(p=>p/d)),n.lineDashOffset/=d}n.lineWidth=s||1,n.stroke(h),e&&n.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}for(const a in qr)Rs.prototype[a]!==void 0&&(Rs.prototype[qr[a]]=Rs.prototype[a]);class Ns{static#t=null;static#e="";static get workerPort(){return this.#t}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");this.#t=t}static get workerSrc(){return this.#e}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");this.#e=t}}class LP{#t;#e;constructor({parsedData:t,rawData:e}){this.#t=t,this.#e=e}getRaw(){return this.#e}get(t){return this.#t.get(t)??null}[Symbol.iterator](){return this.#t.entries()}}const Ps=Symbol("INTERNAL");class MP{#t=!1;#e=!1;#i=!1;#n=!0;constructor(t,{name:e,intent:n,usage:s,rbGroups:o}){this.#t=!!(t&We.DISPLAY),this.#e=!!(t&We.PRINT),this.name=e,this.intent=n,this.usage=s,this.rbGroups=o}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:t,view:e}=this.usage;return this.#t?e?.viewState!=="OFF":this.#e?t?.printState!=="OFF":!0}_setVisible(t,e,n=!1){t!==Ps&&Nt("Internal method `_setVisible` called."),this.#i=n,this.#n=e}}class IP{#t=null;#e=new Map;#i=null;#n=null;constructor(t,e=We.DISPLAY){if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,this.#n=t.order;for(const n of t.groups)this.#e.set(n.id,new MP(e,n));if(t.baseState==="OFF")for(const n of this.#e.values())n._setVisible(Ps,!1);for(const n of t.on)this.#e.get(n)._setVisible(Ps,!0);for(const n of t.off)this.#e.get(n)._setVisible(Ps,!1);this.#i=this.getHash()}}#a(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let s=1;s<e;s++){const o=t[s];let l;if(Array.isArray(o))l=this.#a(o);else if(this.#e.has(o))l=this.#e.get(o).visible;else return xt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"}isVisible(t){if(this.#e.size===0)return!0;if(!t)return al("Optional content group not defined."),!0;if(t.type==="OCG")return this.#e.has(t.id)?this.#e.get(t.id).visible:(xt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return this.#a(t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(!this.#e.get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!this.#e.has(e))return xt(`Optional content group not found: ${e}`),!0;if(this.#e.get(e).visible)return!1}return!0}return xt(`Unknown optional content policy ${t.policy}.`),!0}return xt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0,n=!0){const s=this.#e.get(t);if(!s){xt(`Optional content group not found: ${t}`);return}if(n&&e&&s.rbGroups.length)for(const o of s.rbGroups)for(const l of o)l!==t&&this.#e.get(l)?._setVisible(Ps,!1,!0);s._setVisible(Ps,!!e,!0),this.#t=null}setOCGState({state:t,preserveRB:e}){let n;for(const s of t){switch(s){case"ON":case"OFF":case"Toggle":n=s;continue}const o=this.#e.get(s);if(o)switch(n){case"ON":this.setVisibility(s,!0,e);break;case"OFF":this.setVisibility(s,!1,e);break;case"Toggle":this.setVisibility(s,!o.visible,e);break}}this.#t=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#e.size?this.#n?this.#n.slice():[...this.#e.keys()]:null}getGroup(t){return this.#e.get(t)||null}getHash(){if(this.#t!==null)return this.#t;const t=new my;for(const[e,n]of this.#e)t.update(`${e}:${n.visible}`);return this.#t=t.hexdigest()}[Symbol.iterator](){return this.#e.entries()}}class DP{constructor(t,{disableRange:e=!1,disableStream:n=!1}){kt(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:s,initialData:o,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,o?.length>0){const h=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((h,d)=>{this._onReceiveData({begin:h,chunk:d})}),t.addProgressListener((h,d)=>{this._onProgress({loaded:h,total:d})}),t.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const s=this._rangeReaders.some(function(o){return o._begin!==t?!1:(o._enqueue(n),!0)});kt(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(t){t.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:t.loaded}):this._fullRequestReader?.onProgress?.({loaded:t.loaded,total:t.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){kt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new RP(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new NP(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeReaders.slice(0))e.cancel(t);this._pdfDataRangeTransport.abort()}}class RP{constructor(t,e,n=!1,s=null){this._stream=t,this._done=n||!1,this._filename=Ih(s)?s:null,this._queuedChunks=e||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class NP{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function FP(a){let t=!0,e=n("filename\\*","i").exec(a);if(e){e=e[1];let p=c(e);return p=unescape(p),p=h(p),p=d(p),o(p)}if(e=l(a),e){const p=d(e);return o(p)}if(e=n("filename","i").exec(a),e){e=e[1];let p=c(e);return p=d(p),o(p)}function n(p,g){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function s(p,g){if(p){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const _=new TextDecoder(p,{fatal:!0}),v=ea(g);g=_.decode(v),t=!1}catch{}}return g}function o(p){return t&&/[\x80-\xff]/.test(p)&&(p=s("utf-8",p),t&&(p=s("iso-8859-1",p))),p}function l(p){const g=[];let _;const v=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(_=v.exec(p))!==null;){let[,w,P,A]=_;if(w=parseInt(w,10),w in g){if(w===0)break;continue}g[w]=[P,A]}const x=[];for(let w=0;w<g.length&&w in g;++w){let[P,A]=g[w];A=c(A),P&&(A=unescape(A),w===0&&(A=h(A))),x.push(A)}return x.join("")}function c(p){if(p.startsWith('"')){const g=p.slice(1).split('\\"');for(let _=0;_<g.length;++_){const v=g[_].indexOf('"');v!==-1&&(g[_]=g[_].slice(0,v),g.length=_+1),g[_]=g[_].replaceAll(/\\(.)/g,"$1")}p=g.join('"')}return p}function h(p){const g=p.indexOf("'");if(g===-1)return p;const _=p.slice(0,g),x=p.slice(g+1).replace(/^[^']*'/,"");return s(_,x)}function d(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,_,v,x){if(v==="q"||v==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,P){return String.fromCharCode(parseInt(P,16))}),s(_,x);try{x=atob(x)}catch{}return s(_,x)})}return""}function Py(a,t){const e=new Headers;if(!a||!t||typeof t!="object")return e;for(const n in t){const s=t[n];s!==void 0&&e.append(n,s)}return e}function cl(a){return URL.parse(a)?.origin??null}function Ay({responseHeaders:a,isHttp:t,rangeChunkSize:e,disableRange:n}){const s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(a.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*e)||n||!t||a.get("Accept-Ranges")!=="bytes"||(a.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function Sy(a){const t=a.get("Content-Disposition");if(t){let e=FP(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(Ih(e))return e}return null}function aa(a,t){return new Wo(`Unexpected server response (${a}) while retrieving PDF "${t}".`,a,a===404||a===0&&t.startsWith("file:"))}function Cy(a){return a===200||a===206}function ky(a,t,e){return{method:"GET",headers:a,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Ey(a){return a instanceof Uint8Array?a.buffer:a instanceof ArrayBuffer?a:(xt(`getArrayBuffer - unexpected data format: ${a}`),new Uint8Array(a).buffer)}class OP{_responseOrigin=null;constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=Py(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return kt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new BP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new jP(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class BP{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange;const n=new Headers(t.headers),s=e.url;fetch(s,ky(n,this._withCredentials,this._abortController)).then(o=>{if(t._responseOrigin=cl(o.url),!Cy(o.status))throw aa(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();const l=o.headers,{allowRangeRequests:c,suggestedLength:h}=Ay({responseHeaders:l,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=h||this._contentLength,this._filename=Sy(l),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new mi("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Ey(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}class jP{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const s=t.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;const o=new Headers(t.headers);o.append("Range",`bytes=${e}-${n-1}`);const l=s.url;fetch(l,ky(o,this._withCredentials,this._abortController)).then(c=>{const h=cl(c.url);if(h!==t._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${t._responseOrigin}".`);if(!Cy(c.status))throw aa(c.status,l);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Ey(t),done:!1})}cancel(t){this._reader?.cancel(t),this._abortController.abort()}}const Tu=200,Lu=206;function zP(a){const t=a.response;return typeof t!="string"?t:ea(t).buffer}class VP{_responseOrigin=null;constructor({url:t,httpHeaders:e,withCredentials:n}){this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Py(this.isHttp,e),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,s=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const[o,l]of this.headers)e.setRequestHeader(o,l);return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),s.expectedStatus=Lu):s.expectedStatus=Tu,e.responseType="arraybuffer",kt(t.onError,"Expected `onError` callback to be provided."),e.onerror=()=>{t.onError(e.status)},e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),s.onHeadersReceived=t.onHeadersReceived,s.onDone=t.onDone,s.onError=t.onError,s.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){const n=this.pendingRequests[t];n&&n.onProgress?.(e)}onStateChange(t,e){const n=this.pendingRequests[t];if(!n)return;const s=n.xhr;if(s.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),s.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],s.status===0&&this.isHttp){n.onError(s.status);return}const o=s.status||Tu;if(!(o===Tu&&n.expectedStatus===Lu)&&o!==n.expectedStatus){n.onError(s.status);return}const c=zP(s);if(o===Lu){const h=s.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);d?n.onDone({begin:parseInt(d[1],10),chunk:c}):(xt('Missing or invalid "Content-Range" header.'),n.onError(0))}else c?n.onDone({begin:0,chunk:c}):n.onError(s.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class HP{constructor(t){this._source=t,this._manager=new VP(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return kt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new UP(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new GP(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class UP{constructor(t,e){this._manager=t,this._url=e.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t);this._manager._responseOrigin=cl(e.responseURL);const n=e.getAllResponseHeaders(),s=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[h,...d]=c.split(": ");return[h,d.join(": ")]}):[]),{allowRangeRequests:o,suggestedLength:l}=Ay({responseHeaders:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=l||this._contentLength,this._filename=Sy(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=aa(t,this._url),this._headersCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){this.onProgress?.({loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class GP{constructor(t,e,n){this._manager=t,this._url=t.url,this._requestId=t.request({begin:e,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const t=cl(this._manager.getRequestXhr(this._requestId)?.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??=aa(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){this.isStreamingSupported||this.onProgress?.({loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $P=/^[a-z][a-z0-9\-+.]+:/i;function WP(a){if($P.test(a))return new URL(a);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(a))}class qP{constructor(t){this.source=t,this.url=WP(t.url),kt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return kt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new KP(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new XP(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const e of this._rangeRequestReaders.slice(0))e.cancel(t)}}class KP{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(s=>{this._contentLength=s.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},s=>{s.code==="ENOENT"&&(s=aa(0,this._url.href)),this._storedError=s,this._headersCapability.reject(s)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new mi("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class XP{constructor(t,e,n){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const s=t.source;this._isStreamingSupported=!s.disableStream;const o=process.getBuiltinModule("fs");this._setReadableStream(o.createReadStream(this._url,{start:e,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Mr=Symbol("INITIAL_DATA");class Ty{#t=Object.create(null);#e(t){return this.#t[t]||={...Promise.withResolvers(),data:Mr}}get(t,e=null){if(e){const s=this.#e(t);return s.promise.then(()=>e(s.data)),null}const n=this.#t[t];if(!n||n.data===Mr)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=this.#t[t];return!!e&&e.data!==Mr}delete(t){const e=this.#t[t];return!e||e.data===Mr?!1:(delete this.#t[t],!0)}resolve(t,e=null){const n=this.#e(t);n.data=e,n.resolve()}clear(){for(const t in this.#t){const{data:e}=this.#t[t];e?.bitmap?.close()}this.#t=Object.create(null)}*[Symbol.iterator](){for(const t in this.#t){const{data:e}=this.#t[t];e!==Mr&&(yield[t,e])}}}const YP=1e5,Sm=30;class ke{#t=Promise.withResolvers();#e=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#r=null;#s=0;#o=0;#c=null;#l=null;#d=0;#h=0;#p=Object.create(null);#m=[];#g=null;#u=[];#f=new WeakMap;#_=null;static#v=new Map;static#y=new Map;static#S=new WeakMap;static#P=null;static#x=new Set;constructor({textContentSource:t,container:e,viewport:n}){if(t instanceof ReadableStream)this.#g=t;else if(typeof t=="object")this.#g=new ReadableStream({start(h){h.enqueue(t),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#e=this.#l=e,this.#h=n.scale*En.pixelRatio,this.#d=n.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:s,pageHeight:o,pageX:l,pageY:c}=n.rawDims;this.#_=[1,0,0,-1,-l,c+o],this.#o=s,this.#s=o,ke.#T(),Gi(e,n),this.#t.promise.finally(()=>{ke.#x.delete(this),this.#r=null,this.#p=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:e}=ye.platform;return bt(this,"fontFamilyMap",new Map([["sans-serif",`${t&&e?"Calibri, ":""}sans-serif`],["monospace",`${t&&e?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{this.#c.read().then(({value:e,done:n})=>{if(n){this.#t.resolve();return}this.#a??=e.lang,Object.assign(this.#p,e.styles),this.#k(e.items),t()},this.#t.reject)};return this.#c=this.#g.getReader(),ke.#x.add(this),t(),this.#t.promise}update({viewport:t,onBefore:e=null}){const n=t.scale*En.pixelRatio,s=t.rotation;if(s!==this.#d&&(e?.(),this.#d=s,Gi(this.#l,{rotation:s})),n!==this.#h){e?.(),this.#h=n;const o={div:null,properties:null,ctx:ke.#L(this.#a)};for(const l of this.#u)o.properties=this.#f.get(l),o.div=l,this.#A(o)}}cancel(){const t=new mi("TextLayer task cancelled.");this.#c?.cancel(t).catch(()=>{}),this.#c=null,this.#t.reject(t)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#m}#k(t){if(this.#i)return;this.#r.ctx??=ke.#L(this.#a);const e=this.#u,n=this.#m;for(const s of t){if(e.length>YP){xt("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=this.#e;this.#e=document.createElement("span"),this.#e.classList.add("markedContent"),s.id&&this.#e.setAttribute("id",`${s.id}`),o.append(this.#e)}else s.type==="endMarkedContent"&&(this.#e=this.#e.parentNode);continue}n.push(s.str),this.#w(s)}}#w(t){const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};this.#u.push(e);const s=ot.transform(this.#_,t.transform);let o=Math.atan2(s[1],s[0]);const l=this.#p[t.fontName];l.vertical&&(o+=Math.PI/2);let c=this.#n&&l.fontSubstitution||l.fontFamily;c=ke.fontFamilyMap.get(c)||c;const h=Math.hypot(s[2],s[3]),d=h*ke.#O(c,l,this.#a);let p,g;o===0?(p=s[4],g=s[5]-d):(p=s[4]+d*Math.sin(o),g=s[5]-d*Math.cos(o));const _="calc(var(--total-scale-factor) *",v=e.style;this.#e===this.#l?(v.left=`${(100*p/this.#o).toFixed(2)}%`,v.top=`${(100*g/this.#s).toFixed(2)}%`):(v.left=`${_}${p.toFixed(2)}px)`,v.top=`${_}${g.toFixed(2)}px)`),v.fontSize=`${_}${(ke.#P*h).toFixed(2)}px)`,v.fontFamily=c,n.fontSize=h,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,this.#n&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),o!==0&&(n.angle=o*(180/Math.PI));let x=!1;if(t.str.length>1)x=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),P=Math.abs(t.transform[3]);w!==P&&Math.max(w,P)/Math.min(w,P)>1.5&&(x=!0)}if(x&&(n.canvasWidth=l.vertical?t.height:t.width),this.#f.set(e,n),this.#r.div=e,this.#r.properties=n,this.#A(this.#r),n.hasText&&this.#e.append(e),n.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),this.#e.append(w)}}#A(t){const{div:e,properties:n,ctx:s}=t,{style:o}=e;let l="";if(ke.#P>1&&(l=`scale(${1/ke.#P})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:c}=o,{canvasWidth:h,fontSize:d}=n;ke.#E(s,d*this.#h,c);const{width:p}=s.measureText(e.textContent);p>0&&(l=`scaleX(${h*this.#h/p}) ${l}`)}n.angle!==0&&(l=`rotate(${n.angle}deg) ${l}`),l.length>0&&(o.transform=l)}static cleanup(){if(!(this.#x.size>0)){this.#v.clear();for(const{canvas:t}of this.#y.values())t.remove();this.#y.clear()}}static#L(t=null){let e=this.#y.get(t||="");if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(t,e),this.#S.set(e,{size:0,family:""})}return e}static#E(t,e,n){const s=this.#S.get(t);e===s.size&&n===s.family||(t.font=`${e}px ${n}`,s.size=e,s.family=n)}static#T(){if(this.#P!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),this.#P=t.getBoundingClientRect().height,t.remove()}static#O(t,e,n){const s=this.#v.get(t);if(s)return s;const o=this.#L(n);o.canvas.width=o.canvas.height=Sm,this.#E(o,Sm,t);const l=o.measureText(""),c=l.fontBoundingBoxAscent,h=Math.abs(l.fontBoundingBoxDescent);o.canvas.width=o.canvas.height=0;let d=.8;return c?d=c/(c+h):(ye.platform.isFirefox&&xt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),e.ascent?d=e.ascent:e.descent&&(d=1+e.descent)),this.#v.set(t,d),d}}const QP=100;function Ly(a={}){typeof a=="string"||a instanceof URL?a={url:a}:(a instanceof ArrayBuffer||ArrayBuffer.isView(a))&&(a={data:a});const t=new jh,{docId:e}=t,n=a.url?sP(a.url):null,s=a.data?rP(a.data):null,o=a.httpHeaders||null,l=a.withCredentials===!0,c=a.password??null,h=a.range instanceof My?a.range:null,d=Number.isInteger(a.rangeChunkSize)&&a.rangeChunkSize>0?a.rangeChunkSize:2**16;let p=a.worker instanceof Xr?a.worker:null;const g=a.verbosity,_=typeof a.docBaseUrl=="string"&&!ol(a.docBaseUrl)?a.docBaseUrl:null,v=Po(a.cMapUrl),x=a.cMapPacked!==!1,w=a.CMapReaderFactory||(Te?pP:hm),P=Po(a.iccUrl),A=Po(a.standardFontDataUrl),C=a.StandardFontDataFactory||(Te?fP:dm),S=Po(a.wasmUrl),E=a.WasmFactory||(Te?gP:pm),T=a.stopAtErrors!==!0,M=Number.isInteger(a.maxImageSize)&&a.maxImageSize>-1?a.maxImageSize:-1,N=a.isEvalSupported!==!1,O=typeof a.isOffscreenCanvasSupported=="boolean"?a.isOffscreenCanvasSupported:!Te,V=typeof a.isImageDecoderSupported=="boolean"?a.isImageDecoderSupported:!Te&&(ye.platform.isFirefox||!globalThis.chrome),Y=Number.isInteger(a.canvasMaxAreaInBytes)?a.canvasMaxAreaInBytes:-1,tt=typeof a.disableFontFace=="boolean"?a.disableFontFace:Te,ht=a.fontExtraProperties===!0,H=a.enableXfa===!0,Q=a.ownerDocument||globalThis.document,st=a.disableRange===!0,X=a.disableStream===!0,K=a.disableAutoFetch===!0,U=a.pdfBug===!0,J=a.CanvasFactory||(Te?dP:cP),et=a.FilterFactory||(Te?hP:uP),I=a.enableHWA===!0,z=a.useWasm!==!1,nt=h?h.length:a.length??NaN,pt=typeof a.useSystemFonts=="boolean"?a.useSystemFonts:!Te&&!tt,ft=typeof a.useWorkerFetch=="boolean"?a.useWorkerFetch:!!(w===hm&&C===dm&&E===pm&&v&&A&&S&&Nr(v,document.baseURI)&&Nr(A,document.baseURI)&&Nr(S,document.baseURI)),yt=null;Ib(g);const _t={canvasFactory:new J({ownerDocument:Q,enableHWA:I}),filterFactory:new et({docId:e,ownerDocument:Q}),cMapReaderFactory:ft?null:new w({baseUrl:v,isCompressed:x}),standardFontDataFactory:ft?null:new C({baseUrl:A}),wasmFactory:ft?null:new E({baseUrl:S})};p||(p=Xr.create({verbosity:g,port:Ns.workerPort}),t._worker=p);const St={docId:e,apiVersion:"5.4.449",data:s,password:c,disableAutoFetch:K,rangeChunkSize:d,length:nt,docBaseUrl:_,enableXfa:H,evaluatorOptions:{maxImageSize:M,disableFontFace:tt,ignoreErrors:T,isEvalSupported:N,isOffscreenCanvasSupported:O,isImageDecoderSupported:V,canvasMaxAreaInBytes:Y,fontExtraProperties:ht,useSystemFonts:pt,useWasm:z,useWorkerFetch:ft,cMapUrl:v,iccUrl:P,standardFontDataUrl:A,wasmUrl:S}},Et={ownerDocument:Q,pdfBug:U,styleElement:yt,loadingParams:{disableAutoFetch:K,enableXfa:H}};return p.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const te=p.messageHandler.sendWithPromise("GetDocRequest",St,s?[s.buffer]:null);let ve;if(h)ve=new DP(h,{disableRange:st,disableStream:X});else if(!s){if(!n)throw new Error("getDocument - no `url` parameter provided.");const vi=Nr(n)?OP:Te?qP:HP;ve=new vi({url:n,length:nt,httpHeaders:o,withCredentials:l,rangeChunkSize:d,disableRange:st,disableStream:X})}return te.then(vi=>{if(t.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const wi=new Fr(e,vi,p.port),zs=new tA(wi,t,ve,Et,_t,I);t._transport=zs,wi.send("Ready",null)})}).catch(t._capability.reject),t}class jh{static#t=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${jh.#t++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(t){throw this._worker?.port&&delete this._worker._pendingDestroy,t}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class My{#t=Promise.withResolvers();#e=[];#i=[];#n=[];#a=[];constructor(t,e,n=!1,s=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=s}addRangeListener(t){this.#a.push(t)}addProgressListener(t){this.#n.push(t)}addProgressiveReadListener(t){this.#i.push(t)}addProgressiveDoneListener(t){this.#e.push(t)}onDataRange(t,e){for(const n of this.#a)n(t,e)}onDataProgress(t,e){this.#t.promise.then(()=>{for(const n of this.#n)n(t,e)})}onDataProgressiveRead(t){this.#t.promise.then(()=>{for(const e of this.#i)e(t)})}onDataProgressiveDone(){this.#t.promise.then(()=>{for(const t of this.#e)t()})}transportReady(){this.#t.resolve()}requestDataRange(t,e){Nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class JP{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return bt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(t,e){return this._transport.getAnnotationsByType(t,e)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(t){return this._transport.extractPages(t)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class ZP{#t=!1;constructor(t,e,n,s=!1){this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=s?new sm:null,this._pdfBug=s,this.commonObjs=n.commonObjs,this.objs=new Ty,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:s=0,dontFlip:o=!1}={}){return new ia({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:e,offsetX:n,offsetY:s,dontFlip:o})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return bt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:t,canvas:e=t.canvas,viewport:n,intent:s="display",annotationMode:o=hi.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:h=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:g=null,isEditing:_=!1,recordOperations:v=!1,operationsFilter:x=null}){this._stats?.time("Overall");const w=this._transport.getRenderingIntent(s,o,g,_),{renderingIntent:P,cacheKey:A}=w;this.#t=!1,h||=this._transport.getOptionalContentConfig(P);let C=this._intentStates.get(A);C||(C=Object.create(null),this._intentStates.set(A,C)),C.streamReaderCancelTimeout&&(clearTimeout(C.streamReaderCancelTimeout),C.streamReaderCancelTimeout=null);const S=!!(P&We.PRINT);C.displayReadyCapability||(C.displayReadyCapability=Promise.withResolvers(),C.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(w));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(v||E),M=V=>{if(C.renderTasks.delete(N),T){const Y=N.gfx?.dependencyTracker.take();Y&&(N.stepper&&N.stepper.setOperatorBBoxes(Y,N.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=Y))}S&&(this.#t=!0),this.#e(),V?(N.capability.reject(V),this._abortOperatorList({intentState:C,reason:V instanceof Error?V:new Error(V)})):N.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},N=new Ms({callback:M,params:{canvas:e,canvasContext:t,dependencyTracker:T?new _P(e,C.operatorList.length,E):null,viewport:n,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:C.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!S,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,operationsFilter:x});(C.renderTasks||=new Set).add(N);const O=N.task;return Promise.all([C.displayReadyCapability.promise,h]).then(([V,Y])=>{if(this.destroyed){M();return}if(this._stats?.time("Rendering"),!(Y.renderingIntent&P))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");N.initializeGraphics({transparency:V,optionalContentConfig:Y}),N.operatorListChanged()}).catch(M),O}getOperatorList({intent:t="display",annotationMode:e=hi.ENABLE,printAnnotationStorage:n=null,isEditing:s=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(h))}const l=this._transport.getRenderingIntent(t,e,n,s,!0);let c=this._intentStates.get(l.cacheKey);c||(c=Object.create(null),this._intentStates.set(l.cacheKey,c));let h;return c.opListReadCapability||(h=Object.create(null),h.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(h),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(l)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Kr.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,s){function o(){l.read().then(function({value:h,done:d}){if(d){n(c);return}c.lang??=h.lang,Object.assign(c.styles,h.styles),c.items.push(...h.items),o()},s)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),this.#t=!1,Promise.all(t)}cleanup(t=!1){this.#t=!0;const e=this.#e();return t&&e&&(this._stats&&=new sm),e}#e(){if(!this.#t||this.destroyed)return!1;for(const{renderTasks:t,operatorList:e}of this._intentStates.values())if(t.size>0||!e.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}_startRenderPage(t,e){const n=this._intentStates.get(e);n&&(this._stats?.timeEnd("Page Request"),n.displayReadyCapability?.resolve(t))}_renderPageChunk(t,e){for(let n=0,s=t.length;n<s;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&this.#e()}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n,modifiedIds:s}){const{map:o,transfer:l}=n,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o,modifiedIds:s},l).getReader(),d=this._intentStates.get(e);d.streamReader=h;const p=()=>{h.read().then(({value:g,done:_})=>{if(_){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(g,d),p())},g=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const _ of d.renderTasks)_.operatorListChanged();this.#e()}if(d.displayReadyCapability)d.displayReadyCapability.reject(g);else if(d.opListReadCapability)d.opListReadCapability.reject(g);else throw g}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof Mh){let s=QP;e.extraDelay>0&&e.extraDelay<1e3&&(s+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},s);return}}if(t.streamReader.cancel(new mi(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[s,o]of this._intentStates)if(o===t){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}}var di,gn,jn,zi,Xo,Vi,Hi,Me,No,Iy,Dy,Or,Fs,Fo;const Ht=class Ht{constructor({name:t=null,port:e=null,verbosity:n=Db()}={}){xn(this,Me);xn(this,di,Promise.withResolvers());xn(this,gn,null);xn(this,jn,null);xn(this,zi,null);if(this.name=t,this.destroyed=!1,this.verbosity=n,e){if(Vt(Ht,Hi).has(e))throw new Error("Cannot use more than one PDFWorker per port.");Vt(Ht,Hi).set(e,this),bn(this,Me,Iy).call(this,e)}else bn(this,Me,Dy).call(this)}get promise(){return Vt(this,di).promise}get port(){return Vt(this,jn)}get messageHandler(){return Vt(this,gn)}destroy(){this.destroyed=!0,Vt(this,zi)?.terminate(),Oe(this,zi,null),Vt(Ht,Hi).delete(Vt(this,jn)),Oe(this,jn,null),Vt(this,gn)?.destroy(),Oe(this,gn,null)}static create(t){const e=Vt(this,Hi).get(t?.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new Ht(t)}static get workerSrc(){if(Ns.workerSrc)return Ns.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return bt(this,"_setupFakeWorkerGlobal",(async()=>Vt(this,Fs,Fo)?Vt(this,Fs,Fo):(await import(this.workerSrc)).WorkerMessageHandler)())}};di=new WeakMap,gn=new WeakMap,jn=new WeakMap,zi=new WeakMap,Xo=new WeakMap,Vi=new WeakMap,Hi=new WeakMap,Me=new WeakSet,No=function(){Vt(this,di).resolve(),Vt(this,gn).send("configure",{verbosity:this.verbosity})},Iy=function(t){Oe(this,jn,t),Oe(this,gn,new Fr("main","worker",t)),Vt(this,gn).on("ready",()=>{}),bn(this,Me,No).call(this)},Dy=function(){if(Vt(Ht,Vi)||Vt(Ht,Fs,Fo)){bn(this,Me,Or).call(this);return}let{workerSrc:t}=Ht;try{Ht._isSameOrigin(window.location,t)||(t=Ht._createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Fr("main","worker",e),s=()=>{o.abort(),n.destroy(),e.terminate(),this.destroyed?Vt(this,di).reject(new Error("Worker was destroyed")):bn(this,Me,Or).call(this)},o=new AbortController;e.addEventListener("error",()=>{Vt(this,zi)||s()},{signal:o.signal}),n.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}Oe(this,gn,n),Oe(this,jn,e),Oe(this,zi,e),bn(this,Me,No).call(this)}),n.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{l()}catch{bn(this,Me,Or).call(this)}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{al("The worker has been disabled.")}bn(this,Me,Or).call(this)},Or=function(){Vt(Ht,Vi)||(xt("Setting up fake worker."),Oe(Ht,Vi,!0)),Ht._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){Vt(this,di).reject(new Error("Worker was destroyed"));return}const e=new lP;Oe(this,jn,e);const n=`fake${Vf(Ht,Xo)._++}`,s=new Fr(n+"_worker",n,e);t.setup(s,e),Oe(this,gn,new Fr(n,n+"_worker",e)),bn(this,Me,No).call(this)}).catch(t=>{Vt(this,di).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Fs=new WeakSet,Fo=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},xn(Ht,Fs),xn(Ht,Xo,0),xn(Ht,Vi,!1),xn(Ht,Hi,new WeakMap),Te&&(Oe(Ht,Vi,!0),Ns.workerSrc||="./pdf.worker.mjs"),Ht._isSameOrigin=(t,e)=>{const n=URL.parse(t);if(!n?.origin||n.origin==="null")return!1;const s=new URL(e,n);return n.origin===s.origin},Ht._createCDNWrapper=t=>{const e=`await import("${t}");`;return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))},Ht.fromPort=t=>{if($b("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!t?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return Ht.create(t)};let Xr=Ht;class tA{#t=new Map;#e=new Map;#i=new Map;#n=new Map;#a=null;constructor(t,e,n,s,o,l){this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Ty,this.fontLoader=new nP({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.wasmFactory=o.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=l,this.setupMessageHandler()}#r(t,e=null){const n=this.#t.get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,e);return this.#t.set(t,s),s}get annotationStorage(){return bt(this,"annotationStorage",new Nh)}getRenderingIntent(t,e=hi.ENABLE,n=null,s=!1,o=!1){let l=We.DISPLAY,c=Qu;switch(t){case"any":l=We.ANY;break;case"display":break;case"print":l=We.PRINT;break;default:xt(`getRenderingIntent - invalid intent: ${t}`)}const h=l&We.PRINT&&n instanceof _y?n:this.annotationStorage;switch(e){case hi.DISABLE:l+=We.ANNOTATIONS_DISABLE;break;case hi.ENABLE:break;case hi.ENABLE_FORMS:l+=We.ANNOTATIONS_FORMS;break;case hi.ENABLE_STORAGE:l+=We.ANNOTATIONS_STORAGE,c=h.serializable;break;default:xt(`getRenderingIntent - invalid annotationMode: ${e}`)}s&&(l+=We.IS_EDITING),o&&(l+=We.OPLIST);const{ids:d,hash:p}=h.modifiedIds,g=[l,c.hash,p];return{renderingIntent:l,cacheKey:g.join("_"),annotationStorageSerializable:c,modifiedIds:d}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const n of this.#e.values())t.push(n._destroy());this.#e.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(),ke.cleanup(),this._networkStream?.cancelAllRequests(new mi("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,s)=>{kt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:l}){if(l){s.close();return}kt(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",async n=>{await this._fullReader.headersReady;const{isStreamingSupported:s,isRangeSupported:o,contentLength:l}=this._fullReader;return(!s||!o)&&(this._lastProgress&&e.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{e.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:l}}),t.on("GetRangeReader",(n,s)=>{kt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:l,done:c}){if(c){s.close();return}kt(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{s.error(l)})},s.onCancel=l=>{o.cancel(l),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new JP(n,this))}),t.on("DocException",n=>{e._capability.reject(je(n))}),t.on("PasswordRequest",n=>{this.#a=Promise.withResolvers();try{if(!e.onPassword)throw je(n);const s=o=>{o instanceof Error?this.#a.reject(o):this.#a.resolve({password:o})};e.onPassword(s,n.code)}catch(s){this.#a.reject(s)}return this.#a.promise}),t.on("DataLoaded",n=>{e.onProgress?.({loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;this.#e.get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,s,o])=>{if(this.destroyed||this.commonObjs.has(n))return null;switch(s){case"Font":if("error"in o){const g=o.error;xt(`Error during font loading: ${g}`),this.commonObjs.resolve(n,g);break}const l=new Rt(o),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(g,_)=>globalThis.FontInspector.fontAdded(g,_):null,h=new iP(l,c,o.extra,o.charProcOperatorList);this.fontLoader.bind(h).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!h.fontExtraProperties&&h.data&&h.clearData(),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:d}=o;kt(d,"The imageRef must be defined.");for(const g of this.#e.values())for(const[,_]of g.objs)if(_?.ref===d)return _.dataLen?(this.commonObjs.resolve(n,structuredClone(_)),_.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(n,o);break;case"Pattern":const p=new he(o);this.commonObjs.resolve(n,p.getIR());break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),t.on("obj",([n,s,o,l])=>{if(this.destroyed)return;const c=this.#e.get(s);if(!c.objs.has(n)){if(c._intentStates.size===0){l?.bitmap?.close();return}switch(o){case"Image":case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${o}`)}}}),t.on("DocProgress",n=>{this.destroyed||e.onProgress?.({loaded:n.loaded,total:n.total})}),t.on("FetchBinaryData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");const s=this[n.type];if(!s)throw new Error(`${n.type} not initialized, see the \`useWorkerFetch\` parameter.`);return s.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&xt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:this._fullReader?.filename??null},e).finally(()=>{this.annotationStorage.resetModified()})}extractPages(t){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:t})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=this.#i.get(e);if(n)return n;const s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#n.set(o.refStr,t);const l=new ZP(e,o,this,this._params.pdfBug);return this.#e.set(e,l),l});return this.#i.set(e,s),s}getPageIndex(t){return Ju(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(t,e){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:t,pageIndexesToSkip:e})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return this.#r("GetOptionalContentConfig").then(e=>new IP(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=this.#t.get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(s=>({info:s[0],metadata:s[1]?new LP(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:s[2]}));return this.#t.set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of this.#e.values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),this.#t.clear(),this.filterFactory.destroy(!0),ke.cleanup()}}cachedPageNumber(t){if(!Ju(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return this.#n.get(e)??null}}class eA{#t=null;onContinue=null;onError=null;constructor(t){this.#t=t}get promise(){return this.#t.capability.promise}cancel(t=0){this.#t.cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=this.#t.operatorList;if(!t)return!1;const{annotationCanvasMap:e}=this.#t;return t.form||t.canvas&&e?.size>0}}class Ms{#t=null;static#e=new WeakSet;constructor({callback:t,params:e,objs:n,commonObjs:s,annotationCanvasMap:o,operatorList:l,pageIndex:c,canvasFactory:h,filterFactory:d,useRequestAnimationFrame:p=!1,pdfBug:g=!1,pageColors:_=null,enableHWA:v=!1,operationsFilter:x=null}){this.callback=t,this.params=e,this.objs=n,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=h,this.filterFactory=d,this._pdfBug=g,this.pageColors=_,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new eA(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvas,this._canvasContext=e.canvas?null:e.canvasContext,this._enableHWA=v,this._dependencyTracker=e.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){if(this.cancelled)return;if(this._canvas){if(Ms.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ms.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:n,transform:s,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Rs(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:s,viewport:n,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(t=null,e=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#t&&(window.cancelAnimationFrame(this.#t),this.#t=null),Ms.#e.delete(this._canvas),t||=new Mh(`Rendering cancelled, page ${this._pageIndex+1}`,e),this.callback(t),this.task.onError?.(t)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#t=window.requestAnimationFrame(()=>{this.#t=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ms.#e.delete(this._canvas),this.callback())))}}const nA="5.4.449",iA="f44e5f0e6";class an{#t=null;#e=null;#i;#n=null;#a=!1;#r=!1;#s=null;#o;#c=null;#l=null;static#d=null;static get _keyboardManager(){return bt(this,"_keyboardManager",new ra([[["Escape","mac+Escape"],an.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],an.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],an.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],an.prototype._moveToPrevious],[["Home","mac+Home"],an.prototype._moveToBeginning],[["End","mac+End"],an.prototype._moveToEnd]]))}constructor({editor:t=null,uiManager:e=null}){t?(this.#r=!1,this.#s=t):this.#r=!0,this.#l=t?._uiManager||e,this.#o=this.#l._eventBus,this.#i=t?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",an.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const t=this.#t=document.createElement("button");t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",this.#s&&(t.ariaControls=`${this.#s.id}_colorpicker_dropdown`);const e=this.#l._signal;t.addEventListener("click",this.#g.bind(this),{signal:e}),t.addEventListener("keydown",this.#m.bind(this),{signal:e});const n=this.#e=document.createElement("span");return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=this.#i,t.append(n),t}renderMainDropdown(){const t=this.#n=this.#h();return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}#h(){const t=document.createElement("div"),e=this.#l._signal;t.addEventListener("contextmenu",on,{signal:e}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#s&&(t.id=`${this.#s.id}_colorpicker_dropdown`);for(const[n,s]of this.#l.highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=n,o.setAttribute("data-l10n-id",an.#d[n]);const l=document.createElement("span");o.append(l),l.className="swatch",l.style.backgroundColor=s,o.ariaSelected=s===this.#i,o.addEventListener("click",this.#p.bind(this,s),{signal:e}),t.append(o)}return t.addEventListener("keydown",this.#m.bind(this),{signal:e}),t}#p(t,e){e.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Ct.HIGHLIGHT_COLOR,value:t}),this.updateColor(t)}_colorSelectFromKeyboard(t){if(t.target===this.#t){this.#g(t);return}const e=t.target.getAttribute("data-color");e&&this.#p(e,t)}_moveToNext(t){if(!this.#f){this.#g(t);return}if(t.target===this.#t){this.#n.firstElementChild?.focus();return}t.target.nextSibling?.focus()}_moveToPrevious(t){if(t.target===this.#n?.firstElementChild||t.target===this.#t){this.#f&&this._hideDropdownFromKeyboard();return}this.#f||this.#g(t),t.target.previousSibling?.focus()}_moveToBeginning(t){if(!this.#f){this.#g(t);return}this.#n.firstElementChild?.focus()}_moveToEnd(t){if(!this.#f){this.#g(t);return}this.#n.lastElementChild?.focus()}#m(t){an._keyboardManager.exec(this,t)}#g(t){if(this.#f){this.hideDropdown();return}if(this.#a=t.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#t.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const e=this.#n=this.#h();this.#t.append(e)}#u(t){this.#n?.contains(t.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#t.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#f(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#f){this.#s?.unselect();return}this.hideDropdown(),this.#t.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(t){if(this.#e&&(this.#e.style.backgroundColor=t),!this.#n)return;const e=this.#l.highlightColors.values();for(const n of this.#n.children)n.ariaSelected=e.next().value===t.toUpperCase()}destroy(){this.#t?.remove(),this.#t=null,this.#e=null,this.#n?.remove(),this.#n=null}}class Yr{#t=null;#e=null;#i=null;static#n=null;constructor(t){this.#e=t,this.#i=t._uiManager,Yr.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#t)return this.#t;const{editorType:t,colorType:e,color:n}=this.#e,s=this.#t=document.createElement("input");return s.type="color",s.value=n||"#000000",s.className="basicColorPicker",s.tabIndex=0,s.setAttribute("data-l10n-id",Yr.#n[t]),s.addEventListener("input",()=>{this.#i.updateParams(e,s.value)},{signal:this.#i._signal}),s}update(t){this.#t&&(this.#t.value=t)}destroy(){this.#t?.remove(),this.#t=null}hideDropdown(){}}function Cm(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function Ir(a){return Math.max(0,Math.min(255,255*a))}class km{static CMYK_G([t,e,n,s]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+s)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=Ir(t),[t,t,t]}static G_HTML([t]){const e=Cm(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(Ir)}static RGB_HTML(t){return`#${t.map(Cm).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,s]){return["RGB",1-Math.min(1,t+s),1-Math.min(1,n+s),1-Math.min(1,e+s)]}static CMYK_rgb([t,e,n,s]){return[Ir(1-Math.min(1,t+s)),Ir(1-Math.min(1,n+s)),Ir(1-Math.min(1,e+s))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const s=1-t,o=1-e,l=1-n,c=Math.min(s,o,l);return["CMYK",s,o,l,c]}}class sA{create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),n||(s.setAttribute("width",`${t}px`),s.setAttribute("height",`${e}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${t} ${e}`),s}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Nt("Abstract method `_createSVG` called.")}}class Ko extends sA{_createSVG(t){return document.createElementNS(On,t)}}const rA=9,$i=new WeakSet,aA=new Date().getTimezoneOffset()*60*1e3;class Mu{static create(t){switch(t.data.annotationType){case ie.LINK:return new zh(t);case ie.TEXT:return new lA(t);case ie.WIDGET:switch(t.data.fieldType){case"Tx":return new cA(t);case"Btn":return t.data.radioButton?new Ry(t):t.data.checkBox?new hA(t):new dA(t);case"Ch":return new pA(t);case"Sig":return new uA(t)}return new Xi(t);case ie.POPUP:return new eh(t);case ie.FREETEXT:return new Ny(t);case ie.LINE:return new gA(t);case ie.SQUARE:return new mA(t);case ie.CIRCLE:return new _A(t);case ie.POLYLINE:return new Fy(t);case ie.CARET:return new vA(t);case ie.INK:return new Vh(t);case ie.POLYGON:return new yA(t);case ie.HIGHLIGHT:return new Oy(t);case ie.UNDERLINE:return new wA(t);case ie.SQUIGGLY:return new xA(t);case ie.STRIKEOUT:return new bA(t);case ie.STAMP:return new By(t);case ie.FILEATTACHMENT:return new PA(t);default:return new qt(t)}}}class qt{#t=null;#e=!1;#i=null;constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableComment=t.enableComment,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,this.hasOwnCommentButton=!1,e&&(this.contentElement=this.container=this._createContainer(n)),s&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:e}){return!!(t?.str||e?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return qt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:t}=this,e=this.annotationStorage?.getEditor(t.id);return e?e.getData():t}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const t=this.annotationStorage?.getEditor(this.data.id);if(t)return t.commentButtonPositionInPage;const{quadPoints:e,inkLists:n,rect:s}=this.data;let o=-1/0,l=-1/0;if(e?.length>=8){for(let c=0;c<e.length;c+=8)e[c+1]>l?(l=e[c+1],o=e[c+2]):e[c+1]===l&&(o=Math.max(o,e[c+2]));return[o,l]}if(n?.length>=1){for(const c of n)for(let h=0,d=c.length;h<d;h+=2)c[h+1]>l?(l=c[h+1],o=c[h]):c[h+1]===l&&(o=Math.max(o,c[h]));if(o!==1/0)return[o,l]}return s?[s[2],s[3]]:null}_normalizePoint(t){const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:o,pageY:l}}}=this.parent;return t[1]=e[3]-t[1]+e[1],t[0]=100*(t[0]-o)/n,t[1]=100*(t[1]-l)/s,t}get commentText(){const{data:t}=this;return this.annotationStorage.getRawValue(`${Wr}${t.id}`)?.popup?.contents||t.contentsObj?.str||""}set commentText(t){const{data:e}=this,n={deleted:!t,contents:t||""};this.annotationStorage.updateEditor(e.id,{popup:n})||this.annotationStorage.setValue(`${Wr}${e.id}`,{id:e.id,annotationType:e.annotationType,pageIndex:this.parent.page._pageIndex,popup:n,popupRef:e.popupRef,modificationDate:new Date}),t||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(t){if(!this.container)return;t.rect&&(this.#t||={rect:this.data.rect.slice(0)});const{rect:e,popup:n}=t;e&&this.#n(e);let s=this.#i?.popup||this.popup;!s&&n?.text&&(this._createPopup(n),s=this.#i.popup),s&&(s.updateEdited(t),n?.deleted&&(s.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#t&&(this.#n(this.#t.rect),this.#i?.popup.resetEdited(),this.#t=null)}#n(t){const{container:{style:e},data:{rect:n,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:l,pageX:c,pageY:h}}}}=this;n?.splice(0,4,...t),e.left=`${100*(t[0]-c)/o}%`,e.top=`${100*(l-t[3]+h)/l}%`,s===0?(e.width=`${100*(t[2]-t[0])/o}%`,e.height=`${100*(t[3]-t[1])/l}%`):this.setRotation(s)}_createContainer(t){const{data:e,parent:{page:n,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),!(this instanceof Xi)&&!(this instanceof zh)&&(o.tabIndex=0);const{style:l}=o;if(l.zIndex=this.parent.zIndex,this.parent.zIndex+=2,e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof eh){const{rotation:w}=e;return!e.hasOwnCanvas&&w!==0&&this.setRotation(w,o),o}const{width:c,height:h}=this;if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const w=e.borderStyle.horizontalCornerRadius,P=e.borderStyle.verticalCornerRadius;if(w>0||P>0){const C=`calc(${w}px * var(--total-scale-factor)) / calc(${P}px * var(--total-scale-factor))`;l.borderRadius=C}else if(this instanceof Ry){const C=`calc(${c}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;l.borderRadius=C}switch(e.borderStyle.style){case bs.SOLID:l.borderStyle="solid";break;case bs.DASHED:l.borderStyle="dashed";break;case bs.BEVELED:xt("Unimplemented border style: beveled");break;case bs.INSET:xt("Unimplemented border style: inset");break;case bs.UNDERLINE:l.borderBottomStyle="solid";break}const A=e.borderColor||null;A?(this.#e=!0,l.borderColor=ot.makeHexColor(A[0]|0,A[1]|0,A[2]|0)):l.borderWidth=0}const d=ot.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:p,pageHeight:g,pageX:_,pageY:v}=s.rawDims;l.left=`${100*(d[0]-_)/p}%`,l.top=`${100*(d[1]-v)/g}%`;const{rotation:x}=e;return e.hasOwnCanvas||x===0?(l.width=`${100*c/p}%`,l.height=`${100*h/g}%`):this.setRotation(x,o),o}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:s}=this.parent.viewport.rawDims;let{width:o,height:l}=this;t%180!==0&&([o,l]=[l,o]),e.style.width=`${100*o/n}%`,e.style.height=`${100*l/s}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,s)=>{const o=s.detail[e],l=o[0],c=o.slice(1);s.target.style[n]=km[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:km[`${l}_rgb`](c)})};return bt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,s=n%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const s of Object.keys(e.detail))(t[s]||n[s])?.(e)}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[s,o]of Object.entries(e)){const l=n[s];if(l){const c={detail:{[s]:o},target:t};l(c),delete e[s]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,s,o]=this.data.rect.map(w=>Math.fround(w));if(t.length===8){const[w,P,A,C]=t.subarray(2,6);if(s===w&&o===P&&e===A&&n===C)return}const{style:l}=this.container;let c;if(this.#e){const{borderColor:w,borderWidth:P}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${P}">`],this.container.classList.add("hasBorder")}const h=s-e,d=o-n,{svgFactory:p}=this,g=p.createElement("svg");g.classList.add("quadrilateralsContainer"),g.setAttribute("width",0),g.setAttribute("height",0),g.role="none";const _=p.createElement("defs");g.append(_);const v=p.createElement("clipPath"),x=`clippath_${this.data.id}`;v.setAttribute("id",x),v.setAttribute("clipPathUnits","objectBoundingBox"),_.append(v);for(let w=2,P=t.length;w<P;w+=8){const A=t[w],C=t[w+1],S=t[w+2],E=t[w+3],T=p.createElement("rect"),M=(S-e)/h,N=(o-C)/d,O=(A-S)/h,V=(C-E)/d;T.setAttribute("x",M),T.setAttribute("y",N),T.setAttribute("width",O),T.setAttribute("height",V),v.append(T),c?.push(`<rect vector-effect="non-scaling-stroke" x="${M}" y="${N}" width="${O}" height="${V}"/>`)}this.#e&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(g),this.container.style.clipPath=`url(#${x})`}_createPopup(t=null){const{data:e}=this;let n,s;t?(n={str:t.text},s=t.date):(n=e.contentsObj,s=e.modificationDate),this.#i=new eh({data:{color:e.color,titleObj:e.titleObj,modificationDate:s,contentsObj:n,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){Nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const s=this._fieldObjects[t];if(s)for(const{page:o,id:l,exportValues:c}of s){if(o===-1||l===e)continue;const h=typeof c=="string"?c:null,d=document.querySelector(`[data-element-id="${l}"]`);if(d&&!$i.has(d)){xt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:h,domElement:d})}return n}for(const s of document.getElementsByName(t)){const{exportValue:o}=s,l=s.getAttribute("data-element-id");l!==e&&$i.has(s)&&n.push({id:l,exportValue:o,domElement:s})}return n}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class oA extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.editor=t.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:t}=this;t.hasComment&&this._createPopup(t.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(t){this.editor.comment=t,t||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class zh extends qt{constructor(t,e=null){super(t,{isRenderable:!0,ignoreBorder:!!e?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:e}=this,n=document.createElement("a");n.setAttribute("data-element-id",t.id);let s=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(n,t.action,t.overlaidText),s=!0):t.attachment?(this.#e(n,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(this.#i(n,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(n,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),s=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(n,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=n,this.container.append(n)),this.container}#t(){this.container.setAttribute("data-internal-link","")}_bindLink(t,e,n=""){t.href=this.linkService.getDestinationHash(e),t.onclick=()=>(e&&this.linkService.goToDestination(e),!1),(e||e==="")&&this.#t(),n&&(t.title=n)}_bindNamedAction(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(e),!1),n&&(t.title=n),this.#t()}#e(t,e,n="",s=null){t.href=this.linkService.getAnchorUrl(""),e.description?t.title=e.description:n&&(t.title=n),t.onclick=()=>(this.downloadManager?.openOrDownloadData(e.content,e.filename,s),!1),this.#t()}#i(t,e,n=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(e),!1),n&&(t.title=n),this.#t()}_bindJSAction(t,e){t.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(e.actions)){const o=n.get(s);o&&(t[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e.id,name:s}}),!1))}e.overlaidText&&(t.title=e.overlaidText),t.onclick||(t.onclick=()=>!1),this.#t()}_bindResetFormAction(t,e){const n=t.onclick;if(n||(t.href=this.linkService.getAnchorUrl("")),this.#t(),!this._fieldObjects){xt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),n||(t.onclick=()=>!1);return}t.onclick=()=>{n?.();const{fields:s,refs:o,include:l}=e,c=[];if(s.length!==0||o.length!==0){const p=new Set(o);for(const g of s){const _=this._fieldObjects[g]||[];for(const{id:v}of _)p.add(v)}for(const g of Object.values(this._fieldObjects))for(const _ of g)p.has(_.id)===l&&c.push(_)}else for(const p of Object.values(this._fieldObjects))c.push(...p);const h=this.annotationStorage,d=[];for(const p of c){const{id:g}=p;switch(d.push(g),p.type){case"text":{const v=p.defaultValue||"";h.setValue(g,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;h.setValue(g,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";h.setValue(g,{value:v});break}default:continue}const _=document.querySelector(`[data-element-id="${g}"]`);if(_){if(!$i.has(_)){xt(`_bindResetFormAction - element not allowed: ${g}`);continue}}else continue;_.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}}),!1}}}class lA extends qt{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(t),this.container}}class Xi extends qt{render(){return this.container}showElementAndHideCanvas(t){this.data.hasOwnCanvas&&(t.previousSibling?.nodeName==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return ye.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,s,o){n.includes("mouse")?t.addEventListener(n,l=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(l)}})})}_setEventListeners(t,e,n,s){for(const[o,l]of n)(l==="Action"||this.data.actions?.[l])&&((l==="Focus"||l==="Blur")&&(e||={focused:!1}),this._setEventListener(t,e,o,l,s),l==="Focus"&&!this.data.actions?.Blur?this._setEventListener(t,e,"blur","Blur",null):l==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ot.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||rA,o=t.style;let l;const c=2,h=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c),p=Math.round(d/(Pu*s))||1,g=d/p;l=Math.min(s,h(g/Pu))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(s,h(d/Pu))}o.fontSize=`calc(${l}px * var(--total-scale-factor))`,o.color=ot.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class cA extends Xi{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,s){const o=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),o.setValue(l.id,{[s]:n})}render(){const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const s=t.getValue(e,{value:this.data.fieldValue});let o=s.value||"";const l=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=c??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",c??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),$i.add(n),this.contentElement=n,n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:p,timeStep:g}=this.data,_=!!p&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",x=>{t.setValue(e,{value:x.target.value}),this.setPropertyOnSiblings(n,"value",x.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",x=>{const w=this.data.defaultFieldValue??"";n.value=h.userValue=w,h.formattedValue=null});let v=x=>{const{formattedValue:w}=h;w!=null&&(x.target.value=w),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",w=>{if(h.focused)return;const{target:P}=w;if(_&&(P.type=p,g&&(P.step=g)),h.userValue){const A=h.userValue;if(_)if(p==="time"){const C=new Date(A),S=[C.getHours(),C.getMinutes(),C.getSeconds()];P.value=S.map(E=>E.toString().padStart(2,"0")).join(":")}else P.value=new Date(A-aA).toISOString().split(p==="date"?"T":".",1)[0];else P.value=A}h.lastCommittedValue=P.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",w=>{this.showElementAndHideCanvas(w.target);const P={value(A){h.userValue=A.detail.value??"",_||t.setValue(e,{value:h.userValue.toString()}),A.target.value=h.userValue},formattedValue(A){const{formattedValue:C}=A.detail;h.formattedValue=C,C!=null&&A.target!==document.activeElement&&(A.target.value=C);const S={formattedValue:C};_&&(S.value=C),t.setValue(e,S)},selRange(A){A.target.setSelectionRange(...A.detail.selRange)},charLimit:A=>{const{charLimit:C}=A.detail,{target:S}=A;if(C===0){S.removeAttribute("maxLength");return}S.setAttribute("maxLength",C);let E=h.userValue;!E||E.length<=C||(E=E.slice(0,C),S.value=h.userValue=E,t.setValue(e,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:S.selectionStart,selEnd:S.selectionEnd}}))}};this._dispatchEventFromSandbox(P,w)}),n.addEventListener("keydown",w=>{h.commitKey=1;let P=-1;if(w.key==="Escape"?P=0:w.key==="Enter"&&!this.data.multiLine?P=2:w.key==="Tab"&&(h.commitKey=3),P===-1)return;const{value:A}=w.target;h.lastCommittedValue!==A&&(h.lastCommittedValue=A,h.userValue=A,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:P,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}))});const x=v;v=null,n.addEventListener("blur",w=>{if(!h.focused||!w.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{target:P}=w;let{value:A}=P;if(_){if(A&&p==="time"){const C=A.split(":").map(S=>parseInt(S,10));A=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),P.step=""}else A.includes("T")||(A=`${A}T00:00`),A=new Date(A).valueOf();P.type="text"}h.userValue=A,h.lastCommittedValue!==A&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,willCommit:!0,commitKey:h.commitKey,selStart:w.target.selectionStart,selEnd:w.target.selectionEnd}}),x(w)}),this.data.actions?.Keystroke&&n.addEventListener("beforeinput",w=>{h.lastCommittedValue=null;const{data:P,target:A}=w,{value:C,selectionStart:S,selectionEnd:E}=A;let T=S,M=E;switch(w.inputType){case"deleteWordBackward":{const N=C.substring(0,S).match(/\w*[^\w]*$/);N&&(T-=N[0].length);break}case"deleteWordForward":{const N=C.substring(S).match(/^[^\w]*\w*/);N&&(M+=N[0].length);break}case"deleteContentBackward":S===E&&(T-=1);break;case"deleteContentForward":S===E&&(M+=1);break}w.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:C,change:P||"",willCommit:!1,selStart:T,selEnd:M}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],w=>w.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const w=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${w}px * var(--total-scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class uA extends Xi{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class hA extends Xi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",t.setValue(n,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return $i.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",e.exportValue),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n)){const p=h&&d.exportValue===e.exportValue;d.domElement&&(d.domElement.checked=p),t.setValue(d.id,{value:p})}t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",l=>{const c={value(h){h.target.checked=h.detail.value!=="Off",t.setValue(n,{value:h.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ry extends Xi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let s=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof s=="string"&&(s=s!==e.buttonValue,t.setValue(n,{value:s})),s)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const o=document.createElement("input");if($i.add(o),o.setAttribute("data-element-id",n),o.disabled=e.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=e.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=0,o.addEventListener("change",l=>{const{name:c,checked:h}=l.target;for(const d of this._getElementsByName(c,n))t.setValue(d.id,{value:!1});t.setValue(n,{value:h})}),o.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;o.addEventListener("updatefromsandbox",c=>{const h={value:d=>{const p=l===d.detail.value;for(const g of this._getElementsByName(d.target.name)){const _=p&&g.id===n;g.domElement&&(g.domElement.checked=_),t.setValue(g.id,{value:_})}}};this._dispatchEventFromSandbox(h,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class dA extends zh{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class pA extends Xi{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),s=document.createElement("select");$i.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=0;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",p=>{const g=this.data.defaultFieldValue;for(const _ of s.options)_.selected=_.value===g});for(const p of this.data.options){const g=document.createElement("option");g.textContent=p.displayValue,g.value=p.exportValue,n.value.includes(p.exportValue)&&(g.setAttribute("selected",!0),o=!1),s.append(g)}let l=null;if(o){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),s.prepend(p),l=()=>{p.remove(),s.removeEventListener("input",l),l=null},s.addEventListener("input",l)}const c=p=>{const g=p?"value":"textContent",{options:_,multiple:v}=s;return v?Array.prototype.filter.call(_,x=>x.selected).map(x=>x[g]):_.selectedIndex===-1?null:_[_.selectedIndex][g]};let h=c(!1);const d=p=>{const g=p.target.options;return Array.prototype.map.call(g,_=>({displayValue:_.textContent,exportValue:_.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",p=>{const g={value(_){l?.();const v=_.detail.value,x=new Set(Array.isArray(v)?v:[v]);for(const w of s.options)w.selected=x.has(w.value);t.setValue(e,{value:c(!0)}),h=c(!1)},multipleSelection(_){s.multiple=!0},remove(_){const v=s.options,x=_.detail.remove;v[x].selected=!1,s.remove(x),v.length>0&&Array.prototype.findIndex.call(v,P=>P.selected)===-1&&(v[0].selected=!0),t.setValue(e,{value:c(!0),items:d(_)}),h=c(!1)},clear(_){for(;s.length!==0;)s.remove(0);t.setValue(e,{value:null,items:[]}),h=c(!1)},insert(_){const{index:v,displayValue:x,exportValue:w}=_.detail.insert,P=s.children[v],A=document.createElement("option");A.textContent=x,A.value=w,P?P.before(A):s.append(A),t.setValue(e,{value:c(!0),items:d(_)}),h=c(!1)},items(_){const{items:v}=_.detail;for(;s.length!==0;)s.remove(0);for(const x of v){const{displayValue:w,exportValue:P}=x,A=document.createElement("option");A.textContent=w,A.value=P,s.append(A)}s.options.length>0&&(s.options[0].selected=!0),t.setValue(e,{value:c(!0),items:d(_)}),h=c(!1)},indices(_){const v=new Set(_.detail.indices);for(const x of _.target.options)x.selected=v.has(x.index);t.setValue(e,{value:c(!0)}),h=c(!1)},editable(_){_.target.disabled=!_.detail.editable}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("input",p=>{const g=c(!0),_=c(!1);t.setValue(e,{value:g}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:h,change:_,changeEx:g,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):s.addEventListener("input",function(p){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class eh extends qt{constructor(t){const{data:e,elements:n,parent:s}=t,o=!!s._commentManager;if(super(t,{isRenderable:!o&&qt._hasPopupData(e)}),this.elements=n,o&&qt._hasPopupData(e)){const l=this.popup=this.#t();for(const c of n)c.popup=l}else this.popup=null}#t(){return new fA({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const e=this.popup=this.#t(),n=[];for(const s of this.elements)s.popup=e,s.container.ariaHasPopup="dialog",n.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(s=>`${Ts}${s}`).join(",")),this.container}}class fA{#t=null;#e=this.#G.bind(this);#i=this.#j.bind(this);#n=this.#D.bind(this);#a=this.#b.bind(this);#r=null;#s=null;#o=null;#c=null;#l=null;#d=null;#h=null;#p=!1;#m=null;#g=null;#u=null;#f=null;#_=null;#v=null;#y=null;#S=null;#P=null;#x=null;#k=!1;#w=null;#A=null;constructor({container:t,color:e,elements:n,titleObj:s,modificationDate:o,contentsObj:l,richText:c,parent:h,rect:d,parentRect:p,open:g,commentManager:_=null}){this.#s=t,this.#P=s,this.#o=l,this.#S=c,this.#d=h,this.#r=e,this.#y=d,this.#h=p,this.#l=n,this.#t=_,this.#w=n[0],this.#c=Ku.toDateObject(o),this.trigger=n.flatMap(v=>v.getElementsToTriggerPopup()),_||(this.#L(),this.#s.hidden=!0,g&&this.#b())}#L(){if(this.#g)return;this.#g=new AbortController;const{signal:t}=this.#g;for(const e of this.trigger)e.addEventListener("click",this.#a,{signal:t}),e.addEventListener("pointerenter",this.#n,{signal:t}),e.addEventListener("pointerleave",this.#i,{signal:t}),e.classList.add("popupTriggerArea");for(const e of this.#l)e.container?.addEventListener("keydown",this.#e,{signal:t})}#E(){const t=this.#l.find(e=>e.hasCommentButton);t&&(this.#_=t._normalizePoint(t.commentButtonPosition))}renderCommentButton(){if(this.#f){this.#f.parentNode||this.#w.container.after(this.#f);return}if(this.#_||this.#E(),!this.#_)return;const{signal:t}=this.#g=new AbortController,e=this.#w.hasOwnCommentButton,n=()=>{this.#t.toggleCommentPopup(this,!0,void 0,!e)},s=()=>{this.#t.toggleCommentPopup(this,!1,!0,!e)},o=()=>{this.#t.toggleCommentPopup(this,!1,!1)};if(e){this.#f=this.#w.container;for(const l of this.trigger)l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),l.classList.add("popupTriggerArea")}else{const l=this.#f=document.createElement("button");l.className="annotationCommentButton";const c=this.#w.container;l.style.zIndex=c.style.zIndex+1,l.tabIndex=0,l.ariaHasPopup="dialog",l.ariaControls="commentPopup",l.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#O(),this.#T(),l.addEventListener("keydown",this.#e,{signal:t}),l.addEventListener("click",n,{signal:t}),l.addEventListener("pointerenter",s,{signal:t}),l.addEventListener("pointerleave",o,{signal:t}),c.after(l)}}#T(){if(this.#w.extraPopupElement&&!this.#w.editor)return;this.#f||this.renderCommentButton();const[t,e]=this.#_,{style:n}=this.#f;n.left=`calc(${t}%)`,n.top=`calc(${e}% - var(--comment-button-dim))`}#O(){this.#w.extraPopupElement||(this.#f||this.renderCommentButton(),this.#f.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:t,opacity:e}=this.#w.commentData;return t?this.#d._commentManager.makeCommentColor(t,e):null}focusCommentButton(){setTimeout(()=>{this.#f?.focus()},0)}getData(){const{richText:t,color:e,opacity:n,creationDate:s,modificationDate:o}=this.#w.commentData;return{contentsObj:{str:this.comment},richText:t,color:e,opacity:n,creationDate:s,modificationDate:o}}get elementBeforePopup(){return this.#f}get comment(){return this.#A||=this.#w.commentText,this.#A}set comment(t){t!==this.comment&&(this.#w.commentText=this.#A=t)}focus(){this.#w.container?.focus()}get parentBoundingClientRect(){return this.#w.layer.getBoundingClientRect()}setCommentButtonStates({selected:t,hasPopup:e}){this.#f&&(this.#f.classList.toggle("selected",t),this.#f.ariaExpanded=e)}setSelectedCommentButton(t){this.#f.classList.toggle("selected",t)}get commentPopupPosition(){if(this.#v)return this.#v;const{x:t,y:e,height:n}=this.#f.getBoundingClientRect(),{x:s,y:o,width:l,height:c}=this.#w.layer.getBoundingClientRect();return[(t-s)/l,(e+n-o)/c]}set commentPopupPosition(t){this.#v=t}hasDefaultPopupPosition(){return this.#v===null}get commentButtonPosition(){return this.#_}get commentButtonWidth(){return this.#f.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(t){const[e,n]=this.#v||this.commentButtonPosition.map(d=>d/100),s=this.parentBoundingClientRect,{x:o,y:l,width:c,height:h}=s;this.#t.showDialog(null,this,o+e*c,l+n*h,{...t,parentDimensions:s})}render(){if(this.#m)return;const t=this.#m=document.createElement("div");if(t.className="popup",this.#r){const n=t.style.outlineColor=ot.makeHexColor(...this.#r);t.style.backgroundColor=`color-mix(in srgb, ${n} 30%, white)`}const e=document.createElement("span");if(e.className="header",this.#P?.str){const n=document.createElement("span");n.className="title",e.append(n),{dir:n.dir,str:n.textContent}=this.#P}if(t.append(e),this.#c){const n=document.createElement("time");n.className="popupDate",n.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),n.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),n.dateTime=this.#c.toISOString(),e.append(n)}py({html:this.#I||this.#o.str,dir:this.#o?.dir,className:"popupContent"},t),this.#s.append(t)}get#I(){const t=this.#S,e=this.#o;return t?.str&&(!e?.str||e.str===t.str)&&this.#S.html||null}get#R(){return this.#I?.attributes?.style?.fontSize||0}get#B(){return this.#I?.attributes?.style?.color||null}#N(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},s={style:{color:this.#B,fontSize:this.#R?`calc(${this.#R}px * var(--total-scale-factor))`:""}};for(const o of t.split(`
`))e.push({name:"span",value:o,attributes:s});return n}#G(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&this.#p)&&this.#b()}updateEdited({rect:t,popup:e,deleted:n}){if(this.#t){n?(this.remove(),this.#A=null):e&&(e.deleted?this.remove():(this.#O(),this.#A=e.text)),t&&(this.#_=null,this.#E(),this.#T());return}if(n||e?.deleted){this.remove();return}this.#L(),this.#x||={contentsObj:this.#o,richText:this.#S},t&&(this.#u=null),e&&e.text&&(this.#S=this.#N(e.text),this.#c=Ku.toDateObject(e.date),this.#o=null),this.#m?.remove(),this.#m=null}resetEdited(){this.#x&&({contentsObj:this.#o,richText:this.#S}=this.#x,this.#x=null,this.#m?.remove(),this.#m=null,this.#u=null)}remove(){if(this.#g?.abort(),this.#g=null,this.#m?.remove(),this.#m=null,this.#k=!1,this.#p=!1,this.#f?.remove(),this.#f=null,this.trigger)for(const t of this.trigger)t.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:s,pageY:o}}}=this.#d;let l=!!this.#h,c=l?this.#h:this.#y;for(const x of this.#l)if(!c||ot.intersect(x.data.rect,c)!==null){c=x.data.rect,l=!0;break}const h=ot.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),p=l?c[2]-c[0]+5:0,g=h[0]+p,_=h[1];this.#u=[100*(g-s)/e,100*(_-o)/n];const{style:v}=this.#s;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#b(){if(this.#t){this.#t.toggleCommentPopup(this,!1);return}this.#p=!this.#p,this.#p?(this.#D(),this.#s.addEventListener("click",this.#a),this.#s.addEventListener("keydown",this.#e)):(this.#j(),this.#s.removeEventListener("click",this.#a),this.#s.removeEventListener("keydown",this.#e))}#D(){this.#m||this.render(),this.isVisible?this.#p&&this.#s.classList.add("focused"):(this.#C(),this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#j(){this.#s.classList.remove("focused"),!(this.#p||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#k=this.isVisible,this.#k&&(this.#s.hidden=!0)}maybeShow(){this.#t||(this.#L(),this.#k&&(this.#m||this.#D(),this.#k=!1,this.#s.hidden=!1))}get isVisible(){return this.#t?!1:this.#s.hidden===!1}}class Ny extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Pt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=this.contentElement=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class gA extends qt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=this.#t=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mA extends qt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:rect");return l.setAttribute("x",o/2),l.setAttribute("y",o/2),l.setAttribute("width",e-o),l.setAttribute("height",n-o),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class _A extends qt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:t,width:e,height:n}=this,s=this.svgFactory.create(e,n,!0),o=t.borderStyle.width,l=this.#t=this.svgFactory.createElement("svg:ellipse");return l.setAttribute("cx",e/2),l.setAttribute("cy",n/2),l.setAttribute("rx",e/2-o/2),l.setAttribute("ry",n/2-o/2),l.setAttribute("stroke-width",o||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),s.append(l),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class Fy extends qt{#t=null;constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:e,borderStyle:n,popupRef:s},width:o,height:l}=this;if(!e)return this.container;const c=this.svgFactory.create(o,l,!0);let h=[];for(let p=0,g=e.length;p<g;p+=2){const _=e[p]-t[0],v=t[3]-e[p+1];h.push(`${_},${v}`)}h=h.join(" ");const d=this.#t=this.svgFactory.createElement(this.svgElementName);return d.setAttribute("points",h),d.setAttribute("stroke-width",n.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class yA extends Fy{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class vA extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class Vh extends qt{#t=null;#e=[];constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Pt.HIGHLIGHT:Pt.INK}#i(t,e){switch(t){case 90:return{transform:`rotate(90) translate(${-e[0]},${e[1]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};case 180:return{transform:`rotate(180) translate(${-e[2]},${e[1]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]};case 270:return{transform:`rotate(270) translate(${-e[2]},${e[3]}) scale(1,-1)`,width:e[3]-e[1],height:e[2]-e[0]};default:return{transform:`translate(${-e[0]},${e[3]}) scale(1,-1)`,width:e[2]-e[0],height:e[3]-e[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:e,inkLists:n,borderStyle:s,popupRef:o}}=this,{transform:l,width:c,height:h}=this.#i(e,t),d=this.svgFactory.create(c,h,!0),p=this.#t=this.svgFactory.createElement("svg:g");d.append(p),p.setAttribute("stroke-width",s.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",l);for(let g=0,_=n.length;g<_;g++){const v=this.svgFactory.createElement(this.svgElementName);this.#e.push(v),v.setAttribute("points",n[g].join(",")),p.append(v)}return!o&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:e,points:n,rect:s}=t,o=this.#t;if(e>=0&&o.setAttribute("stroke-width",e||1),n)for(let l=0,c=this.#e.length;l<c;l++)this.#e[l].setAttribute("points",n[l].join(","));if(s){const{transform:l,width:c,height:h}=this.#i(this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${c} ${h}`),o.setAttribute("transform",l)}}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Oy extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Pt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const n=document.createElement("mark");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class wA extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class xA extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),t){const n=document.createElement("u");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class bA extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:e}}=this;if(!e&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),t){const n=document.createElement("s");n.classList.add("overlaidText"),n.textContent=t,this.container.append(n)}return this.container}}class By extends qt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Pt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class PA extends qt{#t=null;constructor(t){super(t,{isRenderable:!0});const{file:e}=this.data;this.filename=e.filename,this.content=e.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...e})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:e}=this;let n;e.hasAppearance||e.fillAlpha===0?n=document.createElement("div"):(n=document.createElement("img"),n.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(e.name)?"paperclip":"pushpin"}.svg`,e.fillAlpha&&e.fillAlpha<1&&(n.style=`filter: opacity(${Math.round(e.fillAlpha*100)}%);`)),n.addEventListener("dblclick",this.#e.bind(this)),this.#t=n;const{isMac:s}=ye.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#e()}),!e.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):n.classList.add("popupTriggerArea"),t.append(n),t}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}#e(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Hh{#t=null;#e=null;#i=null;#n=new Map;#a=null;#r=null;#s=[];#o=!1;constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:s,page:o,viewport:l,structTreeLayer:c,commentManager:h,linkService:d,annotationStorage:p}){this.div=t,this.#t=e,this.#e=n,this.#a=c||null,this.#r=d||null,this.#i=p||new Nh,this.page=o,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=s,this._commentManager=h||null}hasEditableAnnotations(){return this.#n.size>0}async render(t){const{annotations:e}=t,n=this.div;Gi(n,this.viewport);const s=new Map,o=[],l={data:null,layer:n,linkService:this.#r,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Ko,annotationStorage:this.#i,enableComment:t.enableComment===!0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const h=c.annotationType===ie.POPUP;if(h){const g=s.get(c.id);if(!g)continue;if(!this._commentManager){o.push(c);continue}l.elements=g}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const d=Mu.create(l);if(!d.isRenderable)continue;if(!h&&(this.#s.push(d),c.popupRef)){const g=s.get(c.popupRef);g?g.push(d):s.set(c.popupRef,[d])}const p=d.render();c.hidden&&(p.style.visibility="hidden"),d._isEditable&&(this.#n.set(d.data.id,d),this._annotationEditorUIManager?.renderAnnotationElement(d))}await this.#c();for(const c of o){const h=l.elements=s.get(c.id);l.data=c;const d=Mu.create(l);if(!d.isRenderable)continue;const p=d.render();d.contentElement.id=`${Ts}${c.id}`,c.hidden&&(p.style.visibility="hidden"),h.at(-1).container.after(p)}this.#l()}async#c(){if(this.#s.length===0)return;this.div.replaceChildren();const t=[];if(!this.#o){this.#o=!0;for(const{contentElement:n,data:{id:s}}of this.#s){const o=n.id=`${Ts}${s}`;t.push(this.#a?.getAriaAttributes(o).then(l=>{if(l)for(const[c,h]of l)n.setAttribute(c,h)}))}}this.#s.sort(({data:{rect:[n,s,o,l]}},{data:{rect:[c,h,d,p]}})=>{if(n===o&&s===l)return 1;if(c===d&&h===p)return-1;const g=l,_=s,v=(s+l)/2,x=p,w=h,P=(h+p)/2;if(v>=x&&P<=_)return-1;if(P>=g&&v<=w)return 1;const A=(n+o)/2,C=(c+d)/2;return A-C});const e=document.createDocumentFragment();for(const n of this.#s)e.append(n.container),this._commentManager?(n.extraPopupElement?.popup||n.popup)?.renderCommentButton():n.extraPopupElement&&e.append(n.extraPopupElement.render());if(this.div.append(e),await Promise.all(t),this.#t)for(const n of this.#s)this.#t.addPointerInTextLayer(n.contentElement,!1)}async addLinkAnnotations(t){const e={data:null,layer:this.div,linkService:this.#r,svgFactory:new Ko,parent:this};for(const n of t){n.borderStyle||=Hh._defaultBorderStyle,e.data=n;const s=Mu.create(e);s.isRenderable&&(s.render(),s.contentElement.id=`${Ts}${n.id}`,this.#s.push(s))}await this.#c()}update({viewport:t}){const e=this.div;this.viewport=t,Gi(e,{rotation:t.rotation}),this.#l(),e.hidden=!1}#l(){if(!this.#e)return;const t=this.div;for(const[e,n]of this.#e){const s=t.querySelector(`[data-annotation-id="${e}"]`);if(!s)continue;n.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):s.append(n);const l=this.#n.get(e);l&&(l._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(e,s.id,n),l._hasNoCanvas=!1):l.canvas=n)}this.#e.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(t){return this.#n.get(t)}addFakeAnnotation(t){const{div:e}=this,{id:n,rotation:s}=t,o=new oA({data:{id:n,rect:t.getPDFRect(),rotation:s},editor:t,layer:e,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#i});return o.render(),o.contentElement.id=`${Ts}${n}`,o.createOrUpdatePopup(),this.#s.push(o),o}removeAnnotation(t){const e=this.#s.findIndex(s=>s.data.id===t);if(e<0)return;const[n]=this.#s.splice(e,1);this.#t?.removePointerInTextLayer(n.contentElement)}updateFakeAnnotations(t){if(t.length!==0){for(const e of t)e.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}static get _defaultBorderStyle(){return bt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:bs.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const To=/\r\n?|\n/g;class de extends dt{#t="";#e=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const t=de.prototype,e=o=>o.isEmpty(),n=_i.TRANSLATE_SMALL,s=_i.TRANSLATE_BIG;return bt(this,"_keyboardManager",new ra([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-n,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[n,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-n],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:e}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,n],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:e}]]))}static _type="freetext";static _editorType=Pt.FREETEXT;constructor(t){super({...t,name:"freeTextEditor"}),this.color=t.color||de._defaultColor||dt._defaultLineColor,this.#n=t.fontSize||de._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(t,e){dt.initialize(t,e);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,e){switch(t){case Ct.FREETEXT_SIZE:de._defaultFontSize=e;break;case Ct.FREETEXT_COLOR:de._defaultColor=e;break}}updateParams(t,e){switch(t){case Ct.FREETEXT_SIZE:this.#a(e);break;case Ct.FREETEXT_COLOR:this.#r(e);break}}static get defaultPropertiesToUpdate(){return[[Ct.FREETEXT_SIZE,de._defaultFontSize],[Ct.FREETEXT_COLOR,de._defaultColor||dt._defaultLineColor]]}get propertiesToUpdate(){return[[Ct.FREETEXT_SIZE,this.#n],[Ct.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Yr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ct.FREETEXT_COLOR}#a(t){const e=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-this.#n)*this.parentScale),this.#n=s,this.#o()},n=this.#n;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(t){const e=s=>{this.color=s,this.onUpdatedColor()},n=this.color;this.addCommands({cmd:e.bind(this,t),undo:e.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}getInitialTranslation(){const t=this.parentScale;return[-de._internalPadding*t,-(de._internalPadding+this.#n)*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const t=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#e),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#s(){const t=[];this.editorDiv.normalize();let e=null;for(const n of this.editorDiv.childNodes)e?.nodeType===Node.TEXT_NODE&&n.nodeName==="BR"||(t.push(de.#c(n)),e=n);return t.join(`
`)}#o(){const[t,e]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,l=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),n=o.getBoundingClientRect(),o.remove(),o.style.display=l,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=n.width/t,this.height=n.height/e):(this.width=n.height/t,this.height=n.width/e),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=this.#t,e=this.#t=this.#s().trimEnd();if(t===e)return;const n=s=>{if(this.#t=s,!s){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{n(e)},undo:()=>{n(t)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){de._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,e;(this._isCopy||this.annotationElementId)&&(t=this.x,e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#e),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:l}=this._initialData;let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[d,p]=this.pageDimensions,[g,_]=this.pageTranslation;let v,x;switch(this.rotation){case 0:v=t+(l[0]-g)/d,x=e+this.height-(l[1]-_)/p;break;case 90:v=t+(l[0]-g)/d,x=e-(l[1]-_)/p,[c,h]=[h,-c];break;case 180:v=t-this.width+(l[0]-g)/d,x=e-(l[1]-_)/p,[c,h]=[-c,-h];break;case 270:v=t+(l[0]-g-this.height*p)/d,x=e+(l[1]-_-this.width*d)/p,[c,h]=[-h,c];break}this.setAt(v*s,x*o,c,h)}else this._moveAfterPaste(t,e);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(To,"")}editorDivPaste(t){const e=t.clipboardData||window.clipboardData,{types:n}=e;if(n.length===1&&n[0]==="text/plain")return;t.preventDefault();const s=de.#h(e.getData("text")||"").replaceAll(To,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const l=o.getRangeAt(0);if(!s.includes(`
`)){l.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:h}=l,d=[],p=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(p.push(c.nodeValue.slice(h).replaceAll(To,"")),v!==this.editorDiv){let x=d;for(const w of this.editorDiv.childNodes){if(w===v){x=p;continue}x.push(de.#c(w))}}d.push(c.nodeValue.slice(0,h).replaceAll(To,""))}else if(c===this.editorDiv){let v=d,x=0;for(const w of this.editorDiv.childNodes)x++===h&&(v=p),v.push(de.#c(w))}this.#t=`${d.join(`
`)}${s}${p.join(`
`)}`,this.#l();const g=new Range;let _=Math.sumPrecise(d.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const x=v.nodeValue.length;if(_<=x){g.setStart(v,_),g.setEnd(v,_);break}_-=x}o.removeAllRanges(),o.addRange(g)}#l(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const t of this.#t.split(`
`)){const e=document.createElement("div");e.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(e)}}#d(){return this.#t.replaceAll(""," ")}static#h(t){return t.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const t=de._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,e,n){let s=null;if(t instanceof Ny){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:h,rotation:d,id:p,popupRef:g,richText:_,contentsObj:v,creationDate:x,modificationDate:w},textContent:P,textPosition:A,parent:{page:{pageNumber:C}}}=t;if(!P||P.length===0)return null;s=t={annotationType:Pt.FREETEXT,color:Array.from(c),fontSize:l,value:P.join(`
`),position:A,pageIndex:C-1,rect:h.slice(0),rotation:d,annotationElementId:p,id:p,deleted:!1,popupRef:g,comment:v?.str||null,richText:_,creationDate:x,modificationDate:w}}const o=await super.deserialize(t,e,n);return o.#n=t.fontSize,o.color=ot.makeHexColor(...t.color),o.#t=de.#h(t.value),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const e=dt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),n=Object.assign(super.serialize(t),{color:e,fontSize:this.#n,value:this.#d()});return this.addComment(n),t?(n.isCopy=!0,n):this.annotationElementId&&!this.#p(n)?null:(n.id=this.annotationElementId,n)}#p(t){const{value:e,fontSize:n,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==e||t.fontSize!==n||t.color.some((l,c)=>l!==s[c])||t.pageIndex!==o}renderAnnotationElement(t){const e=super.renderAnnotationElement(t);if(!e)return null;const{style:n}=e;n.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,n.color=this.color,e.replaceChildren();for(const s of this.#t.split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),e.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#t}}),e}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}}class at{static PRECISION=1e-4;toSVGPath(){Nt("Abstract method `toSVGPath` must be implemented.")}get box(){Nt("Abstract getter `box` must be implemented.")}serialize(t,e){Nt("Abstract method `serialize` must be implemented.")}static _rescale(t,e,n,s,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c]*s,l[c+1]=n+t[c+1]*o;return l}static _rescaleAndSwap(t,e,n,s,o,l){l||=new Float32Array(t.length);for(let c=0,h=t.length;c<h;c+=2)l[c]=e+t[c+1]*s,l[c+1]=n+t[c]*o;return l}static _translate(t,e,n,s){s||=new Float32Array(t.length);for(let o=0,l=t.length;o<l;o+=2)s[o]=e+t[o],s[o+1]=n+t[o+1];return s}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,e,n,s,o){switch(o){case 90:return[1-e/n,t/s];case 180:return[1-t/n,1-e/s];case 270:return[e/n,1-t/s];default:return[t/n,e/s]}}static _normalizePagePoint(t,e,n){switch(n){case 90:return[1-e,t];case 180:return[1-t,1-e];case 270:return[e,1-t];default:return[t,e]}}static createBezierPoints(t,e,n,s,o,l){return[(t+5*n)/6,(e+5*s)/6,(5*n+o)/6,(5*s+l)/6,(n+o)/2,(s+l)/2]}}class ji{#t;#e=[];#i;#n;#a=[];#r=new Float32Array(18);#s;#o;#c;#l;#d;#h;#p=[];static#m=8;static#g=2;static#u=ji.#m+ji.#g;constructor({x:t,y:e},n,s,o,l,c=0){this.#t=n,this.#h=o*s,this.#n=l,this.#r.set([NaN,NaN,NaN,NaN,t,e],6),this.#i=c,this.#l=ji.#m*s,this.#c=ji.#u*s,this.#d=s,this.#p.push(t,e)}isEmpty(){return isNaN(this.#r[8])}#f(){const t=this.#r.subarray(4,6),e=this.#r.subarray(16,18),[n,s,o,l]=this.#t;return[(this.#s+(t[0]-e[0])/2-n)/o,(this.#o+(t[1]-e[1])/2-s)/l,(this.#s+(e[0]-t[0])/2-n)/o,(this.#o+(e[1]-t[1])/2-s)/l]}add({x:t,y:e}){this.#s=t,this.#o=e;const[n,s,o,l]=this.#t;let[c,h,d,p]=this.#r.subarray(8,12);const g=t-d,_=e-p,v=Math.hypot(g,_);if(v<this.#c)return!1;const x=v-this.#l,w=x/v,P=w*g,A=w*_;let C=c,S=h;c=d,h=p,d+=P,p+=A,this.#p?.push(t,e);const E=-A/x,T=P/x,M=E*this.#h,N=T*this.#h;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([d+M,p+N],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([d-M,p-N],16),isNaN(this.#r[6])?(this.#a.length===0&&(this.#r.set([c+M,h+N],2),this.#a.push(NaN,NaN,NaN,NaN,(c+M-n)/o,(h+N-s)/l),this.#r.set([c-M,h-N],14),this.#e.push(NaN,NaN,NaN,NaN,(c-M-n)/o,(h-N-s)/l)),this.#r.set([C,S,c,h,d,p],6),!this.isEmpty()):(this.#r.set([C,S,c,h,d,p],6),Math.abs(Math.atan2(S-h,C-c)-Math.atan2(A,P))<Math.PI/2?([c,h,d,p]=this.#r.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((c+d)/2-n)/o,((h+p)/2-s)/l),[c,h,C,S]=this.#r.subarray(14,18),this.#e.push(NaN,NaN,NaN,NaN,((C+c)/2-n)/o,((S+h)/2-s)/l),!0):([C,S,c,h,d,p]=this.#r.subarray(0,6),this.#a.push(((C+5*c)/6-n)/o,((S+5*h)/6-s)/l,((5*c+d)/6-n)/o,((5*h+p)/6-s)/l,((c+d)/2-n)/o,((h+p)/2-s)/l),[d,p,c,h,C,S]=this.#r.subarray(12,18),this.#e.push(((C+5*c)/6-n)/o,((S+5*h)/6-s)/l,((5*c+d)/6-n)/o,((5*h+p)/6-s)/l,((c+d)/2-n)/o,((h+p)/2-s)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=this.#a,e=this.#e;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#_();const n=[];n.push(`M${t[4]} ${t[5]}`);for(let s=6;s<t.length;s+=6)isNaN(t[s])?n.push(`L${t[s+4]} ${t[s+5]}`):n.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);this.#y(n);for(let s=e.length-6;s>=6;s-=6)isNaN(e[s])?n.push(`L${e[s+4]} ${e[s+5]}`):n.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);return this.#v(n),n.join(" ")}#_(){const[t,e,n,s]=this.#t,[o,l,c,h]=this.#f();return`M${(this.#r[2]-t)/n} ${(this.#r[3]-e)/s} L${(this.#r[4]-t)/n} ${(this.#r[5]-e)/s} L${o} ${l} L${c} ${h} L${(this.#r[16]-t)/n} ${(this.#r[17]-e)/s} L${(this.#r[14]-t)/n} ${(this.#r[15]-e)/s} Z`}#v(t){const e=this.#e;t.push(`L${e[4]} ${e[5]} Z`)}#y(t){const[e,n,s,o]=this.#t,l=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[h,d,p,g]=this.#f();t.push(`L${(l[0]-e)/s} ${(l[1]-n)/o} L${h} ${d} L${p} ${g} L${(c[0]-e)/s} ${(c[1]-n)/o}`)}newFreeDrawOutline(t,e,n,s,o,l){return new jy(t,e,n,s,o,l)}getOutlines(){const t=this.#a,e=this.#e,n=this.#r,[s,o,l,c]=this.#t,h=new Float32Array((this.#p?.length??0)+2);for(let g=0,_=h.length-2;g<_;g+=2)h[g]=(this.#p[g]-s)/l,h[g+1]=(this.#p[g+1]-o)/c;if(h[h.length-2]=(this.#s-s)/l,h[h.length-1]=(this.#o-o)/c,isNaN(n[6])&&!this.isEmpty())return this.#S(h);const d=new Float32Array(this.#a.length+24+this.#e.length);let p=t.length;for(let g=0;g<p;g+=2){if(isNaN(t[g])){d[g]=d[g+1]=NaN;continue}d[g]=t[g],d[g+1]=t[g+1]}p=this.#x(d,p);for(let g=e.length-6;g>=6;g-=6)for(let _=0;_<6;_+=2){if(isNaN(e[g+_])){d[p]=d[p+1]=NaN,p+=2;continue}d[p]=e[g+_],d[p+1]=e[g+_+1],p+=2}return this.#P(d,p),this.newFreeDrawOutline(d,h,this.#t,this.#d,this.#i,this.#n)}#S(t){const e=this.#r,[n,s,o,l]=this.#t,[c,h,d,p]=this.#f(),g=new Float32Array(36);return g.set([NaN,NaN,NaN,NaN,(e[2]-n)/o,(e[3]-s)/l,NaN,NaN,NaN,NaN,(e[4]-n)/o,(e[5]-s)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,(e[16]-n)/o,(e[17]-s)/l,NaN,NaN,NaN,NaN,(e[14]-n)/o,(e[15]-s)/l],0),this.newFreeDrawOutline(g,t,this.#t,this.#d,this.#i,this.#n)}#P(t,e){const n=this.#e;return t.set([NaN,NaN,NaN,NaN,n[4],n[5]],e),e+=6}#x(t,e){const n=this.#r.subarray(4,6),s=this.#r.subarray(16,18),[o,l,c,h]=this.#t,[d,p,g,_]=this.#f();return t.set([NaN,NaN,NaN,NaN,(n[0]-o)/c,(n[1]-l)/h,NaN,NaN,NaN,NaN,d,p,NaN,NaN,NaN,NaN,g,_,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-l)/h],e),e+=24}}class jy extends at{#t;#e=new Float32Array(4);#i;#n;#a;#r;#s;constructor(t,e,n,s,o,l){super(),this.#s=t,this.#a=e,this.#t=n,this.#r=s,this.#i=o,this.#n=l,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(l);const[c,h,d,p]=this.#e;for(let g=0,_=t.length;g<_;g+=2)t[g]=(t[g]-c)/d,t[g+1]=(t[g+1]-h)/p;for(let g=0,_=e.length;g<_;g+=2)e[g]=(e[g]-c)/d,e[g+1]=(e[g+1]-h)/p}toSVGPath(){const t=[`M${this.#s[4]} ${this.#s[5]}`];for(let e=6,n=this.#s.length;e<n;e+=6){if(isNaN(this.#s[e])){t.push(`L${this.#s[e+4]} ${this.#s[e+5]}`);continue}t.push(`C${this.#s[e]} ${this.#s[e+1]} ${this.#s[e+2]} ${this.#s[e+3]} ${this.#s[e+4]} ${this.#s[e+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,e,n,s],o){const l=n-t,c=s-e;let h,d;switch(o){case 0:h=at._rescale(this.#s,t,s,l,-c),d=at._rescale(this.#a,t,s,l,-c);break;case 90:h=at._rescaleAndSwap(this.#s,t,e,l,c),d=at._rescaleAndSwap(this.#a,t,e,l,c);break;case 180:h=at._rescale(this.#s,n,e,-l,c),d=at._rescale(this.#a,n,e,-l,c);break;case 270:h=at._rescaleAndSwap(this.#s,n,s,-l,-c),d=at._rescaleAndSwap(this.#a,n,s,-l,-c);break}return{outline:Array.from(h),points:[Array.from(d)]}}#o(t){const e=this.#s;let n=e[4],s=e[5];const o=[n,s,n,s];let l=n,c=s,h=n,d=s;const p=t?Math.max:Math.min,g=new Float32Array(4);for(let v=6,x=e.length;v<x;v+=6){const w=e[v+4],P=e[v+5];isNaN(e[v])?(ot.pointBoundingBox(w,P,o),c>P?(l=w,c=P):c===P&&(l=p(l,w)),d<P?(h=w,d=P):d===P&&(h=p(h,w))):(g[0]=g[1]=1/0,g[2]=g[3]=-1/0,ot.bezierBoundingBox(n,s,...e.slice(v,v+6),g),ot.rectBoundingBox(g[0],g[1],g[2],g[3],o),c>g[1]?(l=g[0],c=g[1]):c===g[1]&&(l=p(l,g[0])),d<g[3]?(h=g[2],d=g[3]):d===g[3]&&(h=p(h,g[2]))),n=w,s=P}const _=this.#e;_[0]=o[0]-this.#i,_[1]=o[1]-this.#i,_[2]=o[2]-o[0]+2*this.#i,_[3]=o[3]-o[1]+2*this.#i,this.firstPoint=[l,c],this.lastPoint=[h,d]}get box(){return this.#e}newOutliner(t,e,n,s,o,l=0){return new ji(t,e,n,s,o,l)}getNewOutline(t,e){const[n,s,o,l]=this.#e,[c,h,d,p]=this.#t,g=o*d,_=l*p,v=n*d+c,x=s*p+h,w=this.newOutliner({x:this.#a[0]*g+v,y:this.#a[1]*_+x},this.#t,this.#r,t,this.#n,e??this.#i);for(let P=2;P<this.#a.length;P+=2)w.add({x:this.#a[P]*g+v,y:this.#a[P+1]*_+x});return w.getOutlines()}}class nh{#t;#e;#i;#n=[];#a=[];constructor(t,e=0,n=0,s=!0){const o=[1/0,1/0,-1/0,-1/0],l=10**-4;for(const{x:w,y:P,width:A,height:C}of t){const S=Math.floor((w-e)/l)*l,E=Math.ceil((w+A+e)/l)*l,T=Math.floor((P-e)/l)*l,M=Math.ceil((P+C+e)/l)*l,N=[S,T,M,!0],O=[E,T,M,!1];this.#n.push(N,O),ot.rectBoundingBox(S,T,E,M,o)}const c=o[2]-o[0]+2*n,h=o[3]-o[1]+2*n,d=o[0]-n,p=o[1]-n;let g=s?-1/0:1/0,_=1/0;const v=this.#n.at(s?-1:-2),x=[v[0],v[2]];for(const w of this.#n){const[P,A,C,S]=w;!S&&s?A<_?(_=A,g=P):A===_&&(g=Math.max(g,P)):S&&!s&&(A<_?(_=A,g=P):A===_&&(g=Math.min(g,P))),w[0]=(P-d)/c,w[1]=(A-p)/h,w[2]=(C-p)/h}this.#t=new Float32Array([d,p,c,h]),this.#e=[g,_],this.#i=x}getOutlines(){this.#n.sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of this.#n)e[3]?(t.push(...this.#l(e)),this.#o(e)):(this.#c(e),t.push(...this.#l(e)));return this.#r(t)}#r(t){const e=[],n=new Set;for(const l of t){const[c,h,d]=l;e.push([c,h,l],[c,d,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const h=e[l][2],d=e[l+1][2];h.push(d),d.push(h),n.add(h),n.add(d)}const s=[];let o;for(;n.size>0;){const l=n.values().next().value;let[c,h,d,p,g]=l;n.delete(l);let _=c,v=h;for(o=[c,d],s.push(o);;){let x;if(n.has(p))x=p;else if(n.has(g))x=g;else break;n.delete(x),[c,h,d,p,g]=x,_!==c&&(o.push(_,v,c,v===h?h:d),_=c),v=v===h?d:h}o.push(_,v)}return new AA(s,this.#t,this.#e,this.#i)}#s(t){const e=this.#a;let n=0,s=e.length-1;for(;n<=s;){const o=n+s>>1,l=e[o][0];if(l===t)return o;l<t?n=o+1:s=o-1}return s+1}#o([,t,e]){const n=this.#s(t);this.#a.splice(n,0,[t,e])}#c([,t,e]){const n=this.#s(t);for(let s=n;s<this.#a.length;s++){const[o,l]=this.#a[s];if(o!==t)break;if(o===t&&l===e){this.#a.splice(s,1);return}}for(let s=n-1;s>=0;s--){const[o,l]=this.#a[s];if(o!==t)break;if(o===t&&l===e){this.#a.splice(s,1);return}}}#l(t){const[e,n,s]=t,o=[[e,n,s]],l=this.#s(s);for(let c=0;c<l;c++){const[h,d]=this.#a[c];for(let p=0,g=o.length;p<g;p++){const[,_,v]=o[p];if(!(d<=_||v<=h)){if(_>=h){if(v>d)o[p][1]=d;else{if(g===1)return[];o.splice(p,1),p--,g--}continue}o[p][2]=h,v>d&&o.push([e,d,v])}}}return o}}class AA extends at{#t;#e;constructor(t,e,n,s){super(),this.#e=t,this.#t=e,this.firstPoint=n,this.lastPoint=s}toSVGPath(){const t=[];for(const e of this.#e){let[n,s]=e;t.push(`M${n} ${s}`);for(let o=2;o<e.length;o+=2){const l=e[o],c=e[o+1];l===n?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${l}`),n=l)}t.push("Z")}return t.join(" ")}serialize([t,e,n,s],o){const l=[],c=n-t,h=s-e;for(const d of this.#e){const p=new Array(d.length);for(let g=0;g<d.length;g+=2)p[g]=t+d[g]*c,p[g+1]=s-d[g+1]*h;l.push(p)}return l}get box(){return this.#t}get classNamesForOutlining(){return["highlightOutline"]}}class ih extends ji{newFreeDrawOutline(t,e,n,s,o,l){return new SA(t,e,n,s,o,l)}}class SA extends jy{newOutliner(t,e,n,s,o,l=0){return new ih(t,e,n,s,o,l)}}class Jt extends dt{#t=null;#e=0;#i;#n=null;#a=null;#r=null;#s=null;#o=0;#c=null;#l=null;#d=null;#h=!1;#p=null;#m=null;#g=null;#u="";#f;#_="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Pt.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const t=Jt.prototype;return bt(this,"_keyboardManager",new ra([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}constructor(t){super({...t,name:"highlightEditor"}),this.color=t.color||Jt._defaultColor,this.#f=t.thickness||Jt._defaultThickness,this.opacity=t.opacity||Jt._defaultOpacity,this.#i=t.boxes||null,this.#_=t.methodOfCreation||"",this.#u=t.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(this.#h=!0,this.#y(t),this.#w()):this.#i&&(this.#t=t.anchorNode,this.#e=t.anchorOffset,this.#s=t.focusNode,this.#o=t.focusOffset,this.#v(),this.#w(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#f,methodOfCreation:this.#_}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}#v(){const t=new nh(this.#i,.001);this.#l=t.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const e=new nh(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#r=e.getOutlines();const{firstPoint:n}=this.#l;this.#p=[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height];const{lastPoint:s}=this.#r;this.#m=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#y({highlightOutlines:t,highlightId:e,clipPathId:n}){this.#l=t;const s=1.5;if(this.#r=t.getNewOutline(this.#f/2+s,.0025),e>=0)this.#d=e,this.#n=n,this.parent.drawLayer.finalizeDraw(e,{bbox:t.box,path:{d:t.toSVGPath()}}),this.#g=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Jt.#A(this.#l.box,(g-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#g,{bbox:Jt.#A(this.#r.box,g),path:{d:this.#r.toSVGPath()}})}const[o,l,c,h]=t.box;switch(this.rotation){case 0:this.x=o,this.y=l,this.width=c,this.height=h;break;case 90:{const[g,_]=this.parentDimensions;this.x=l,this.y=1-o,this.width=c*_/g,this.height=h*g/_;break}case 180:this.x=1-o,this.y=1-l,this.width=c,this.height=h;break;case 270:{const[g,_]=this.parentDimensions;this.x=1-l,this.y=o,this.width=c*_/g,this.height=h*g/_;break}}const{firstPoint:d}=t;this.#p=[(d[0]-o)/c,(d[1]-l)/h];const{lastPoint:p}=this.#r;this.#m=[(p[0]-o)/c,(p[1]-l)/h]}static initialize(t,e){dt.initialize(t,e),Jt._defaultColor||=e.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(t,e){switch(t){case Ct.HIGHLIGHT_COLOR:Jt._defaultColor=e;break;case Ct.HIGHLIGHT_THICKNESS:Jt._defaultThickness=e;break}}translateInPage(t,e){}get toolbarPosition(){return this.#m}get commentButtonPosition(){return this.#p}updateParams(t,e){switch(t){case Ct.HIGHLIGHT_COLOR:this.#S(e);break;case Ct.HIGHLIGHT_THICKNESS:this.#P(e);break}}static get defaultPropertiesToUpdate(){return[[Ct.HIGHLIGHT_COLOR,Jt._defaultColor],[Ct.HIGHLIGHT_THICKNESS,Jt._defaultThickness]]}get propertiesToUpdate(){return[[Ct.HIGHLIGHT_COLOR,this.color||Jt._defaultColor],[Ct.HIGHLIGHT_THICKNESS,this.#f||Jt._defaultThickness],[Ct.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#S(t){const e=(o,l)=>{this.color=o,this.opacity=l,this.onUpdatedColor()},n=this.color,s=this.opacity;this.addCommands({cmd:e.bind(this,t,Jt._defaultOpacity),undo:e.bind(this,n,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)}#P(t){const e=this.#f,n=s=>{this.#f=s,this.#x(s)};this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,e),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ct.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new an({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#T())}getBaseTranslation(){return[0,0]}getRect(t,e){return super.getRect(t,e,this.#T())}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){this.#k(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#w(),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?this.#k():t&&(this.#w(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),this.show(this._isVisible),e&&this.select()}#x(t){this.#h&&(this.#y({highlightOutlines:this.#l.getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())}#k(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#g),this.#g=null)}#w(t=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=t.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#g=t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([t,e,n,s],o){switch(o){case 90:return[1-e-s,t,s,n];case 180:return[1-t-n,1-e-s,n,s];case 270:return[e,1-t-n,s,n]}return[t,e,n,s]}rotate(t){const{drawLayer:e}=this.parent;let n;this.#h?(t=(t-this.rotation+360)%360,n=Jt.#A(this.#l.box,t)):n=Jt.#A([this.x,this.y,this.width,this.height],t),e.updateProperties(this.#d,{bbox:n,root:{"data-main-rotation":t}}),e.updateProperties(this.#g,{bbox:Jt.#A(this.#r.box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();this.#u&&(t.setAttribute("aria-label",this.#u),t.setAttribute("role","mark")),this.#h?t.classList.add("free"):this.div.addEventListener("keydown",this.#L.bind(this),{signal:this._uiManager._signal});const e=this.#c=document.createElement("div");return t.append(e),e.setAttribute("aria-hidden","true"),e.className="internal",e.style.clipPath=this.#n,this.setDims(),gy(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1}})}#L(t){Jt._keyboardManager.exec(this,t)}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:this.#E(!0);break;case 1:case 3:this.#E(!1);break}}#E(t){if(!this.#t)return;const e=window.getSelection();t?e.setPosition(this.#t,this.#e):e.setPosition(this.#s,this.#o)}select(){super.select(),this.#g&&this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#g&&(this.parent?.drawLayer.updateProperties(this.#g,{rootClass:{selected:!1}}),this.#h||this.#E(!1))}get _mustFixPosition(){return!this.#h}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(this.#g,{rootClass:{hidden:!t}}))}#T(){return this.#h?this.rotation:0}#O(){if(this.#h)return null;const[t,e]=this.pageDimensions,[n,s]=this.pageTranslation,o=this.#i,l=new Float32Array(o.length*8);let c=0;for(const{x:h,y:d,width:p,height:g}of o){const _=h*t+n,v=(1-d)*e+s;l[c]=l[c+4]=_,l[c+1]=l[c+3]=v,l[c+2]=l[c+6]=_+p*t,l[c+5]=l[c+7]=v-g*e,c+=8}return l}#I(t){return this.#l.serialize(t,this.#T())}static startHighlighting(t,e,{target:n,x:s,y:o}){const{x:l,y:c,width:h,height:d}=n.getBoundingClientRect(),p=new AbortController,g=t.combinedSignal(p),_=v=>{p.abort(),this.#B(t,v)};window.addEventListener("blur",_,{signal:g}),window.addEventListener("pointerup",_,{signal:g}),window.addEventListener("pointerdown",Xt,{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",on,{signal:g}),n.addEventListener("pointermove",this.#R.bind(this,t),{signal:g}),this._freeHighlight=new ih({x:s,y:o},[l,c,h,d],t.scale,this._defaultThickness/2,e,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#R(t,e){this._freeHighlight.add(e)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(t,e){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(t,e,n){let s=null;if(t instanceof Oy){const{data:{quadPoints:x,rect:w,rotation:P,id:A,color:C,opacity:S,popupRef:E,richText:T,contentsObj:M,creationDate:N,modificationDate:O},parent:{page:{pageNumber:V}}}=t;s=t={annotationType:Pt.HIGHLIGHT,color:Array.from(C),opacity:S,quadPoints:x,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:P,annotationElementId:A,id:A,deleted:!1,popupRef:E,richText:T,comment:M?.str||null,creationDate:N,modificationDate:O}}else if(t instanceof Vh){const{data:{inkLists:x,rect:w,rotation:P,id:A,color:C,borderStyle:{rawWidth:S},popupRef:E,richText:T,contentsObj:M,creationDate:N,modificationDate:O},parent:{page:{pageNumber:V}}}=t;s=t={annotationType:Pt.HIGHLIGHT,color:Array.from(C),thickness:S,inkLists:x,boxes:null,pageIndex:V-1,rect:w.slice(0),rotation:P,annotationElementId:A,id:A,deleted:!1,popupRef:E,richText:T,comment:M?.str||null,creationDate:N,modificationDate:O}}const{color:o,quadPoints:l,inkLists:c,opacity:h}=t,d=await super.deserialize(t,e,n);d.color=ot.makeHexColor(...o),d.opacity=h||1,c&&(d.#f=t.thickness),d._initialData=s,t.comment&&d.setCommentData(t);const[p,g]=d.pageDimensions,[_,v]=d.pageTranslation;if(l){const x=d.#i=[];for(let w=0;w<l.length;w+=8)x.push({x:(l[w]-_)/p,y:1-(l[w+1]-v)/g,width:(l[w+2]-l[w])/p,height:(l[w+1]-l[w+5])/g});d.#v(),d.#w(),d.rotate(d.rotation)}else if(c){d.#h=!0;const x=c[0],w={x:x[0]-_,y:g-(x[1]-v)},P=new ih(w,[0,0,p,g],1,d.#f/2,!0,.001);for(let S=0,E=x.length;S<E;S+=2)w.x=x[S]-_,w.y=g-(x[S+1]-v),P.add(w);const{id:A,clipPathId:C}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);d.#y({highlightOutlines:P.getOutlines(),highlightId:A,clipPathId:C}),d.#w(),d.rotate(d.parentRotation)}return d}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const e=dt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),n=super.serialize(t);return Object.assign(n,{color:e,opacity:this.opacity,thickness:this.#f,quadPoints:this.#O(),outlines:this.#I(n.rect)}),this.addComment(n),this.annotationElementId&&!this.#N(n)?null:(n.id=this.annotationElementId,n)}#N(t){const{color:e}=this._initialData;return this.hasEditedComment||t.color.some((n,s)=>n!==e[s])}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class zy{#t=Object.create(null);updateProperty(t,e){this[t]=e,this.updateSVGProperty(t,e)}updateProperties(t){if(t)for(const[e,n]of Object.entries(t))e.startsWith("_")||this.updateProperty(e,n)}updateSVGProperty(t,e){this.#t[t]=e}toSVGProperties(){const t=this.#t;return this.#t=Object.create(null),{root:t}}reset(){this.#t=Object.create(null)}updateAll(t=this){this.updateProperties(t)}clone(){Nt("Not implemented")}}class Mt extends dt{#t=null;#e;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(t){super(t),this.#e=t.mustBeCommitted||!1,this._addOutlines(t)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(this.#r(t),this.#c())}#r({drawOutlines:t,drawId:e,drawingOptions:n}){this.#t=t,this._drawingOptions||=n,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),e>=0?(this._drawId=e,this.parent.drawLayer.finalizeDraw(e,t.defaultProperties)):this._drawId=this.#s(t,this.parent),this.#h(t.box)}#s(t,e){const{id:n}=e.drawLayer.draw(Mt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return n}static _mergeSVGProperties(t,e){const n=new Set(Object.keys(t));for(const[s,o]of Object.entries(e))n.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){Nt("Not implemented")}static get typesMap(){Nt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,e){const n=this.typesMap.get(t);n&&this._defaultDrawingOptions.updateProperty(n,e),this._currentParent&&(Mt.#i.updateProperty(n,e),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,e){const n=this.constructor.typesMap.get(t);n&&this._updateProperty(t,n,e)}static get defaultPropertiesToUpdate(){const t=[],e=this._defaultDrawingOptions;for(const[n,s]of this.typesMap)t.push([n,e[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:e}=this;for(const[n,s]of this.constructor.typesMap)t.push([n,e[s]]);return t}_updateProperty(t,e,n){const s=this._drawingOptions,o=s[e],l=c=>{s.updateProperty(e,c);const h=this.#t.updateProperty(e,c);h&&this.#h(h),this.parent?.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:l.bind(this,n),undo:l.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(this.#t.getPathResizingSVGProperties(this.#d()),{bbox:this.#p()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(this.#t.getPathResizedSVGProperties(this.#d()),{bbox:this.#p()}))}_onTranslating(t,e){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#p()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties(this.#t.getPathTranslatedSVGProperties(this.#d(),this.parentDimensions),{bbox:this.#p()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#e&&(this.#e=!1,this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#h(this.#t.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){let e=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),this.#o()):t&&(this._uiManager.addShouldRescale(this),this.#c(t),e=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(t),e&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#s(this.#t,t)}}#l([t,e,n,s]){const{parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[e,1-t,n*(l/o),s*(o/l)];case 180:return[1-t,1-e,n,s];case 270:return[1-e,t,n*(l/o),s*(o/l)];default:return[t,e,n,s]}}#d(){const{x:t,y:e,width:n,height:s,parentDimensions:[o,l],rotation:c}=this;switch(c){case 90:return[1-e,t,n*(o/l),s*(l/o)];case 180:return[1-t,1-e,n,s];case 270:return[e,1-t,n*(o/l),s*(l/o)];default:return[t,e,n,s]}}#h(t){[this.x,this.y,this.width,this.height]=this.#l(t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#p(){const{x:t,y:e,width:n,height:s,rotation:o,parentRotation:l,parentDimensions:[c,h]}=this;switch((o*4+l)/90){case 1:return[1-e-s,t,s,n];case 2:return[1-t-n,1-e-s,n,s];case 3:return[e,1-t-n,s,n];case 4:return[t,e-n*(c/h),s*(h/c),n*(c/h)];case 5:return[1-e,t,n*(c/h),s*(h/c)];case 6:return[1-t-s*(h/c),1-e,s*(h/c),n*(c/h)];case 7:return[e-n*(c/h),1-t-s*(h/c),n*(c/h),s*(h/c)];case 8:return[t-n,e-s,n,s];case 9:return[1-e,t-n,s,n];case 10:return[1-t,1-e,n,s];case 11:return[e-s,1-t,s,n];case 12:return[t-s*(h/c),e,s*(h/c),n*(c/h)];case 13:return[1-e-n*(c/h),t-s*(h/c),n*(c/h),s*(h/c)];case 14:return[1-t,1-e-n*(c/h),s*(h/c),n*(c/h)];case 15:return[e,1-t,n*(c/h),s*(h/c)];default:return[t,e,n,s]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Mt._mergeSVGProperties({bbox:this.#p()},this.#t.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#h(this.#t.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,e;this._isCopy&&(t=this.x,e=this.y);const n=super.render();n.classList.add("draw");const s=document.createElement("div");return n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,e),n}static createDrawerInstance(t,e,n,s,o){Nt("Not implemented")}static startDrawing(t,e,n,s){const{target:o,offsetX:l,offsetY:c,pointerId:h,pointerType:d}=s;if(It.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:p}}=t,{width:g,height:_}=o.getBoundingClientRect(),v=Mt.#n=new AbortController,x=t.combinedSignal(v);if(It.setPointer(d,h),window.addEventListener("pointerup",w=>{It.isSamePointerIdOrRemove(w.pointerId)&&this._endDraw(w)},{signal:x}),window.addEventListener("pointercancel",w=>{It.isSamePointerIdOrRemove(w.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",w=>{It.isSamePointerType(w.pointerType)&&(It.initializeAndAddPointerId(w.pointerId),Mt.#i.isCancellable()&&(Mt.#i.removeLastElement(),Mt.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",on,{signal:x}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),o.addEventListener("touchmove",w=>{It.isSameTimeStamp(w.timeStamp)&&Xt(w)},{signal:x}),t.toggleDrawing(),e._editorUndoBar?.hide(),Mt.#i){t.drawLayer.updateProperties(this._currentDrawId,Mt.#i.startNew(l,c,g,_,p));return}e.updateUIForDefaultProperties(this),Mt.#i=this.createDrawerInstance(l,c,g,_,p),Mt.#a=this.getDefaultDrawingOptions(),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(Mt.#a.toSVGProperties(),Mt.#i.defaultSVGProperties),!0,!1)}static _drawMove(t){if(It.isSameTimeStamp(t.timeStamp),!Mt.#i)return;const{offsetX:e,offsetY:n,pointerId:s}=t;if(It.isSamePointerId(s)){if(It.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Mt.#i.add(e,n)),It.setTimeStamp(t.timeStamp),Xt(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,Mt.#i=null,Mt.#a=null,It.clearPointerType(),It.clearTimeStamp()),Mt.#n&&(Mt.#n.abort(),Mt.#n=null,It.clearPointerIds())}static _endDraw(t){const e=this._currentParent;if(e){if(e.toggleDrawing(!0),this._cleanup(!1),t?.target===e.div&&e.drawLayer.updateProperties(this._currentDrawId,Mt.#i.end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const n=Mt.#i,s=this._currentDrawId,o=n.getLastElement();e.addCommands({cmd:()=>{e.drawLayer.updateProperties(s,n.setLastElement(o))},undo:()=>{e.drawLayer.updateProperties(s,n.removeLastElement())},mustExec:!1,type:Ct.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const e=this._currentParent;if(!e)return null;if(e.toggleDrawing(!0),e.cleanUndoStack(Ct.DRAW_STEP),!Mt.#i.isEmpty()){const{pageDimensions:[n,s],scale:o}=e,l=e.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Mt.#i.getOutlines(n*o,s*o,o,this._INNER_MARGIN),drawingOptions:Mt.#a,mustBeCommitted:!t});return this._cleanup(!0),l}return e.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,e,n,s,o,l){Nt("Not implemented")}static async deserialize(t,e,n){const{rawDims:{pageWidth:s,pageHeight:o,pageX:l,pageY:c}}=e.viewport,h=this.deserializeDraw(l,c,s,o,this._INNER_MARGIN,t),d=await super.deserialize(t,e,n);return d.createDrawingOptions(t),d.#r({drawOutlines:h}),d.#c(),d.onScaleChanging(),d.rotate(),d}serializeDraw(t){const[e,n]=this.pageTranslation,[s,o]=this.pageDimensions;return this.#t.serialize([e,n,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class CA{#t=new Float64Array(6);#e;#i;#n;#a;#r;#s="";#o=0;#c=new oa;#l;#d;constructor(t,e,n,s,o,l){this.#l=n,this.#d=s,this.#n=o,this.#a=l,[t,e]=this.#h(t,e);const c=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e],this.#i=[{line:c,points:this.#r}],this.#t.set(c,0)}updateProperty(t,e){t==="stroke-width"&&(this.#a=e)}#h(t,e){return at._normalizePoint(t,e,this.#l,this.#d,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#r.length<=10}add(t,e){[t,e]=this.#h(t,e);const[n,s,o,l]=this.#t.subarray(2,6),c=t-o,h=e-l;return Math.hypot(this.#l*c,this.#d*h)<=2?null:(this.#r.push(t,e),isNaN(n)?(this.#t.set([o,l,t,e],2),this.#e.push(NaN,NaN,NaN,NaN,t,e),{path:{d:this.toSVGPath()}}):(isNaN(this.#t[0])&&this.#e.splice(6,6),this.#t.set([n,s,o,l,t,e],0),this.#e.push(...at.createBezierPoints(n,s,o,l,t,e)),{path:{d:this.toSVGPath()}}))}end(t,e){const n=this.add(t,e);return n||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,e,n,s,o){this.#l=n,this.#d=s,this.#n=o,[t,e]=this.#h(t,e);const l=this.#e=[NaN,NaN,NaN,NaN,t,e];this.#r=[t,e];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:l,points:this.#r}),this.#t.set(l,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(t){return this.#i?(this.#i.push(t),this.#e=t.line,this.#r=t.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(t)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#s="";for(let t=0,e=this.#i.length;t<e;t++){const{line:n,points:s}=this.#i[t];this.#e=n,this.#r=s,this.#o=0,this.toSVGPath()}return{path:{d:this.#s}}}toSVGPath(){const t=at.svgRound(this.#e[4]),e=at.svgRound(this.#e[5]);if(this.#r.length===2)return this.#s=`${this.#s} M ${t} ${e} Z`,this.#s;if(this.#r.length<=6){const s=this.#s.lastIndexOf("M");this.#s=`${this.#s.slice(0,s)} M ${t} ${e}`,this.#o=6}if(this.#r.length===4){const s=at.svgRound(this.#e[10]),o=at.svgRound(this.#e[11]);return this.#s=`${this.#s} L ${s} ${o}`,this.#o=12,this.#s}const n=[];this.#o===0&&(n.push(`M ${t} ${e}`),this.#o=6);for(let s=this.#o,o=this.#e.length;s<o;s+=6){const[l,c,h,d,p,g]=this.#e.slice(s,s+6).map(at.svgRound);n.push(`C${l} ${c} ${h} ${d} ${p} ${g}`)}return this.#s+=n.join(" "),this.#o=this.#e.length,this.#s}getOutlines(t,e,n,s){const o=this.#i.at(-1);return o.line=new Float32Array(o.line),o.points=new Float32Array(o.points),this.#c.build(this.#i,t,e,n,this.#n,this.#a,s),this.#t=null,this.#e=null,this.#i=null,this.#s=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class oa extends at{#t;#e=0;#i;#n;#a;#r;#s;#o;#c;build(t,e,n,s,o,l,c){this.#a=e,this.#r=n,this.#s=s,this.#o=o,this.#c=l,this.#i=c??0,this.#n=t,this.#h()}get thickness(){return this.#c}setLastElement(t){return this.#n.push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:e}of this.#n){if(t.push(`M${at.svgRound(e[4])} ${at.svgRound(e[5])}`),e.length===6){t.push("Z");continue}if(e.length===12&&isNaN(e[6])){t.push(`L${at.svgRound(e[10])} ${at.svgRound(e[11])}`);continue}for(let n=6,s=e.length;n<s;n+=6){const[o,l,c,h,d,p]=e.subarray(n,n+6).map(at.svgRound);t.push(`C${o} ${l} ${c} ${h} ${d} ${p}`)}}return t.join("")}serialize([t,e,n,s],o){const l=[],c=[],[h,d,p,g]=this.#d();let _,v,x,w,P,A,C,S,E;switch(this.#o){case 0:E=at._rescale,_=t,v=e+s,x=n,w=-s,P=t+h*n,A=e+(1-d-g)*s,C=t+(h+p)*n,S=e+(1-d)*s;break;case 90:E=at._rescaleAndSwap,_=t,v=e,x=n,w=s,P=t+d*n,A=e+h*s,C=t+(d+g)*n,S=e+(h+p)*s;break;case 180:E=at._rescale,_=t+n,v=e,x=-n,w=s,P=t+(1-h-p)*n,A=e+d*s,C=t+(1-h)*n,S=e+(d+g)*s;break;case 270:E=at._rescaleAndSwap,_=t+n,v=e+s,x=-n,w=-s,P=t+(1-d-g)*n,A=e+(1-h-p)*s,C=t+(1-d)*n,S=e+(1-h)*s;break}for(const{line:T,points:M}of this.#n)l.push(E(T,_,v,x,w,o?new Array(T.length):null)),c.push(E(M,_,v,x,w,o?new Array(M.length):null));return{lines:l,points:c,rect:[P,A,C,S]}}static deserialize(t,e,n,s,o,{paths:{lines:l,points:c},rotation:h,thickness:d}){const p=[];let g,_,v,x,w;switch(h){case 0:w=at._rescale,g=-t/n,_=e/s+1,v=1/n,x=-1/s;break;case 90:w=at._rescaleAndSwap,g=-e/s,_=-t/n,v=1/s,x=1/n;break;case 180:w=at._rescale,g=t/n+1,_=-e/s,v=-1/n,x=1/s;break;case 270:w=at._rescaleAndSwap,g=e/s+1,_=t/n+1,v=-1/s,x=-1/n;break}if(!l){l=[];for(const A of c){const C=A.length;if(C===2){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1]]));continue}if(C===4){l.push(new Float32Array([NaN,NaN,NaN,NaN,A[0],A[1],NaN,NaN,NaN,NaN,A[2],A[3]]));continue}const S=new Float32Array(3*(C-2));l.push(S);let[E,T,M,N]=A.subarray(0,4);S.set([NaN,NaN,NaN,NaN,E,T],0);for(let O=4;O<C;O+=2){const V=A[O],Y=A[O+1];S.set(at.createBezierPoints(E,T,M,N,V,Y),(O-2)*3),[E,T,M,N]=[M,N,V,Y]}}}for(let A=0,C=l.length;A<C;A++)p.push({line:w(l[A].map(S=>S??NaN),g,_,v,x),points:w(c[A].map(S=>S??NaN),g,_,v,x)});const P=new this.prototype.constructor;return P.build(p,n,s,1,h,d,o),P}#l(t=this.#c){const e=this.#i+t/2*this.#s;return this.#o%180===0?[e/this.#a,e/this.#r]:[e/this.#r,e/this.#a]}#d(){const[t,e,n,s]=this.#t,[o,l]=this.#l(0);return[t+o,e+l,n-2*o,s-2*l]}#h(){const t=this.#t=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:s}of this.#n){if(s.length<=12){for(let c=4,h=s.length;c<h;c+=6)ot.pointBoundingBox(s[c],s[c+1],t);continue}let o=s[4],l=s[5];for(let c=6,h=s.length;c<h;c+=6){const[d,p,g,_,v,x]=s.subarray(c,c+6);ot.bezierBoundingBox(o,l,d,p,g,_,v,x,t),o=v,l=x}}const[e,n]=this.#l();t[0]=Le(t[0]-e,0,1),t[1]=Le(t[1]-n,0,1),t[2]=Le(t[2]+e,0,1),t[3]=Le(t[3]+n,0,1),t[2]-=t[0],t[3]-=t[1]}get box(){return this.#t}updateProperty(t,e){return t==="stroke-width"?this.#p(e):null}#p(t){const[e,n]=this.#l();this.#c=t;const[s,o]=this.#l(),[l,c]=[s-e,o-n],h=this.#t;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateParentDimensions([t,e],n){const[s,o]=this.#l();this.#a=t,this.#r=e,this.#s=n;const[l,c]=this.#l(),h=l-s,d=c-o,p=this.#t;return p[0]-=h,p[1]-=d,p[2]+=2*h,p[3]+=2*d,p}updateRotation(t){return this.#e=t,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#t.map(at.svgRound).join(" ")}get defaultProperties(){const[t,e]=this.#t;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(t)} ${at.svgRound(e)}`}}}get rotationTransform(){const[,,t,e]=this.#t;let n=0,s=0,o=0,l=0,c=0,h=0;switch(this.#e){case 90:s=e/t,o=-t/e,c=t;break;case 180:n=-1,l=-1,c=t,h=e;break;case 270:s=-e/t,o=t/e,h=e;break;default:return""}return`matrix(${n} ${s} ${o} ${l} ${at.svgRound(c)} ${at.svgRound(h)})`}getPathResizingSVGProperties([t,e,n,s]){const[o,l]=this.#l(),[c,h,d,p]=this.#t;if(Math.abs(d-o)<=at.PRECISION||Math.abs(p-l)<=at.PRECISION){const w=t+n/2-(c+d/2),P=e+s/2-(h+p/2);return{path:{"transform-origin":`${at.svgRound(t)} ${at.svgRound(e)}`,transform:`${this.rotationTransform} translate(${w} ${P})`}}}const g=(n-2*o)/(d-2*o),_=(s-2*l)/(p-2*l),v=d/n,x=p/s;return{path:{"transform-origin":`${at.svgRound(c)} ${at.svgRound(h)}`,transform:`${this.rotationTransform} scale(${v} ${x}) translate(${at.svgRound(o)} ${at.svgRound(l)}) scale(${g} ${_}) translate(${at.svgRound(-o)} ${at.svgRound(-l)})`}}}getPathResizedSVGProperties([t,e,n,s]){const[o,l]=this.#l(),c=this.#t,[h,d,p,g]=c;if(c[0]=t,c[1]=e,c[2]=n,c[3]=s,Math.abs(p-o)<=at.PRECISION||Math.abs(g-l)<=at.PRECISION){const P=t+n/2-(h+p/2),A=e+s/2-(d+g/2);for(const{line:C,points:S}of this.#n)at._translate(C,P,A,C),at._translate(S,P,A,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(t)} ${at.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const _=(n-2*o)/(p-2*o),v=(s-2*l)/(g-2*l),x=-_*(h+o)+t+o,w=-v*(d+l)+e+l;if(_!==1||v!==1||x!==0||w!==0)for(const{line:P,points:A}of this.#n)at._rescale(P,x,w,_,v,P),at._rescale(A,x,w,_,v,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${at.svgRound(t)} ${at.svgRound(e)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,e],n){const[s,o]=n,l=this.#t,c=t-l[0],h=e-l[1];if(this.#a===s&&this.#r===o)for(const{line:d,points:p}of this.#n)at._translate(d,c,h,d),at._translate(p,c,h,p);else{const d=this.#a/s,p=this.#r/o;this.#a=s,this.#r=o;for(const{line:g,points:_}of this.#n)at._rescale(g,c,h,d,p,g),at._rescale(_,c,h,d,p,_);l[2]*=d,l[3]*=p}return l[0]=t,l[1]=e,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(t)} ${at.svgRound(e)}`}}}get defaultSVGProperties(){const t=this.#t;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${at.svgRound(t[0])} ${at.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}class ul extends zy{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:dt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,e){t==="stroke-width"&&(e??=this["stroke-width"],e*=this._viewParameters.realScale),super.updateSVGProperty(t,e)}clone(){const t=new ul(this._viewParameters);return t.updateAll(this),t}}class Uh extends Mt{static _type="ink";static _editorType=Pt.INK;static _defaultDrawingOptions=null;constructor(t){super({...t,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,e){dt.initialize(t,e),this._defaultDrawingOptions=new ul(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!0}static get typesMap(){return bt(this,"typesMap",new Map([[Ct.INK_THICKNESS,"stroke-width"],[Ct.INK_COLOR,"stroke"],[Ct.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,e,n,s,o){return new CA(t,e,n,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,e,n,s,o,l){return oa.deserialize(t,e,n,s,o,l)}static async deserialize(t,e,n){let s=null;if(t instanceof Vh){const{data:{inkLists:l,rect:c,rotation:h,id:d,color:p,opacity:g,borderStyle:{rawWidth:_},popupRef:v,richText:x,contentsObj:w,creationDate:P,modificationDate:A},parent:{page:{pageNumber:C}}}=t;s=t={annotationType:Pt.INK,color:Array.from(p),thickness:_,opacity:g,paths:{points:l},boxes:null,pageIndex:C-1,rect:c.slice(0),rotation:h,annotationElementId:d,id:d,deleted:!1,popupRef:v,richText:x,comment:w?.str||null,creationDate:P,modificationDate:A}}const o=await super.deserialize(t,e,n);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||=new Yr(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ct.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:e,parent:n}=this;e.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(t,e.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:e,opacity:n}){this._drawingOptions=Uh.getDefaultDrawingOptions({stroke:ot.makeHexColor(...t),"stroke-width":e,"stroke-opacity":n})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":l}}=this,c=Object.assign(super.serialize(t),{color:dt._colorManager.convert(s),opacity:o,thickness:l,paths:{lines:e,points:n}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!this.#t(c)?null:(c.id=this.annotationElementId,c)}#t(t){const{color:e,thickness:n,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((l,c)=>l!==e[c])||t.thickness!==n||t.opacity!==s||t.pageIndex!==o}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:e,rect:n}=this.serializeDraw(!1);return t.updateEdited({rect:n,thickness:this._drawingOptions["stroke-width"],points:e,popup:this.comment}),null}}class sh extends oa{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const Lo=8,Dr=3;class As{static#t={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#e(t,e,n,s){return n-=t,s-=e,n===0?s>0?0:4:n===1?s+6:2-s}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(t,e,n,s,o,l,c){const h=this.#e(n,s,o,l);for(let d=0;d<8;d++){const p=(-d+h-c+16)%8,g=this.#i[2*p],_=this.#i[2*p+1];if(t[(n+g)*e+(s+_)]!==0)return p}return-1}static#a(t,e,n,s,o,l,c){const h=this.#e(n,s,o,l);for(let d=0;d<8;d++){const p=(d+h+c+16)%8,g=this.#i[2*p],_=this.#i[2*p+1];if(t[(n+g)*e+(s+_)]!==0)return p}return-1}static#r(t,e,n,s){const o=t.length,l=new Int32Array(o);for(let p=0;p<o;p++)l[p]=t[p]<=s?1:0;for(let p=1;p<n-1;p++)l[p*e]=l[p*e+e-1]=0;for(let p=0;p<e;p++)l[p]=l[e*n-1-p]=0;let c=1,h;const d=[];for(let p=1;p<n-1;p++){h=1;for(let g=1;g<e-1;g++){const _=p*e+g,v=l[_];if(v===0)continue;let x=p,w=g;if(v===1&&l[_-1]===0)c+=1,w-=1;else if(v>=1&&l[_+1]===0)c+=1,w+=1,v>1&&(h=v);else{v!==1&&(h=Math.abs(v));continue}const P=[g,p],A=w===g+1,C={isHole:A,points:P,id:c,parent:0};d.push(C);let S;for(const tt of d)if(tt.id===h){S=tt;break}S?S.isHole?C.parent=A?S.parent:h:C.parent=A?h:S.parent:C.parent=A?h:0;const E=this.#n(l,e,p,g,x,w,0);if(E===-1){l[_]=-c,l[_]!==1&&(h=Math.abs(l[_]));continue}let T=this.#i[2*E],M=this.#i[2*E+1];const N=p+T,O=g+M;x=N,w=O;let V=p,Y=g;for(;;){const tt=this.#a(l,e,V,Y,x,w,1);T=this.#i[2*tt],M=this.#i[2*tt+1];const ht=V+T,H=Y+M;P.push(H,ht);const Q=V*e+Y;if(l[Q+1]===0?l[Q]=-c:l[Q]===1&&(l[Q]=c),ht===p&&H===g&&V===N&&Y===O){l[_]!==1&&(h=Math.abs(l[_]));break}else x=V,w=Y,V=ht,Y=H}}}return d}static#s(t,e,n,s){if(n-e<=4){for(let N=e;N<n-2;N+=2)s.push(t[N],t[N+1]);return}const o=t[e],l=t[e+1],c=t[n-4]-o,h=t[n-3]-l,d=Math.hypot(c,h),p=c/d,g=h/d,_=p*l-g*o,v=h/c,x=1/d,w=Math.atan(v),P=Math.cos(w),A=Math.sin(w),C=x*(Math.abs(P)+Math.abs(A)),S=x*(1-C+C**2),E=Math.max(Math.atan(Math.abs(A+P)*S),Math.atan(Math.abs(A-P)*S));let T=0,M=e;for(let N=e+2;N<n-2;N+=2){const O=Math.abs(_-p*t[N+1]+g*t[N]);O>T&&(M=N,T=O)}T>(d*E)**2?(this.#s(t,e,M+2,s),this.#s(t,M,n,s)):s.push(o,l)}static#o(t){const e=[],n=t.length;return this.#s(t,0,n,e),e.push(t[n-2],t[n-1]),e.length<=4?null:e}static#c(t,e,n,s,o,l){const c=new Float32Array(l**2),h=-2*s**2,d=l>>1;for(let w=0;w<l;w++){const P=(w-d)**2;for(let A=0;A<l;A++)c[w*l+A]=Math.exp((P+(A-d)**2)/h)}const p=new Float32Array(256),g=-2*o**2;for(let w=0;w<256;w++)p[w]=Math.exp(w**2/g);const _=t.length,v=new Uint8Array(_),x=new Uint32Array(256);for(let w=0;w<n;w++)for(let P=0;P<e;P++){const A=w*e+P,C=t[A];let S=0,E=0;for(let M=0;M<l;M++){const N=w+M-d;if(!(N<0||N>=n))for(let O=0;O<l;O++){const V=P+O-d;if(V<0||V>=e)continue;const Y=t[N*e+V],tt=c[M*l+O]*p[Math.abs(Y-C)];S+=Y*tt,E+=tt}}const T=v[A]=Math.round(S/E);x[T]++}return[v,x]}static#l(t){const e=new Uint32Array(256);for(const n of t)e[n]++;return e}static#d(t){const e=t.length,n=new Uint8ClampedArray(e>>2);let s=-1/0,o=1/0;for(let c=0,h=n.length;c<h;c++){const d=n[c]=t[c<<2];s=Math.max(s,d),o=Math.min(o,d)}const l=255/(s-o);for(let c=0,h=n.length;c<h;c++)n[c]=(n[c]-o)*l;return n}static#h(t){let e,n=-1/0,s=-1/0;const o=t.findIndex(h=>h!==0);let l=o,c=o;for(e=o;e<256;e++){const h=t[e];h>n&&(e-l>s&&(s=e-l,c=e-1),n=h,l=e)}for(e=c-1;e>=0&&!(t[e]>t[e+1]);e--);return e}static#p(t){const e=t,{width:n,height:s}=t,{maxDim:o}=this.#t;let l=n,c=s;if(n>o||s>o){let _=n,v=s,x=Math.log2(Math.max(n,s)/o);const w=Math.floor(x);x=x===w?w-1:w;for(let A=0;A<x;A++){l=Math.ceil(_/2),c=Math.ceil(v/2);const C=new OffscreenCanvas(l,c);C.getContext("2d").drawImage(t,0,0,_,v,0,0,l,c),_=l,v=c,t!==e&&t.close(),t=C.transferToImageBitmap()}const P=Math.min(o/l,o/c);l=Math.round(l*P),c=Math.round(c*P)}const d=new OffscreenCanvas(l,c).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,l,c),d.filter="grayscale(1)",d.drawImage(t,0,0,t.width,t.height,0,0,l,c);const p=d.getImageData(0,0,l,c).data;return[this.#d(p),l,c]}static extractContoursFromText(t,{fontFamily:e,fontStyle:n,fontWeight:s},o,l,c,h){let d=new OffscreenCanvas(1,1),p=d.getContext("2d",{alpha:!1});const g=200,_=p.font=`${n} ${s} ${g}px ${e}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:x,actualBoundingBoxAscent:w,actualBoundingBoxDescent:P,fontBoundingBoxAscent:A,fontBoundingBoxDescent:C,width:S}=p.measureText(t),E=1.5,T=Math.ceil(Math.max(Math.abs(v)+Math.abs(x)||0,S)*E),M=Math.ceil(Math.max(Math.abs(w)+Math.abs(P)||g,Math.abs(A)+Math.abs(C)||g)*E);d=new OffscreenCanvas(T,M),p=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=_,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,T,M),p.fillStyle="black",p.fillText(t,T*(E-1)/2,M*(3-E)/2);const N=this.#d(p.getImageData(0,0,T,M).data),O=this.#l(N),V=this.#h(O),Y=this.#r(N,T,M,V);return this.processDrawnLines({lines:{curves:Y,width:T,height:M},pageWidth:o,pageHeight:l,rotation:c,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(t,e,n,s,o){const[l,c,h]=this.#p(t),[d,p]=this.#c(l,c,h,Math.hypot(c,h)*this.#t.sigmaSFactor,this.#t.sigmaR,this.#t.kernelSize),g=this.#h(p),_=this.#r(d,c,h,g);return this.processDrawnLines({lines:{curves:_,width:c,height:h},pageWidth:e,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:o,mustSmooth:l,areContours:c}){s%180!==0&&([e,n]=[n,e]);const{curves:h,width:d,height:p}=t,g=t.thickness??0,_=[],v=Math.min(e/d,n/p),x=v/e,w=v/n,P=[];for(const{points:C}of h){const S=l?this.#o(C):C;if(!S)continue;P.push(S);const E=S.length,T=new Float32Array(E),M=new Float32Array(3*(E===2?2:E-2));if(_.push({line:M,points:T}),E===2){T[0]=S[0]*x,T[1]=S[1]*w,M.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[N,O,V,Y]=S;N*=x,O*=w,V*=x,Y*=w,T.set([N,O,V,Y],0),M.set([NaN,NaN,NaN,NaN,N,O],0);for(let tt=4;tt<E;tt+=2){const ht=T[tt]=S[tt]*x,H=T[tt+1]=S[tt+1]*w;M.set(at.createBezierPoints(N,O,V,Y,ht,H),(tt-2)*3),[N,O,V,Y]=[V,Y,ht,H]}}if(_.length===0)return null;const A=c?new sh:new oa;return A.build(_,e,n,1,s,c?0:g,o),{outline:A,newCurves:P,areContours:c,thickness:g,width:d,height:p}}static async compressSignature({outlines:t,areContours:e,thickness:n,width:s,height:o}){let l=1/0,c=-1/0,h=0;for(const S of t){h+=S.length;for(let E=2,T=S.length;E<T;E++){const M=S[E]-S[E-2];l=Math.min(l,M),c=Math.max(c,M)}}let d;l>=-128&&c<=127?d=Int8Array:l>=-32768&&c<=32767?d=Int16Array:d=Int32Array;const p=t.length,g=Lo+Dr*p,_=new Uint32Array(g);let v=0;_[v++]=g*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*d.BYTES_PER_ELEMENT,_[v++]=0,_[v++]=s,_[v++]=o,_[v++]=e?0:1,_[v++]=Math.max(0,Math.floor(n??0)),_[v++]=p,_[v++]=d.BYTES_PER_ELEMENT;for(const S of t)_[v++]=S.length-2,_[v++]=S[0],_[v++]=S[1];const x=new CompressionStream("deflate-raw"),w=x.writable.getWriter();await w.ready,w.write(_);const P=d.prototype.constructor;for(const S of t){const E=new P(S.length-2);for(let T=2,M=S.length;T<M;T++)E[T-2]=S[T]-S[T-2];w.write(E)}w.close();const A=await new Response(x.readable).arrayBuffer(),C=new Uint8Array(A);return hy(C)}static async decompressSignature(t){try{const e=Hb(t),{readable:n,writable:s}=new DecompressionStream("deflate-raw"),o=s.getWriter();await o.ready,o.write(e).then(async()=>{await o.ready,await o.close()}).catch(()=>{});let l=null,c=0;for await(const S of n)l||=new Uint8Array(new Uint32Array(S.buffer,0,4)[0]),l.set(S,c),c+=S.length;const h=new Uint32Array(l.buffer,0,l.length>>2),d=h[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const p=h[2],g=h[3],_=h[4]===0,v=h[5],x=h[6],w=h[7],P=[],A=(Lo+Dr*x)*Uint32Array.BYTES_PER_ELEMENT;let C;switch(w){case Int8Array.BYTES_PER_ELEMENT:C=new Int8Array(l.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:C=new Int16Array(l.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:C=new Int32Array(l.buffer,A);break}c=0;for(let S=0;S<x;S++){const E=h[Dr*S+Lo],T=new Float32Array(E+2);P.push(T);for(let M=0;M<Dr-1;M++)T[M]=h[Dr*S+Lo+M+1];for(let M=0;M<E;M++)T[M+2]=T[M]+C[c++]}return{areContours:_,thickness:v,outlines:P,width:p,height:g}}catch(e){return xt(`decompressSignature: ${e}`),null}}}class Gh extends zy{constructor(){super(),super.updateProperties({fill:dt._defaultLineColor,"stroke-width":0})}clone(){const t=new Gh;return t.updateAll(this),t}}class $h extends ul{constructor(t){super(t),super.updateProperties({stroke:dt._defaultLineColor,"stroke-width":1})}clone(){const t=new $h(this._viewParameters);return t.updateAll(this),t}}class Sn extends Mt{#t=!1;#e=null;#i=null;#n=null;static _type="signature";static _editorType=Pt.SIGNATURE;static _defaultDrawingOptions=null;constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=t.signatureData||null,this.#e=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,e){dt.initialize(t,e),this._defaultDrawingOptions=new Gh,this._defaultDrawnSignatureOptions=new $h(e.viewParameters)}static getDefaultDrawingOptions(t){const e=this._defaultDrawingOptions.clone();return e.updateProperties(t),e}static get supportMultipleDrawings(){return!1}static get typesMap(){return bt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#e}}static computeTelemetryFinalData(t){const e=t.get("hasDescription");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,e;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,t=this.x,e=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:s,mustSmooth:o,areContours:l,description:c,uuid:h,heightInPage:d}=this.#i,{rawDims:{pageWidth:p,pageHeight:g},rotation:_}=this.parent.viewport,v=As.processDrawnLines({lines:s,pageWidth:p,pageHeight:g,rotation:_,innerMargin:Sn._INNER_MARGIN,mustSmooth:o,areContours:l});this.addSignature(v,d,c,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#e||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(t,e)),this.div}setUuid(t){this.#n=t,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#e}set description(t){this.#e=t,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(e=>{e?.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:e,thickness:n,width:s,height:o}=this.#i,l=Math.max(s,o),c=As.processDrawnLines({lines:{curves:t.map(h=>({points:h})),thickness:n,width:s,height:o},pageWidth:l,pageHeight:l,rotation:0,innerMargin:0,mustSmooth:!1,areContours:e});return{areContours:e,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,e,n,s){const{x:o,y:l}=this,{outline:c}=this.#i=t;this.#t=c instanceof sh,this.description=n;let h;this.#t?h=Sn.getDefaultDrawingOptions():(h=Sn._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:h});const[,d]=this.pageDimensions;let p=e/d;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(),this.x=o,this.y=l,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return As.process(t,e,n,s,Sn._INNER_MARGIN)}getFromText(t,e){const{rawDims:{pageWidth:n,pageHeight:s},rotation:o}=this.parent.viewport;return As.extractContoursFromText(t,e,n,s,o,Sn._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:e,pageHeight:n},rotation:s}=this.parent.viewport;return As.processDrawnLines({lines:t,pageWidth:e,pageHeight:n,rotation:s,innerMargin:Sn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:e}){t?this._drawingOptions=Sn.getDefaultDrawingOptions():(this._drawingOptions=Sn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":e}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:e,points:n}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:this.#t,color:[0,0,0],thickness:this.#t?0:s});return this.addComment(o),t?(o.paths={lines:e,points:n},o.uuid=this.#n,o.isCopy=!0):o.lines=e,this.#e&&(o.accessibilityData={type:"Figure",alt:this.#e}),o}static deserializeDraw(t,e,n,s,o,l){return l.areContours?sh.deserialize(t,e,n,s,o,l):oa.deserialize(t,e,n,s,o,l)}static async deserialize(t,e,n){const s=await super.deserialize(t,e,n);return s.#t=t.areContours,s.description=t.accessibilityData?.alt||"",s.#n=t.uuid,s}}class kA extends dt{#t=null;#e=null;#i=null;#n=null;#a=null;#r="";#s=null;#o=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Pt.STAMP;constructor(t){super({...t,name:"stampEditor"}),this.#n=t.bitmapUrl,this.#a=t.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,e){dt.initialize(t,e)}static isHandlingMimeForPasting(t){return Xu.includes(t)}static paste(t,e){e.pasteEditor({mode:Pt.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(t){const e=t.get("hasAltText");return{hasAltText:e.get(!0)??0,hasNoAltText:e.get(!1)??0}}#h(t,e=!1){if(!t){this.remove();return}this.#t=t.bitmap,e||(this.#e=t.id,this.#l=t.isSvg),t.file&&(this.#r=t.file.name),this.#g()}#p(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#s){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#t){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(t=null,e=!0){if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:l}=t||this.copyCanvas(null,null,!0).imageData,c=await n.guess({name:"altText",request:{data:s,width:o,height:l,channels:s.length/(o*l)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const h=c.output;return await this.setGuessedAltText(h),e&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#m(){if(this.#e){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#e).then(n=>this.#h(n,!0)).finally(()=>this.#p());return}if(this.#n){const n=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(n).then(s=>this.#h(s)).finally(()=>this.#p());return}if(this.#a){const n=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(n).then(s=>this.#h(s)).finally(()=>this.#p());return}const t=document.createElement("input");t.type="file",t.accept=Xu.join(",");const e=this._uiManager._signal;this.#i=new Promise(n=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(s)}n()},{signal:e}),t.addEventListener("cancel",()=>{this.remove(),n()},{signal:e})}).finally(()=>this.#p()),t.click()}remove(){this.#e&&(this.#t=null,this._uiManager.imageManager.deleteId(this.#e),this.#s?.remove(),this.#s=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#e&&this.#m();return}super.rebuild(),this.div!==null&&(this.#e&&this.#s===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(this.#i||this.#t||this.#n||this.#a||this.#e||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,e;return this._isCopy&&(t=this.x,e=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#t?this.#g():this.#m()),this._isCopy&&this._moveAfterPaste(t,e),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,e){const{id:n,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,e);e.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(this.#e=n,s&&(this.#t=s),this.#o=!1,this.#g())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const t=200;this.#c=setTimeout(()=>{this.#c=null,this.#f()},t)}#g(){const{div:t}=this;let{width:e,height:n}=this.#t;const[s,o]=this.pageDimensions,l=.75;if(this.width)e=this.width*s,n=this.height*o;else if(e>l*s||n>l*o){const h=Math.min(l*s/e,l*o/n);e*=h,n*=h}this._uiManager.enableWaiting(!1);const c=this.#s=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=e/s,this.height=n/o,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),this.#f(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(t,e,n=!1){t||(t=224);const{width:s,height:o}=this.#t,l=new En;let c=this.#t,h=s,d=o,p=null;if(e){if(s>e||o>e){const M=Math.min(e/s,e/o);h=Math.floor(s*M),d=Math.floor(o*M)}p=document.createElement("canvas");const _=p.width=Math.ceil(h*l.sx),v=p.height=Math.ceil(d*l.sy);this.#l||(c=this.#u(_,v));const x=p.getContext("2d");x.filter=this._uiManager.hcmFilter;let w="white",P="#cfcfd8";this._uiManager.hcmFilter!=="none"?P="black":Kb.isDarkMode&&(w="#8f8f9d",P="#42414d");const A=15,C=A*l.sx,S=A*l.sy,E=new OffscreenCanvas(C*2,S*2),T=E.getContext("2d");T.fillStyle=w,T.fillRect(0,0,C*2,S*2),T.fillStyle=P,T.fillRect(0,0,C,S),T.fillRect(C,S,C,S),x.fillStyle=x.createPattern(E,"repeat"),x.fillRect(0,0,_,v),x.drawImage(c,0,0,c.width,c.height,0,0,_,v)}let g=null;if(n){let _,v;if(l.symmetric&&c.width<t&&c.height<t)_=c.width,v=c.height;else if(c=this.#t,s>t||o>t){const P=Math.min(t/s,t/o);_=Math.floor(s*P),v=Math.floor(o*P),this.#l||(c=this.#u(_,v))}const w=new OffscreenCanvas(_,v).getContext("2d",{willReadFrequently:!0});w.drawImage(c,0,0,c.width,c.height,0,0,_,v),g={width:_,height:v,data:w.getImageData(0,0,_,v).data}}return{canvas:p,width:h,height:d,imageData:g}}#u(t,e){const{width:n,height:s}=this.#t;let o=n,l=s,c=this.#t;for(;o>2*t||l>2*e;){const h=o,d=l;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2));const p=new OffscreenCanvas(o,l);p.getContext("2d").drawImage(c,0,0,h,d,0,0,o,l),c=p.transferToImageBitmap()}return c}#f(){const[t,e]=this.parentDimensions,{width:n,height:s}=this,o=new En,l=Math.ceil(n*t*o.sx),c=Math.ceil(s*e*o.sy),h=this.#s;if(!h||h.width===l&&h.height===c)return;h.width=l,h.height=c;const d=this.#l?this.#t:this.#u(l,c),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(d,0,0,d.width,d.height,0,0,l,c)}#_(t){if(t){if(this.#l){const s=this._uiManager.imageManager.getSvgUrl(this.#e);if(s)return s}const e=document.createElement("canvas");return{width:e.width,height:e.height}=this.#t,e.getContext("2d").drawImage(this.#t,0,0),e.toDataURL()}if(this.#l){const[e,n]=this.pageDimensions,s=Math.round(this.width*e*js.PDF_TO_CSS_UNITS),o=Math.round(this.height*n*js.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(s,o);return l.getContext("2d").drawImage(this.#t,0,0,this.#t.width,this.#t.height,0,0,s,o),l.transferToImageBitmap()}return structuredClone(this.#t)}static async deserialize(t,e,n){let s=null,o=!1;if(t instanceof By){const{data:{rect:w,rotation:P,id:A,structParent:C,popupRef:S,richText:E,contentsObj:T,creationDate:M,modificationDate:N},container:O,parent:{page:{pageNumber:V}},canvas:Y}=t;let tt,ht;Y?(delete t.canvas,{id:tt,bitmap:ht}=n.imageManager.getFromCanvas(O.id,Y),Y.remove()):(o=!0,t._hasNoCanvas=!0);const H=(await e._structTree.getAriaAttributes(`${Ts}${A}`))?.get("aria-label")||"";s=t={annotationType:Pt.STAMP,bitmapId:tt,bitmap:ht,pageIndex:V-1,rect:w.slice(0),rotation:P,annotationElementId:A,id:A,deleted:!1,accessibilityData:{decorative:!1,altText:H},isSvg:!1,structParent:C,popupRef:S,richText:E,comment:T?.str||null,creationDate:M,modificationDate:N}}const l=await super.deserialize(t,e,n),{rect:c,bitmap:h,bitmapUrl:d,bitmapId:p,isSvg:g,accessibilityData:_}=t;o?(n.addMissingCanvas(t.id,l),l.#o=!0):p&&n.imageManager.isValidId(p)?(l.#e=p,h&&(l.#t=h)):l.#n=d,l.#l=g;const[v,x]=l.pageDimensions;return l.width=(c[2]-c[0])/v,l.height=(c[3]-c[1])/x,_&&(l.altTextData=_),l._initialData=s,t.comment&&l.setCommentData(t),l.#d=!!s,l}serialize(t=!1,e=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Object.assign(super.serialize(t),{bitmapId:this.#e,isSvg:this.#l});if(this.addComment(n),t)return n.bitmapUrl=this.#_(!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(n.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const c=this.#v(n);return c.isSame?null:(c.isSameAltText?delete n.accessibilityData:n.accessibilityData.structParent=this._initialData.structParent??-1,n.id=this.annotationElementId,delete n.bitmapId,n)}if(e===null)return n;e.stamps||=new Map;const l=this.#l?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(!e.stamps.has(this.#e))e.stamps.set(this.#e,{area:l,serialized:n}),n.bitmap=this.#_(!1);else if(this.#l){const c=e.stamps.get(this.#e);l>c.area&&(c.area=l,c.serialized.bitmap.close(),c.serialized.bitmap=this.#_(!1))}return n}#v(t){const{pageIndex:e,accessibilityData:{altText:n}}=this._initialData,s=t.pageIndex===e,o=(t.accessibilityData?.alt||"")===n;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Bn{#t;#e=!1;#i=null;#n=null;#a=null;#r=new Map;#s=!1;#o=!1;#c=!1;#l=null;#d=null;#h=null;#p=null;#m=null;#g=-1;#u;static _initialized=!1;static#f=new Map([de,Uh,kA,Jt,Sn].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:e,div:n,structTreeLayer:s,accessibilityManager:o,annotationLayer:l,drawLayer:c,textLayer:h,viewport:d,l10n:p}){const g=[...Bn.#f.values()];if(!Bn._initialized){Bn._initialized=!0;for(const _ of g)_.initialize(p,t)}t.registerEditorTypes(g),this.#u=t,this.pageIndex=e,this.div=n,this.#t=o,this.#i=l,this.viewport=d,this.#h=h,this.drawLayer=c,this._structTree=s,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Pt.NONE}updateToolbar(t){this.#u.updateToolbar(t)}updateMode(t=this.#u.getMode()){switch(this.#x(),t){case Pt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Pt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Pt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;if(e.toggle("nonEditing",!1),t===Pt.POPUP)e.toggle("commentEditing",!0);else{e.toggle("commentEditing",!1);for(const n of Bn.#f.values())e.toggle(`${n._type}Editing`,t===n._editorType)}this.div.hidden=!1}hasTextLayer(t){return t===this.#h?.div}setEditingState(t){this.#u.setEditingState(t)}addCommands(t){this.#u.addCommands(t)}cleanUndoStack(t){this.#u.cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#i?.togglePointerEvents(t)}get#_(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#m?.abort(),this.#m=null;const t=new Set;for(const n of this.#_)n.enableEditing(),n.show(!0),n.annotationElementId&&(this.#u.removeChangedExistingAnnotation(n),t.add(n.annotationElementId));const e=this.#i;if(e)for(const n of e.getEditableAnnotations()){if(n.hide(),this.#u.isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const s=await this.deserialize(n);s&&(this.addOrRebuild(s),s.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#m){this.#m=new AbortController;const s=this.#u.combinedSignal(this.#m);this.#h.div.addEventListener("pointerdown",o=>{const{clientX:c,clientY:h,timeStamp:d}=o,p=this.#g;if(d-p>500){this.#g=d;return}this.#g=-1;const{classList:g}=this.div;g.toggle("getElements",!0);const _=document.elementsFromPoint(c,h);if(g.toggle("getElements",!1),!this.div.contains(_[0]))return;let v;const x=new RegExp(`^${Wr}[0-9]+$`);for(const P of _)if(x.test(P.id)){v=P.id;break}if(!v)return;const w=this.#r.get(v);w?.annotationElementId===null&&(o.stopPropagation(),o.preventDefault(),w.dblclick(o))},{signal:s,capture:!0})}const t=this.#i,e=[];if(t){const s=new Map,o=new Map;for(const c of this.#_){if(c.disableEditing(),!c.annotationElementId){e.push(c);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else o.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const l=t.getEditableAnnotations();for(const c of l){const{id:h}=c.data;if(this.#u.isDeletedAnnotationElement(h)){c.updateEdited({deleted:!0});continue}let d=o.get(h);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=s.get(h),d&&(this.#u.addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of Bn.#f.values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),t?.updateFakeAnnotations(e),this.#o=!1}getEditableAnnotation(t){return this.#i?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#u.getActive()!==t&&this.#u.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#p){this.#p=new AbortController;const t=this.#u.combinedSignal(this.#p);this.#h.div.addEventListener("pointerdown",this.#v.bind(this),{signal:t}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#p&&(this.#p.abort(),this.#p=null,this.#h.div.classList.remove("highlighting"))}#v(t){this.#u.unselectAll();const{target:e}=t;if(e===this.#h.div||(e.getAttribute("role")==="img"||e.classList.contains("endOfContent"))&&this.#h.div.contains(e)){const{isMac:n}=ye.platform;if(t.button!==0||t.ctrlKey&&n)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Jt.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:t.x,y:t.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),t.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const t=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const e=this.pointerup.bind(this);this.div.addEventListener("pointerup",e,{signal:t}),this.div.addEventListener("pointercancel",e,{signal:t})}disableClick(){this.#n?.abort(),this.#n=null}attach(t){this.#r.set(t.id,t);const{annotationElementId:e}=t;e&&this.#u.isDeletedAnnotationElement(e)&&this.#u.removeDeletedAnnotationElement(t)}detach(t){this.#r.delete(t.id),this.#t?.removePointerInTextLayer(t.contentDiv),!this.#o&&t.annotationElementId&&this.#u.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#u.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#u.addDeletedAnnotationElement(t),dt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#u.addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!this.#c),this.#u.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!this.#a&&(t._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),e.focus())},0)),t._structTreeParentId=this.#t?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getEditorByUID(t){for(const e of this.#r.values())if(e.uid===t)return e;return null}getNextId(){return this.#u.getId()}get#y(){return Bn.#f.get(this.#u.getMode())}combinedSignal(t){return this.#u.combinedSignal(t)}#S(t){const e=this.#y;return e?new e.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(t,e){this.updateToolbar(t),await this.#u.updateMode(t.mode);const{offsetX:n,offsetY:s}=this.#P(),o=this.getNextId(),l=this.#S({parent:this,id:o,x:n,y:s,uiManager:this.#u,isCentered:!0,...e});l&&this.add(l)}async deserialize(t){return await Bn.#f.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#u)||null}createAndAddNewEditor(t,e,n={}){const s=this.getNextId(),o=this.#S({parent:this,id:s,x:t.offsetX,y:t.offsetY,uiManager:this.#u,isCentered:e,...n});return o&&this.add(o),o}get boundingClientRect(){return this.div.getBoundingClientRect()}#P(){const{x:t,y:e,width:n,height:s}=this.boundingClientRect,o=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),h=Math.min(window.innerHeight,e+s),d=(o+c)/2-t,p=(l+h)/2-e,[g,_]=this.viewport.rotation%180===0?[d,p]:[p,d];return{offsetX:g,offsetY:_}}addNewEditor(t={}){this.createAndAddNewEditor(this.#P(),!0,t)}setSelected(t){this.#u.setSelected(t)}toggleSelected(t){this.#u.toggleSelected(t)}unselect(t){this.#u.unselect(t)}pointerup(t){const{isMac:e}=ye.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div||!this.#s||(this.#s=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#e){this.#e=!0;return}const n=this.#u.getMode();if(n===Pt.STAMP||n===Pt.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){if(this.#u.getMode()===Pt.HIGHLIGHT&&this.enableTextSelection(),this.#s){this.#s=!1;return}const{isMac:e}=ye.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;if(this.#s=!0,this.#y?.isDrawer){this.startDrawingSession(t);return}const n=this.#u.getActive();this.#e=!n||n.isEmpty()}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,t);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const e=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(this.#d=null,this.commitOrRemove())},{signal:e}),this.#y.startDrawing(this,this.#u,!1,t)}pause(t){if(t){const{activeElement:e}=document;this.div.contains(e)&&(this.#d=e);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(t=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#y.endDrawing(t)):null}findNewParent(t,e,n){const s=this.#u.findParent(e,n);return s===null||s===this?!1:(s.changeParent(t),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const t of this.#r.values())this.#t?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#x(){for(const t of this.#r.values())t.isEmpty()&&t.remove()}render({viewport:t}){this.viewport=t,Gi(this.div,t);for(const e of this.#u.getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){this.#u.commitOrRemove(),this.#x();const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Gi(this.div,{rotation:n}),e!==n)for(const s of this.#r.values())s.rotate(n)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return this.#u.viewParameters.realScale}}class me{#t=null;#e=new Map;#i=new Map;static#n=0;constructor({pageIndex:t}){this.pageIndex=t}setParent(t){if(!this.#t){this.#t=t;return}if(this.#t!==t){if(this.#e.size>0)for(const e of this.#e.values())e.remove(),t.append(e);this.#t=t}}static get _svgFactory(){return bt(this,"_svgFactory",new Ko)}static#a(t,[e,n,s,o]){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*s}%`,l.height=`${100*o}%`}#r(){const t=me._svgFactory.create(1,1,!0);return this.#t.append(t),t.setAttribute("aria-hidden",!0),t}#s(t,e){const n=me._svgFactory.createElement("clipPath");t.append(n);const s=`clip_${e}`;n.setAttribute("id",s),n.setAttribute("clipPathUnits","objectBoundingBox");const o=me._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${e}`),o.classList.add("clip"),s}#o(t,e){for(const[n,s]of Object.entries(e))s===null?t.removeAttribute(n):t.setAttribute(n,s)}draw(t,e=!1,n=!1){const s=me.#n++,o=this.#r(),l=me._svgFactory.createElement("defs");o.append(l);const c=me._svgFactory.createElement("path");l.append(c);const h=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",h),c.setAttribute("vector-effect","non-scaling-stroke"),e&&this.#i.set(s,c);const d=n?this.#s(l,h):null,p=me._svgFactory.createElement("use");return o.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(o,t),this.#e.set(s,o),{id:s,clipPathId:`url(#${d})`}}drawOutline(t,e){const n=me.#n++,s=this.#r(),o=me._svgFactory.createElement("defs");s.append(o);const l=me._svgFactory.createElement("path");o.append(l);const c=`path_p${this.pageIndex}_${n}`;l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke");let h;if(e){const g=me._svgFactory.createElement("mask");o.append(g),h=`mask_p${this.pageIndex}_${n}`,g.setAttribute("id",h),g.setAttribute("maskUnits","objectBoundingBox");const _=me._svgFactory.createElement("rect");g.append(_),_.setAttribute("width","1"),_.setAttribute("height","1"),_.setAttribute("fill","white");const v=me._svgFactory.createElement("use");g.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const d=me._svgFactory.createElement("use");s.append(d),d.setAttribute("href",`#${c}`),h&&d.setAttribute("mask",`url(#${h})`);const p=d.cloneNode();return s.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(s,t),this.#e.set(n,s),n}finalizeDraw(t,e){this.#i.delete(t),this.updateProperties(t,e)}updateProperties(t,e){if(!e)return;const{root:n,bbox:s,rootClass:o,path:l}=e,c=typeof t=="number"?this.#e.get(t):t;if(c){if(n&&this.#o(c,n),s&&me.#a(c,s),o){const{classList:h}=c;for(const[d,p]of Object.entries(o))h.toggle(d,p)}if(l){const d=c.firstElementChild.firstElementChild;this.#o(d,l)}}}updateParent(t,e){if(e===this)return;const n=this.#e.get(t);n&&(e.#t.append(n),this.#e.delete(t),e.#e.set(t,n))}remove(t){this.#i.delete(t),this.#t!==null&&(this.#e.get(t).remove(),this.#e.delete(t))}destroy(){this.#t=null;for(const t of this.#e.values())t.remove();this.#e.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:nh};globalThis.pdfjsLib={AbortException:mi,AnnotationEditorLayer:Bn,AnnotationEditorParamsType:Ct,AnnotationEditorType:Pt,AnnotationEditorUIManager:_i,AnnotationLayer:Hh,AnnotationMode:hi,AnnotationType:ie,applyOpacity:Yb,build:iA,ColorPicker:an,createValidAbsoluteUrl:oy,CSSConstants:Xb,DOMSVGFactory:Ko,DrawLayer:me,FeatureTest:ye,fetchData:na,findContrastColor:Qb,getDocument:Ly,getFilenameFromUrl:Ub,getPdfFilenameFromUrl:Gb,getRGB:sa,getUuid:uy,getXfaPageViewport:Wb,GlobalWorkerOptions:Ns,ImageKind:Ro,InvalidPDFException:qu,isDataScheme:ol,isPdfFile:Ih,isValidExplicitDest:oP,MathClamp:Le,noContextMenu:on,normalizeUnicode:zb,OPS:qr,OutputScale:En,PasswordResponses:Mb,PDFDataRangeTransport:My,PDFDateString:Ku,PDFWorker:Xr,PermissionFlag:Lb,PixelsPerInch:js,RenderingCancelledException:Mh,renderRichText:py,ResponseException:Wo,setLayerDimensions:Gi,shadow:bt,SignatureExtractor:As,stopEvent:Xt,SupportedImageMimeTypes:Xu,TextLayer:ke,TouchManager:ll,updateUrlHash:ly,Util:ot,VerbosityLevel:sl,version:nA,XfaLayer:dy};const EA=""+new URL("pdf.worker.min-CXgfMxHN.mjs",import.meta.url).href;Ns.workerSrc=EA;const TA=({onDeckUpdate:a})=>{const[t,e]=G.useState(!1),[n,s]=G.useState(!1),[o,l]=G.useState(0),[c,h]=G.useState("ideal"),[d,p]=G.useState(""),[g,_]=G.useState(0),[v,x]=G.useState([]),w=async()=>{const E=await Mo("custom_cards");if(E&&Array.isArray(E)){const T={};E.forEach(M=>{T[M.source]=(T[M.source]||0)+1}),x(Object.entries(T).map(([M,N])=>({name:M,count:N})))}else x([])};G.useEffect(()=>{w()},[]);const P=async E=>{if(confirm(`Are you sure you want to delete "${E}"?`))try{const M=(await Mo("custom_cards")||[]).filter(N=>N.source!==E);await Qf("custom_cards",M),h("success"),p(`Deleted deck: ${E}`),w(),a&&a()}catch(T){console.error("Delete Error:",T),h("error"),p("Failed to delete deck")}},A=async E=>{if(E.type!=="application/pdf"){h("error"),p("Please upload a valid PDF file.");return}try{s(!0),l(0),h("ideal");const T=await E.arrayBuffer(),N=await Ly(T).promise,O=N.numPages,V=[],Y=Date.now(),tt=E.name.replace(".pdf","");for(let Q=1;Q<=O;Q++){const st=await N.getPage(Q),K=(await st.getTextContent()).items.map(ft=>ft.str).filter(ft=>ft.trim().length>0),U=K.length>0?K[0]:`Page ${Q}`,J=K.length>1?K.slice(1).join(`
`):"No description extracted.",I=st.getViewport({scale:1.5}),z=document.createElement("canvas"),nt=z.getContext("2d");z.height=I.height,z.width=I.width,await st.render({canvasContext:nt,viewport:I}).promise;const pt=z.toDataURL("image/jpeg",.8);V.push({id:`custom_${Y}_${Q}`,title:U,description:J,imagePath:pt,source:tt,page:Q,isCustom:!0}),l(Math.round(Q/O*100))}const H=[...await Mo("custom_cards")||[],...V];await Qf("custom_cards",H),_(V.length),h("success"),p(`Successfully imported ${V.length} cards from ${E.name}.`),w(),a&&a()}catch(T){console.error("Import Error:",T),h("error"),p("Failed to process PDF: "+T.message)}finally{s(!1)}},C=G.useCallback(E=>{E.preventDefault(),e(!1);const T=E.dataTransfer.files;T.length>0&&A(T[0])},[]),S=E=>{const T=E.target.files;T.length>0&&A(T[0])};return k.jsxs("div",{className:"w-full h-full flex flex-col p-8 items-center overflow-y-auto animate-fade-in custom-scrollbar",children:[k.jsx("h2",{className:"text-3xl font-bold mb-8 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-teal-400",children:"Deck Management"}),k.jsxs("div",{className:`
                    w-full max-w-2xl h-80 border-4 border-dashed rounded-3xl flex flex-col items-center justify-center shrink-0
                    transition-all duration-300 cursor-pointer relative overflow-hidden mb-12
                    ${t?"border-blue-500 bg-blue-500/10 scale-105":"border-gray-700 bg-gray-800/50 hover:bg-gray-800 hover:border-gray-500"}
                `,onDragOver:E=>{E.preventDefault(),e(!0)},onDragLeave:()=>e(!1),onDrop:C,children:[k.jsx("input",{type:"file",accept:".pdf",onChange:S,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),!n&&c!=="success"&&k.jsxs("div",{className:"flex flex-col items-center text-gray-400 pointer-events-none",children:[k.jsx(ay,{size:64,className:"mb-4 text-blue-400"}),k.jsx("p",{className:"text-xl font-medium text-gray-200",children:"Drag & Drop PDF here"}),k.jsx("p",{className:"text-sm mt-2",children:"or click to browse"}),k.jsx("p",{className:"text-xs mt-4 text-gray-500",children:"Processing happens locally in your browser"})]}),n&&k.jsxs("div",{className:"flex flex-col items-center pointer-events-none z-10",children:[k.jsxs("div",{className:"relative w-20 h-20 mb-4",children:[k.jsx(yb,{size:80,className:"text-blue-500 animate-spin absolute"}),k.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-bold text-white",children:[o,"%"]})]}),k.jsx("p",{className:"text-lg text-blue-300 animate-pulse",children:"Processing PDF..."}),k.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Rendering pages & extracting text"})]}),c==="success"&&!n&&k.jsxs("div",{className:"flex flex-col items-center text-green-400 pointer-events-none fade-in",children:[k.jsx(ny,{size:64,className:"mb-4"}),k.jsx("p",{className:"text-xl font-bold",children:"Done!"}),k.jsx("p",{className:"text-gray-300 mt-2",children:d})]}),c==="error"&&!n&&k.jsxs("div",{className:"flex flex-col items-center text-red-400 pointer-events-none fade-in",children:[k.jsx($o,{size:64,className:"mb-4"}),k.jsx("p",{className:"text-xl font-bold",children:"Import Failed"}),k.jsx("p",{className:"text-gray-300 mt-2 max-w-md text-center",children:d})]})]}),k.jsxs("div",{className:"w-full max-w-2xl",children:[k.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[k.jsx(fb,{className:"text-gray-400",size:24}),k.jsx("h3",{className:"text-xl font-bold text-gray-200",children:"Your Local Decks"})]}),v.length===0?k.jsx("div",{className:"text-center p-8 bg-gray-800/30 rounded-2xl border border-gray-800 text-gray-500",children:"No custom decks found. Upload a PDF above to create one."}):k.jsx("div",{className:"space-y-4",children:v.map(E=>k.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-xl border border-gray-700 hover:border-gray-500 transition-colors",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx("div",{className:"bg-blue-900/50 p-3 rounded-lg text-blue-400",children:k.jsx(gb,{size:24})}),k.jsxs("div",{children:[k.jsx("h4",{className:"font-bold text-white text-lg",children:E.name}),k.jsxs("p",{className:"text-sm text-gray-400",children:[E.count," cards"]})]})]}),k.jsx("button",{onClick:()=>P(E.name),className:"p-3 bg-red-900/20 hover:bg-red-900/50 text-red-400 hover:text-red-200 rounded-lg transition-colors",title:"Delete Deck",children:k.jsx(bb,{size:20})})]},E.name))})]}),k.jsx("div",{className:"mt-12 max-w-2xl text-gray-600 text-xs text-center border-t border-gray-800 pt-6",children:"Decks are stored in your browser's IndexedDB. Clearing browser data will remove them."})]})},Em=JSON.parse('[{"id":0,"title":" I","description":"","imagePath":"./cards/_I_p0.png","source":" I"},{"id":1,"title":"-","description":"      ","imagePath":"./cards/_I_p1.jpeg","source":" I"},{"id":2,"title":"-","description":"          ","imagePath":"./cards/_I_p2.jpeg","source":" I"},{"id":3,"title":"-","description":"      ","imagePath":"./cards/_I_p3.jpeg","source":" I"},{"id":4,"title":"-","description":"      ","imagePath":"./cards/_I_p4.jpeg","source":" I"},{"id":5,"title":"-","description":"      ","imagePath":"./cards/_I_p5.jpeg","source":" I"},{"id":6,"title":"-","description":"     ","imagePath":"./cards/_I_p6.jpeg","source":" I"},{"id":7,"title":"-","description":"      ","imagePath":"./cards/_I_p7.jpeg","source":" I"},{"id":8,"title":"-","description":"      ","imagePath":"./cards/_I_p8.jpeg","source":" I"},{"id":9,"title":"-","description":"      ","imagePath":"./cards/_I_p9.jpeg","source":" I"},{"id":10,"title":"-","description":"       \\n","imagePath":"./cards/_I_p10.jpeg","source":" I"},{"id":11,"title":"-","description":"     ","imagePath":"./cards/_I_p11.jpeg","source":" I"},{"id":12,"title":"-","description":"         ","imagePath":"./cards/_I_p12.jpeg","source":" I"},{"id":13,"title":"-","description":"          ","imagePath":"./cards/_I_p13.jpeg","source":" I"},{"id":14,"title":"-","description":"               ","imagePath":"./cards/_I_p14.jpeg","source":" I"},{"id":15,"title":"-","description":"\\n     ","imagePath":"./cards/_I_p15.jpeg","source":" I"},{"id":16,"title":"-","description":"     \\n(copy from https://www.future.url.tw/)","imagePath":"./cards/_I_p16.jpeg","source":" I"},{"id":17,"title":"-","description":"      ","imagePath":"./cards/_I_p17.jpeg","source":" I"},{"id":18,"title":"-","description":"      ","imagePath":"./cards/_I_p18.jpeg","source":" I"},{"id":19,"title":"-","description":"     ","imagePath":"./cards/_I_p19.jpeg","source":" I"},{"id":20,"title":"-","description":"          ","imagePath":"./cards/_I_p20.jpeg","source":" I"},{"id":21,"title":"-","description":"      ","imagePath":"./cards/_I_p21.jpeg","source":" I"},{"id":22,"title":"-","description":"      ","imagePath":"./cards/_I_p22.jpeg","source":" I"},{"id":23,"title":"-","description":"      ","imagePath":"./cards/_I_p23.jpeg","source":" I"},{"id":24,"title":"-  ","description":"     ","imagePath":"./cards/_I_p24.jpeg","source":" I"},{"id":25,"title":"-","description":"      ","imagePath":"./cards/_I_p25.jpeg","source":" I"},{"id":26,"title":"-","description":"       ","imagePath":"./cards/_I_p26.jpeg","source":" I"},{"id":27,"title":"-","description":"      ","imagePath":"./cards/_I_p27.jpeg","source":" I"},{"id":28,"title":"- ","description":"      ","imagePath":"./cards/_I_p28.jpeg","source":" I"},{"id":29,"title":"- ","description":"      ","imagePath":"./cards/_I_p29.jpeg","source":" I"},{"id":30,"title":"- ","description":"     ","imagePath":"./cards/_I_p30.jpeg","source":" I"},{"id":31,"title":"-","description":"     ","imagePath":"./cards/_I_p31.jpeg","source":" I"},{"id":32,"title":"- ","description":"      ","imagePath":"./cards/_I_p32.jpeg","source":" I"},{"id":33,"title":"-","description":"      ","imagePath":"./cards/_I_p33.jpeg","source":" I"},{"id":34,"title":"-","description":"      ","imagePath":"./cards/_I_p34.jpeg","source":" I"},{"id":35,"title":"-","description":"        ","imagePath":"./cards/_I_p35.jpeg","source":" I"},{"id":36,"title":"-","description":"       ","imagePath":"./cards/_I_p36.jpeg","source":" I"},{"id":37,"title":"-","description":"      ","imagePath":"./cards/_I_p37.jpeg","source":" I"},{"id":38,"title":"- ","description":"      ","imagePath":"./cards/_I_p38.jpeg","source":" I"},{"id":39,"title":"-","description":"      ","imagePath":"./cards/_I_p39.jpeg","source":" I"},{"id":40,"title":"-","description":"     ","imagePath":"./cards/_I_p40.jpeg","source":" I"},{"id":41,"title":"-","description":"     ","imagePath":"./cards/_I_p41.jpeg","source":" I"},{"id":42,"title":"-","description":"     ","imagePath":"./cards/_I_p42.jpeg","source":" I"},{"id":43,"title":"-","description":"      ","imagePath":"./cards/_I_p43.jpeg","source":" I"},{"id":44,"title":"-","description":"        ","imagePath":"./cards/_I_p44.jpeg","source":" I"},{"id":45,"title":"-","description":"         ","imagePath":"./cards/_I_p45.jpeg","source":" I"},{"id":46,"title":"-","description":"       ","imagePath":"./cards/_I_p46.jpeg","source":" I"},{"id":47,"title":"-","description":"      ","imagePath":"./cards/_I_p47.jpeg","source":" I"},{"id":48,"title":"-","description":"\\n          ","imagePath":"./cards/_I_p48.jpeg","source":" I"},{"id":49,"title":"- ","description":"\\n      ","imagePath":"./cards/_I_p49.jpeg","source":" I"},{"id":50,"title":"-","description":"         \\n","imagePath":"./cards/_I_p50.jpeg","source":" I"},{"id":51,"title":" II","description":"","imagePath":"./cards/_II_p0.png","source":" II"},{"id":52,"title":"- ","description":"       ","imagePath":"./cards/_II_p1.jpeg","source":" II"},{"id":53,"title":"- ","description":"      ","imagePath":"./cards/_II_p2.jpeg","source":" II"},{"id":54,"title":"-","description":"      \\n","imagePath":"./cards/_II_p3.jpeg","source":" II"},{"id":55,"title":"- ","description":"      ","imagePath":"./cards/_II_p4.jpeg","source":" II"},{"id":56,"title":"- ","description":"          ","imagePath":"./cards/_II_p5.jpeg","source":" II"},{"id":57,"title":"-","description":"          ","imagePath":"./cards/_II_p6.jpeg","source":" II"},{"id":58,"title":"- ","description":"       ","imagePath":"./cards/_II_p7.jpeg","source":" II"},{"id":59,"title":"- ","description":"      ","imagePath":"./cards/_II_p8.jpeg","source":" II"},{"id":60,"title":"-","description":"     ","imagePath":"./cards/_II_p9.jpeg","source":" II"},{"id":61,"title":"-","description":"      ","imagePath":"./cards/_II_p10.jpeg","source":" II"},{"id":62,"title":"- ","description":"      ","imagePath":"./cards/_II_p11.jpeg","source":" II"},{"id":63,"title":"- ","description":"      ","imagePath":"./cards/_II_p12.jpeg","source":" II"},{"id":64,"title":"-","description":"     ","imagePath":"./cards/_II_p13.jpeg","source":" II"},{"id":65,"title":"-","description":"           ","imagePath":"./cards/_II_p14.jpeg","source":" II"},{"id":66,"title":"- ","description":"      ","imagePath":"./cards/_II_p15.jpeg","source":" II"},{"id":67,"title":"- ","description":"      ","imagePath":"./cards/_II_p16.jpeg","source":" II"},{"id":68,"title":"-","description":"     ","imagePath":"./cards/_II_p17.jpeg","source":" II"},{"id":69,"title":"-","description":"         ","imagePath":"./cards/_II_p18.jpeg","source":" II"},{"id":70,"title":" -","description":"      ","imagePath":"./cards/_II_p19.jpeg","source":" II"},{"id":71,"title":"- ","description":"      ","imagePath":"./cards/_II_p20.jpeg","source":" II"},{"id":72,"title":"-","description":"      ","imagePath":"./cards/_II_p21.jpeg","source":" II"},{"id":73,"title":"- ","description":"          ","imagePath":"./cards/_II_p22.jpeg","source":" II"},{"id":74,"title":"-","description":"      \\n","imagePath":"./cards/_II_p23.jpeg","source":" II"},{"id":75,"title":"- ","description":"        ","imagePath":"./cards/_II_p24.jpeg","source":" II"},{"id":76,"title":" -  ","description":"      ","imagePath":"./cards/_II_p25.jpeg","source":" II"},{"id":77,"title":"-","description":"      ","imagePath":"./cards/_II_p26.jpeg","source":" II"},{"id":78,"title":"- ","description":"        ","imagePath":"./cards/_II_p27.jpeg","source":" II"},{"id":79,"title":"- ","description":"      ","imagePath":"./cards/_II_p28.jpeg","source":" II"},{"id":80,"title":"- ","description":"           ","imagePath":"./cards/_II_p29.jpeg","source":" II"},{"id":81,"title":"-","description":"          ","imagePath":"./cards/_II_p30.jpeg","source":" II"},{"id":82,"title":"-","description":"       ","imagePath":"./cards/_II_p31.jpeg","source":" II"},{"id":83,"title":"- ","description":"      \\n","imagePath":"./cards/_II_p32.jpeg","source":" II"},{"id":84,"title":"-","description":"      ","imagePath":"./cards/_II_p33.jpeg","source":" II"},{"id":85,"title":"-","description":"      ","imagePath":"./cards/_II_p34.jpeg","source":" II"},{"id":86,"title":"- ","description":"      ","imagePath":"./cards/_II_p35.jpeg","source":" II"},{"id":87,"title":"-","description":"      ","imagePath":"./cards/_II_p36.jpeg","source":" II"},{"id":88,"title":"-","description":"      ","imagePath":"./cards/_II_p37.jpeg","source":" II"},{"id":89,"title":"- ","description":"         ","imagePath":"./cards/_II_p38.jpeg","source":" II"},{"id":90,"title":"-","description":"        ","imagePath":"./cards/_II_p39.jpeg","source":" II"},{"id":91,"title":"- ","description":"      ","imagePath":"./cards/_II_p40.jpeg","source":" II"},{"id":92,"title":"-","description":"        ","imagePath":"./cards/_II_p41.jpeg","source":" II"},{"id":93,"title":"-","description":"     ","imagePath":"./cards/_II_p42.jpeg","source":" II"},{"id":94,"title":"- ","description":"      ","imagePath":"./cards/_II_p43.jpeg","source":" II"},{"id":95,"title":"-","description":"      ","imagePath":"./cards/_II_p44.jpeg","source":" II"},{"id":96,"title":"- ","description":" \\n         ","imagePath":"./cards/_II_p45.jpeg","source":" II"},{"id":97,"title":"- ","description":"     \\n","imagePath":"./cards/_II_p46.jpeg","source":" II"},{"id":98,"title":"-","description":"          ","imagePath":"./cards/_II_p47.jpeg","source":" II"},{"id":99,"title":"- ","description":"       ","imagePath":"./cards/_II_p48.jpeg","source":" II"},{"id":100,"title":"- ","description":"       ","imagePath":"./cards/_II_p49.jpeg","source":" II"},{"id":101,"title":"-","description":"           \\n(copy from http://toupeenseen.com/)\\n(copy from https://blog.gtwang.org/)","imagePath":"./cards/_II_p50.jpeg","source":" II"},{"id":102,"title":"","description":"","imagePath":"./cards/_p0.jpeg","source":""},{"id":103,"title":"","description":"","imagePath":"./cards/_p1.jpeg","source":""},{"id":104,"title":"","description":"","imagePath":"./cards/_p2.jpeg","source":""},{"id":105,"title":"","description":"","imagePath":"./cards/_p3.jpeg","source":""},{"id":106,"title":"","description":"","imagePath":"./cards/_p4.jpeg","source":""},{"id":107,"title":"","description":"","imagePath":"./cards/_p5.jpeg","source":""},{"id":108,"title":"","description":"","imagePath":"./cards/_p6.jpeg","source":""},{"id":109,"title":"","description":"","imagePath":"./cards/_p7.jpeg","source":""},{"id":110,"title":"","description":"","imagePath":"./cards/_p8.jpeg","source":""},{"id":111,"title":"","description":"","imagePath":"./cards/_p9.jpeg","source":""},{"id":112,"title":"","description":"","imagePath":"./cards/_p10.jpeg","source":""},{"id":113,"title":"","description":"","imagePath":"./cards/_p11.jpeg","source":""},{"id":114,"title":"","description":"","imagePath":"./cards/_p12.jpeg","source":""},{"id":115,"title":"","description":"","imagePath":"./cards/_p13.jpeg","source":""},{"id":116,"title":"","description":"","imagePath":"./cards/_p14.jpeg","source":""},{"id":117,"title":"","description":"","imagePath":"./cards/_p15.jpeg","source":""},{"id":118,"title":"","description":"","imagePath":"./cards/_p16.jpeg","source":""},{"id":119,"title":"","description":"","imagePath":"./cards/_p17.jpeg","source":""},{"id":120,"title":"","description":"","imagePath":"./cards/_p18.jpeg","source":""},{"id":121,"title":"","description":"","imagePath":"./cards/_p19.jpeg","source":""},{"id":122,"title":"","description":"","imagePath":"./cards/_p20.jpeg","source":""},{"id":123,"title":"","description":"","imagePath":"./cards/_p21.jpeg","source":""},{"id":124,"title":"","description":"","imagePath":"./cards/_p22.jpeg","source":""},{"id":125,"title":"","description":"","imagePath":"./cards/_p23.jpeg","source":""},{"id":126,"title":"","description":"","imagePath":"./cards/_p24.jpeg","source":""},{"id":127,"title":"","description":"","imagePath":"./cards/_p25.jpeg","source":""},{"id":128,"title":"","description":"","imagePath":"./cards/_p26.jpeg","source":""},{"id":129,"title":"","description":"","imagePath":"./cards/_p27.jpeg","source":""},{"id":130,"title":"","description":"","imagePath":"./cards/_p28.jpeg","source":""},{"id":131,"title":"","description":"","imagePath":"./cards/_p29.jpeg","source":""},{"id":132,"title":"","description":"","imagePath":"./cards/_p30.jpeg","source":""},{"id":133,"title":"","description":"\\n","imagePath":"./cards/_p31.jpeg","source":""},{"id":134,"title":"  ","description":"","imagePath":"./cards/_p32.jpeg","source":""}]');function LA(){const[a,t]=G.useState([]),[e,n]=G.useState(!0),[s,o]=G.useState("All"),[l,c]=G.useState("review"),[h,d]=G.useState(!1),p=async()=>{n(!0);try{let w=[...Em];const P=await Mo("custom_cards");P&&Array.isArray(P)&&(w=[...w,...P]),t(w)}catch(w){console.error("Failed to load cards",w),t(Em)}finally{n(!1)}};G.useEffect(()=>{p()},[]);const g=[...new Set(a.map(w=>w.source))],_=a.filter(w=>!w.imagePath.includes("_p0."));let v=_;if(s==="Mistakes")try{const w=JSON.parse(localStorage.getItem("quiz_mistakes"))||[];v=v.filter(P=>w.includes(P.id))}catch(w){console.error("Error parsing mistakes",w),v=[]}else s!=="All"&&(v=v.filter(w=>w.source===s));if(e)return k.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-900 text-white",children:"Loading..."});if(a.length===0&&l!=="import")return k.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-gray-900 text-white",children:k.jsxs("div",{className:"text-center",children:[k.jsx("h1",{className:"text-2xl font-bold mb-4",children:"No Cards Found"}),k.jsx("p",{className:"mb-4",children:"Please run the python script or import a PDF."}),k.jsx("button",{onClick:()=>c("import"),className:"px-4 py-2 bg-blue-600 rounded-lg text-white hover:bg-blue-500",children:"Import PDF"})]})});const x=()=>{if(l==="review")return k.jsx("div",{className:"flex-grow flex items-center justify-center p-4 relative w-full h-full overflow-hidden",children:v.length>0?k.jsx(Sb,{cards:v},s):k.jsxs("div",{className:"text-gray-500 text-center",children:[k.jsx("p",{className:"text-xl mb-2",children:"No cards in this topic"}),s==="Mistakes"&&k.jsx("p",{className:"text-sm",children:"Great job! You haven't made any mistakes yet (or you fixed them all)."})]})});if(l==="quiz")return k.jsx("div",{className:"flex-grow flex items-center justify-center w-full h-full",children:v.length>0&&_.length>=4?k.jsx(kb,{cards:v,allCards:_,topic:s}):k.jsxs("div",{className:"text-center p-8",children:[k.jsx("h2",{className:"text-xl font-bold mb-2",children:"Not Enough Cards"}),k.jsx("p",{className:"text-gray-400",children:v.length===0?"No cards available in this deck.":"You need at least 4 total cards in the library to play (for distractors)."})]})});if(l==="stats")return k.jsx(Eb,{});if(l==="search")return k.jsx(Tb,{});if(l==="import")return k.jsx(TA,{onDeckUpdate:p})};return k.jsxs("div",{className:"h-screen w-full bg-gray-900 text-white flex overflow-hidden",children:[k.jsx(Cb,{topics:g,currentTopic:s,onSelectTopic:o,currentMode:l,onSelectMode:c,isOpen:h,setIsOpen:d}),k.jsx("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-gray-900",children:x()})]})}W1.createRoot(document.getElementById("root")).render(k.jsx(ah.StrictMode,{children:k.jsx(LA,{})}));
